!function(p){"use strict";p(document).ready(function(){var e,t=p("body").prop("clientWidth"),a=p("#ig_hashtag"),s=a.find("#imageBox"),n=null==typeof a.attr("data-hidemobile")||!0===window.matchMedia("(max-width: 767px)").matches,o=void 0===a.attr("data-hashtag")?null:a.attr("data-hashtag").toLowerCase().trim(),d="batch",i=a.attr("data-images"),c=window.matchMedia("(max-width: 480px)").matches?2:parseInt(i,10),h=a.find(".ku-loading");function r(r){!0!=n?(s.empty(),r&&p.ajax({url:"https://cms.secure.ku.dk/instacms/instagramByUserOrTag/instagramScrapeToJson.php",type:"post",dataType:"json",data:{hashtag:o}}).done(function(a){h.hide();var t,i=a.entry_data.TagPage[0].graphql.hashtag.edge_hashtag_to_media.edges;p.each(i,function(a,e){var t,n=i[a].node.thumbnail_src,o=i[a].node.shortcode,d=void 0===i[a].node.edge_media_to_caption.edges[0]?a+": No caption":i[a].node.edge_media_to_caption.edges[0].node.text,t=d?(t=d.substring(0,50)+"...",String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")):"";return s.append('<a tabindex="-1" href="https://www.instagram.com/p/'+o+' " target="_blank" rel="noopener" aria-label="'+t+'"><img src="'+n+'" alt="'+r+'"></a>'),a<11}),p("a",s).each(function(a,e){(t=a%c==0?p("<div/>").addClass(d).appendTo(s):t).append(e)});p("."+d).wrapInner("<div class='inner'></div>"),s.rotator()}).fail(function(a,e,t){console.log(a.responseText)})):a.empty()}p.fn.rotator=function(i){i=p.extend({blocks:a.find("."+d),speed:6e3,fadeSpeed:800},i);var r=function(e){var t=p(i.blocks,e),n=t.length,o=-1;t.fadeIn(i.fadeSpeed);var d=setInterval(function(){o++;var a=t.eq(o);o==n&&(clearInterval(d),r(e)),a.index()!=n-1&&a.fadeOut(i.fadeSpeed)},i.speed)};return this.each(function(){var a,e,t=p(this);a=t,e=p(i.blocks,a).length,p(i.blocks,a).each(function(){e--,p(this).css("zIndex",e)}),r(t)})},o?r(o):console.log('Add Instagram hashtag to search for and number of images to display using data-hashtag="" and data-images="" on the container'),window.onresize=function(){var a=p("body").prop("clientWidth");a!==t&&(h.show(),clearTimeout(e),e=setTimeout(function(){r(o)},200),t=a)}})}(jQuery);
//# sourceMappingURL=instagramByHashtag.min.js.map