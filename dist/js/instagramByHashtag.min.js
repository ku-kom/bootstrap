!function(p){"use strict";p(document).ready(function(){var a,t=p("body").prop("clientWidth"),e=p("#ig_hashtag"),d=e.find("#imageBox"),n=null==typeof e.attr("data-hidemobile")||!0===window.matchMedia("(max-width: 767px)").matches,o=void 0===e.attr("data-hashtag")?null:e.attr("data-hashtag").toLowerCase().trim(),s="batch",r=e.attr("data-images"),c=window.matchMedia("(max-width: 480px)").matches?2:parseInt(r,10),h=e.find(".ku-loading");function i(i){if(!0!=n&&(d.empty(),i)){p.ajax({url:"https://cms.secure.ku.dk/instacms/instagramByUserOrTag/instagramScrapeToJson.php",type:"post",dataType:"json",data:{hashtag:o},success:function(e){console.log(e),h.hide();var t,r=e.entry_data.TagPage[0].graphql.hashtag.edge_hashtag_to_media.edges;p.each(r,function(e,a){var t=r[e].node.thumbnail_src,n=r[e].node.shortcode,o=r[e].node.edge_media_to_caption.edges[0].node.text;return o=o?function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}(o.substring(0,80)+"..."):"",d.append('<a tabindex="-1" href="https://www.instagram.com/p/'+n+' " target="_blank" rel="noopener" aria-label="'+o+'"><img src="'+t+'" alt="'+i+'"></a>'),e<11}),p("a",d).each(function(e,a){e%c==0&&(t=p("<div/>").addClass(s).appendTo(d)),t.append(a)});p("."+s).wrapInner("<div class='inner'></div>")},error:function(e,a,t){console.log(e.responseText)},complete:function(){d.rotator()}})}}p.fn.rotator=function(i){i=p.extend({blocks:e.find("."+s),speed:6e3,fadeSpeed:800},i);var d=function(a){var t=p(i.blocks,a),n=t.length,o=-1;t.fadeIn(i.fadeSpeed);var r=setInterval(function(){o++;var e=t.eq(o);o==n&&(clearInterval(r),d(a)),e.index()!=n-1&&e.fadeOut(i.fadeSpeed)},i.speed)};return this.each(function(){var e=p(this);!function(e){var a=p(i.blocks,e).length;p(i.blocks,e).each(function(){a--,p(this).css("zIndex",a)})}(e),d(e)})},o&&i(o),window.onresize=function(){var e=p("body").prop("clientWidth");e!==t&&(h.show(),clearTimeout(a),a=setTimeout(function(){i(o)},200),t=e)}})}(jQuery);
//# sourceMappingURL=instagramByHashtag.min.js.map