/**
* @preserve CanvasJS HTML5 & JavaScript Charts - v2.3.1 GA - https://canvasjs.com/
* Copyright 2018 fenopix
*
*  --------------------- License Information --------------------
* CanvasJS is a commercial product which requires purchase of license. Without a commercial license you can use it for evaluation purposes for upto 30 days. Please refer to the following link for further details.
*     https://canvasjs.com/license/
*
**/
!function(){var m=!1,Kt={},Et=!!document.createElement('canvas').getContext,g={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:'x',backgroundColor:'white',theme:'light1',animationEnabled:!0,animationDuration:1e3,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:'KU-red',culture:'en',creditHref:'',creditText:'CanvasJS',interactivityEnabled:!0,exportEnabled:!1,exportFileName:'Chart',rangeChanging:null,rangeChanged:null,publicProperties:{title:'readWrite',subtitles:'readWrite',toolbar:'readWrite',toolTip:'readWrite',legend:'readWrite',axisX:'readWrite',axisY:'readWrite',axisX2:'readWrite',axisY2:'readWrite',data:'readWrite',options:'readWrite',bounds:'readOnly',container:'readOnly'}},Title:{padding:0,text:null,verticalAlign:'top',horizontalAlign:'Left',fontSize:16,fontFamily:'Open Sans, arial',fontWeight:'normal',fontColor:'#252525',fontStyle:'normal',borderThickness:0,borderColor:'black',cornerRadius:0,backgroundColor:Et?'transparent':null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:'readWrite',bounds:'readOnly',chart:'readOnly'}},Subtitle:{padding:0,text:null,verticalAlign:'top',horizontalAlign:'left',fontSize:13,fontFamily:'Open Sans, arial',fontWeight:'normal',fontColor:'#252525',fontStyle:'normal',borderThickness:0,borderColor:'black',cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:'readWrite',bounds:'readOnly',chart:'readOnly'}},Toolbar:{backgroundColor:'white',backgroundColorOnHover:'#2196f3',borderColor:'#2196f3',borderThickness:1,fontColor:'black',fontColorOnHover:'white',publicProperties:{options:'readWrite',chart:'readOnly'}},Legend:{name:null,verticalAlign:'center',horizontalAlign:'right',fontSize:14,fontFamily:'Open Sans, arial',fontWeight:'normal',fontColor:'#252525',fontStyle:'normal',cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:Et?'transparent':null,borderColor:Et?'transparent':null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:'readWrite',bounds:'readOnly',chart:'readOnly'}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:Et?'rgba(255,255,255,.9)':'rgb(255,255,255)',borderColor:null,borderThickness:2,cornerRadius:5,fontSize:13,fontColor:'#252525',fontFamily:'Open Sans, Arial, Georgia, serif;',fontWeight:'normal',fontStyle:'normal',publicProperties:{options:'readWrite',chart:'readOnly'}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:'#252525',titleFontSize:16,titleFontFamily:'Open Sans, arial',titleFontWeight:'normal',titleFontStyle:'normal',titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:Et?'transparent':null,titleBorderColor:Et?'transparent':null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:'Open Sans, arial',labelFontColor:'#252525',labelFontSize:12,labelFontWeight:'normal',labelFontStyle:'normal',labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:Et?'transparent':null,labelBorderColor:Et?'transparent':null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:'outside',prefix:'',suffix:'',includeZero:!0,tickLength:5,tickColor:'#b1b1b1',tickThickness:1,lineColor:'#b1b1b1',lineThickness:1,lineDashType:'solid',gridColor:'#b1b1b1',gridThickness:0,gridDashType:'solid',interlacedColor:Et?'transparent':null,valueFormatString:null,margin:2,publicProperties:{options:'readWrite',stripLines:'readWrite',scaleBreaks:'readWrite',crosshair:'readWrite',bounds:'readOnly',chart:'readOnly'}},StripLine:{value:null,startValue:null,endValue:null,color:'orange',opacity:null,thickness:2,lineDashType:'solid',label:'',labelPlacement:'inside',labelAlign:'far',labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:Et?'transparent':null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:'Open Sans, arial',labelFontColor:'orange',labelFontSize:12,labelFontWeight:'normal',labelFontStyle:'normal',labelFormatter:null,showOnTop:!1,publicProperties:{options:'readWrite',axis:'readOnly',bounds:'readOnly',chart:'readOnly'}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:'25%',maxNumberOfAutoBreaks:2,spacing:8,type:'straight',color:'#FFFFFF',fillOpacity:.9,lineThickness:2,lineColor:'#E16E6E',lineDashType:'solid',publicProperties:{options:'readWrite',customBreaks:'readWrite',axis:'readOnly',autoBreaks:'readOnly',bounds:'readOnly',chart:'readOnly'}},Break:{startValue:null,endValue:null,spacing:8,type:'straight',color:'#FFFFFF',fillOpacity:.9,lineThickness:2,lineColor:'#E16E6E',lineDashType:'solid',publicProperties:{options:'readWrite',scaleBreaks:'readOnly',bounds:'readOnly',chart:'readOnly'}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:'grey',opacity:null,thickness:2,lineDashType:'solid',label:'',labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:Et?'grey':null,labelBorderColor:Et?'grey':null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:Et?'Calibri, Optima, Candara, Verdana, Geneva, sans-serif':'calibri',labelFontSize:12,labelFontColor:'#fff',labelFontWeight:'normal',labelFontStyle:'normal',labelFormatter:null,valueFormatString:null,publicProperties:{options:'readWrite',axis:'readOnly',bounds:'readOnly',chart:'readOnly'}},DataSeries:{name:null,dataPoints:null,label:'',bevelEnabled:!1,highlightEnabled:!0,cursor:'default',indexLabel:'',indexLabelPlacement:'auto',indexLabelOrientation:'horizontal',indexLabelFontColor:'#252525',indexLabelFontSize:12,indexLabelFontStyle:'normal',indexLabelFontFamily:'Open Sans',indexLabelFontWeight:'normal',indexLabelBackgroundColor:null,indexLabelLineColor:'gray',indexLabelLineThickness:1,indexLabelLineDashType:'solid',indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:'solid',connectNullData:!1,nullDataLineDashType:'dash',color:null,lineColor:null,risingColor:'white',fallingColor:'red',fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:'solid',whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:'solid',upperBoxColor:'white',lowerBoxColor:'white',type:'column',xValueType:'number',axisXType:'primary',axisYType:'primary',axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:Et?'transparent':null,legendMarkerBorderThickness:0,markerType:'square',markerColor:null,markerSize:null,markerBorderColor:Et?'transparent':null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:'readWrite',axisX:'readWrite',axisY:'readWrite',chart:'readOnly'}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:'',horizontalAlign:'center',fontSize:12,fontFamily:'Open Sans, arial',fontWeight:'normal',fontColor:'black',fontStyle:'normal',borderThickness:0,borderColor:'black',cornerRadius:0,backgroundColor:null,textBaseline:'top'},CultureInfo:{decimalSeparator:',',digitGroupSeparator:'.',zoomText:'Zoom',panText:'Pan',resetText:'Reset',menuText:'More Options',saveJPGText:'Save as JPEG',savePNGText:'Save as PNG',printText:'Print',days:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],shortDays:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],months:['January','February','March','April','May','June','July','August','September','October','November','December'],shortMonths:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']}},h={en:{}},t=Et?'Open Sans, Helvetica, sans-serif':'Arial',d=Et?'Open Sans, Charcoal, sans-serif':'Arial',n={'KU-red':['#901a1e','#a13c40','#b15f61','#c78c8e','#d8afb0'],'KU-grey':['#666','#858585','#9c9c9c','#b2b2b2','#c9c9c9','#e0e0e0'],colorSet1:['#4F81BC','#C0504E','#9BBB58','#23BFAA','#8064A1','#4AACC5','#F79647','#7F6084','#77A033','#33558B','#E59566'],colorSet2:['#6D78AD','#51CDA0','#DF7970','#4C9CA0','#AE7D99','#C9D45C','#5592AD','#DF874D','#52BCA8','#8E7AA3','#E3CB64','#C77B85','#C39762','#8DD17E','#B57952','#FCC26C'],colorSet3:['#8CA1BC','#36845C','#017E82','#8CB9D0','#708C98','#94838D','#F08891','#0366A7','#008276','#EE7757','#E5BA3A','#F2990B','#03557B','#782970']},e='#252525',i='grey',a='#b1b1b1',s='grey',o='#666666',l=12,x={colorSet:'KU-red',backgroundColor:'#FFFFFF',title:{fontFamily:d,fontSize:18,fontColor:e,fontWeight:'600',verticalAlign:'top',margin:5},subtitles:[{fontFamily:d,fontSize:l,fontColor:e,fontWeight:'normal',verticalAlign:'top',margin:5}],data:[{indexLabelFontFamily:t,indexLabelFontSize:l,indexLabelFontColor:e,indexLabelFontWeight:'normal',indexLabelLineThickness:1}],axisX:[{titleFontFamily:t,titleFontSize:14,titleFontColor:e,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a,tickThickness:1,tickColor:a,gridThickness:0,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#666666',labelFontWeight:'normal',labelBackgroundColor:o,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#666666',lineThickness:1,lineDashType:'solid'}}],axisX2:[{titleFontFamily:t,titleFontSize:14,titleFontColor:e,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a,tickThickness:1,tickColor:a,gridThickness:0,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#666666',labelFontWeight:'normal',labelBackgroundColor:o,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#666666',lineThickness:1,lineDashType:'solid'}}],axisY:[{titleFontFamily:t,titleFontSize:14,titleFontColor:e,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a,tickThickness:1,tickColor:a,gridThickness:1,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#666666',labelFontWeight:'normal',labelBackgroundColor:o,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#666666',lineThickness:1,lineDashType:'solid'}}],axisY2:[{titleFontFamily:t,titleFontSize:14,titleFontColor:e,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a,tickThickness:1,tickColor:a,gridThickness:1,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#EEEEEE',labelFontWeight:'normal',labelBackgroundColor:o,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#BBBBBB',lineThickness:1,lineDashType:'solid'}}],legend:{fontFamily:t,fontSize:14,fontColor:e,fontWeight:'bold',verticalAlign:'bottom',horizontalAlign:'center'},toolTip:{fontFamily:t,fontSize:14,fontStyle:'normal',cornerRadius:0,borderThickness:1}},c={colorSet:'colorSet2',title:{fontFamily:t,fontSize:33,fontColor:'#3A3A3A',fontWeight:'bold',verticalAlign:'top',margin:5},subtitles:[{fontFamily:t,fontSize:l=14,fontColor:'#3A3A3A',fontWeight:'normal',verticalAlign:'top',margin:5}],data:[{indexLabelFontFamily:t,indexLabelFontSize:l,indexLabelFontColor:'#666666',indexLabelFontWeight:'normal',indexLabelLineThickness:1}],axisX:[{titleFontFamily:t,titleFontSize:20,titleFontColor:'#666666',titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:'#666666',labelFontWeight:'normal',lineThickness:1,lineColor:'#BBBBBB',tickThickness:1,tickColor:'#BBBBBB',gridThickness:1,gridColor:'#BBBBBB',stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FFA500',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FFA500',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#EEEEEE',labelFontWeight:'normal',labelBackgroundColor:'black',color:'black',thickness:1,lineDashType:'dot'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#BBBBBB',lineThickness:1,lineDashType:'solid'}}],axisX2:[{titleFontFamily:t,titleFontSize:20,titleFontColor:'#666666',titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:'#666666',labelFontWeight:'normal',lineThickness:1,lineColor:'#BBBBBB',tickColor:'#BBBBBB',tickThickness:1,gridThickness:1,gridColor:'#BBBBBB',stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FFA500',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FFA500',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#EEEEEE',labelFontWeight:'normal',labelBackgroundColor:'black',color:'black',thickness:1,lineDashType:'dot'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#BBBBBB',lineThickness:1,lineDashType:'solid'}}],axisY:[{titleFontFamily:t,titleFontSize:20,titleFontColor:'#666666',titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:'#666666',labelFontWeight:'normal',lineThickness:0,lineColor:'#BBBBBB',tickColor:'#BBBBBB',tickThickness:1,gridThickness:1,gridColor:'#BBBBBB',stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FFA500',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FFA500',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#EEEEEE',labelFontWeight:'normal',labelBackgroundColor:'black',color:'black',thickness:1,lineDashType:'dot'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#BBBBBB',lineThickness:1,lineDashType:'solid'}}],axisY2:[{titleFontFamily:t,titleFontSize:20,titleFontColor:'#666666',titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:'#666666',labelFontWeight:'normal',lineThickness:0,lineColor:'#BBBBBB',tickColor:'#BBBBBB',tickThickness:1,gridThickness:1,gridColor:'#BBBBBB',stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FFA500',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FFA500',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#EEEEEE',labelFontWeight:'normal',labelBackgroundColor:'black',color:'black',thickness:1,lineDashType:'dot'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#BBBBBB',lineThickness:1,lineDashType:'solid'}}],legend:{fontFamily:t,fontSize:14,fontColor:'#3A3A3A',fontWeight:'bold',verticalAlign:'bottom',horizontalAlign:'center'},toolTip:{fontFamily:t,fontSize:14,fontStyle:'normal',cornerRadius:0,borderThickness:1}},p={light1:x,light2:c,dark1:{colorSet:'colorSet12',backgroundColor:'#2A2A2A',title:{fontFamily:d,fontSize:32,fontColor:e=e='#F5F5F5',fontWeight:'normal',verticalAlign:'top',margin:5},subtitles:[{fontFamily:d,fontSize:l=14,fontColor:e,fontWeight:'normal',verticalAlign:'top',margin:5}],toolbar:{backgroundColor:'#666666',backgroundColorOnHover:'#FF7372',borderColor:'#FF7372',borderThickness:1,fontColor:i='#F5F5F5',fontColorOnHover:'#F5F5F5'},data:[{indexLabelFontFamily:t,indexLabelFontSize:l,indexLabelFontColor:i,indexLabelFontWeight:'normal',indexLabelLineThickness:1}],axisX:[{titleFontFamily:t,titleFontSize:20,titleFontColor:i,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a='#FFFFFF',tickThickness:1,tickColor:a,gridThickness:0,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#000000',labelFontWeight:'normal',labelBackgroundColor:i,color:s='#40BAF1',thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#777777',lineThickness:1,lineDashType:'solid',color:'#111111'}}],axisX2:[{titleFontFamily:t,titleFontSize:20,titleFontColor:i,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a,tickThickness:1,tickColor:a,gridThickness:0,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#000000',labelFontWeight:'normal',labelBackgroundColor:i,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#777777',lineThickness:1,lineDashType:'solid',color:'#111111'}}],axisY:[{titleFontFamily:t,titleFontSize:20,titleFontColor:i,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a,tickThickness:1,tickColor:a,gridThickness:1,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#000000',labelFontWeight:'normal',labelBackgroundColor:i,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#777777',lineThickness:1,lineDashType:'solid',color:'#111111'}}],axisY2:[{titleFontFamily:t,titleFontSize:20,titleFontColor:i,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a,tickThickness:1,tickColor:a,gridThickness:1,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#000000',labelFontWeight:'normal',labelBackgroundColor:i,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#777777',lineThickness:1,lineDashType:'solid',color:'#111111'}}],legend:{fontFamily:t,fontSize:14,fontColor:e,fontWeight:'bold',verticalAlign:'bottom',horizontalAlign:'center'},toolTip:{fontFamily:t,fontSize:14,fontStyle:'normal',cornerRadius:0,borderThickness:1,fontColor:i,backgroundColor:'rgba(0, 0, 0, .7)'}},dark2:{colorSet:'colorSet2',backgroundColor:'#32373A',title:{fontFamily:t,fontSize:32,fontColor:e='#FAFAFA',fontWeight:'normal',verticalAlign:'top',margin:5},subtitles:[{fontFamily:t,fontSize:l=14,fontColor:e,fontWeight:'normal',verticalAlign:'top',margin:5}],toolbar:{backgroundColor:'#666666',backgroundColorOnHover:'#FF7372',borderColor:'#FF7372',borderThickness:1,fontColor:o='#F5F5F5',fontColorOnHover:'#F5F5F5'},data:[{indexLabelFontFamily:t,indexLabelFontSize:l,indexLabelFontColor:i='#FAFAFA',indexLabelFontWeight:'normal',indexLabelLineThickness:1}],axisX:[{titleFontFamily:t,titleFontSize:20,titleFontColor:i,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a='#FFFFFF',tickThickness:1,tickColor:a,gridThickness:0,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#000000',labelFontWeight:'normal',labelBackgroundColor:o,color:s='#40BAF1',thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#777777',lineThickness:1,lineDashType:'solid',color:'#111111'}}],axisX2:[{titleFontFamily:t,titleFontSize:20,titleFontColor:i,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:1,lineColor:a,tickThickness:1,tickColor:a,gridThickness:0,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#000000',labelFontWeight:'normal',labelBackgroundColor:o,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#777777',lineThickness:1,lineDashType:'solid',color:'#111111'}}],axisY:[{titleFontFamily:t,titleFontSize:20,titleFontColor:i,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:0,lineColor:a,tickThickness:1,tickColor:a,gridThickness:1,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#000000',labelFontWeight:'normal',labelBackgroundColor:o,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#777777',lineThickness:1,lineDashType:'solid',color:'#111111'}}],axisY2:[{titleFontFamily:t,titleFontSize:20,titleFontColor:i,titleFontWeight:'normal',labelFontFamily:t,labelFontSize:l,labelFontColor:i,labelFontWeight:'normal',lineThickness:0,lineColor:a,tickThickness:1,tickColor:a,gridThickness:1,gridColor:a,stripLines:[{labelFontFamily:t,labelFontSize:l,labelFontColor:'#FF7300',labelFontWeight:'normal',labelBackgroundColor:null,color:'#FF7300',thickness:1}],crosshair:{labelFontFamily:t,labelFontSize:l,labelFontColor:'#000000',labelFontWeight:'normal',labelBackgroundColor:o,color:s,thickness:1,lineDashType:'dash'},scaleBreaks:{type:'zigzag',spacing:'2%',lineColor:'#777777',lineThickness:1,lineDashType:'solid',color:'#111111'}}],legend:{fontFamily:t,fontSize:14,fontColor:e,fontWeight:'bold',verticalAlign:'bottom',horizontalAlign:'center'},toolTip:{fontFamily:t,fontSize:14,fontStyle:'normal',cornerRadius:0,borderThickness:1,fontColor:i,backgroundColor:'rgba(0, 0, 0, .7)'}},theme1:x,theme2:c,theme3:x},u={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday']};function b(t,e){function i(){}var a;t.prototype=(a=e.prototype,i.prototype=a,new i),(t.prototype.constructor=t).base=e.prototype}function E(t,e,i){return'millisecond'===i?t.setMilliseconds(t.getMilliseconds()+ +e):'second'===i?t.setSeconds(t.getSeconds()+ +e):'minute'===i?t.setMinutes(t.getMinutes()+ +e):'hour'===i?t.setHours(t.getHours()+ +e):'day'===i?t.setDate(t.getDate()+ +e):'week'===i?t.setDate(t.getDate()+7*e):'month'===i?t.setMonth(t.getMonth()+ +e):'year'===i&&t.setFullYear(t.getFullYear()+ +e),t}function R(t,e){return u[e+'Duration']*t}function B(t,e){var i=!1;for(t<0&&(i=!0,t*=-1),t=''+t,e=e||1;t.length<e;)t='0'+t;return i?'-'+t:t}function I(t){if(!t)return t;for(var e=/\s/,i=(t=t.replace(/^\s\s*/,'')).length;e.test(t.charAt(--i)););return t.slice(0,i+1)}function Rt(t){t.roundRect=function(t,e,i,a,s,n,o,l){o&&(this.fillStyle=o),l&&(this.strokeStyle=l),void 0===s&&(s=5),this.lineWidth=n,this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-s,e),this.quadraticCurveTo(t+i,e,t+i,e+s),this.lineTo(t+i,e+a-s),this.quadraticCurveTo(t+i,e+a,t+i-s,e+a),this.lineTo(t+s,e+a),this.quadraticCurveTo(t,e+a,t,e+a-s),this.lineTo(t,e+s),this.quadraticCurveTo(t,e,t+s,e),this.closePath(),o&&this.fill(),l&&0<n&&this.stroke()}}function N(t,e){return t-e}function V(e,i,t){if(e&&i&&t){var t=t+'.'+i,a='image/'+i,e=e.toDataURL(a),s=!1,n=document.createElement('a');if(n.download=t,n.href=e,'undefined'!=typeof Blob&&new Blob){for(var o=e.replace(/^data:[a-z\/]*;base64,/,''),l=atob(o),o=new ArrayBuffer(l.length),r=new Uint8Array(o),h=0;h<l.length;h++)r[h]=l.charCodeAt(h);o=new Blob([r.buffer],{type:'image/'+i});try{window.navigator.msSaveBlob(o,t),s=!0}catch(t){n.dataset.downloadurl=[a,n.download,n.href].join(':'),n.href=window.URL.createObjectURL(o)}}if(!s)try{(event=document.createEvent('MouseEvents')).initMouseEvent('click',!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent?n.dispatchEvent(event):n.fireEvent&&n.fireEvent('onclick')}catch(t){i=window.open();i.document.write('<img src=\''+e+'\'></img><div>Please right click on the image and save it to your device</div>'),i.document.close()}}}function H(t){var e=((16711680&t)>>16).toString(16),i=((65280&t)>>8).toString(16),t=((255&t)>>0).toString(16);return'#'+(e.length<2?'0'+e:e)+(i.length<2?'0'+i:i)+(t.length<2?'0'+t:t)}function k(t){var e=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=e);i<e;i++)if(i in this&&this[i]===t)return i;return-1}function Nt(t){return null==t}function Ht(t){return t.indexOf||(t.indexOf=k),t}var S={},r=null;function W(t,e,i){var a=t+'_'+e+'_'+(i=i||'normal'),s=S[a];if(isNaN(s)){try{var n,o,l='position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:'+t+'; font-size:'+e+'px; font-weight:'+i+';';r||(n=document.body,(r=document.createElement('span')).innerHTML='',o=document.createTextNode('Mpgyi'),r.appendChild(o),n.appendChild(r)),r.style.display='',r.setAttribute('style',l),s=Math.round(r.offsetHeight),r.style.display='none'}catch(t){s=Math.ceil(1.1*e)}s=Math.max(s,e),S[a]=s}return s}function Ut(t,e){var i=[];if(i={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t=t||'solid'])for(var a=0;a<i.length;a++)i[a]*=e;else i=[];return i}function y(e,t,i,a,s){return(a=a||[]).push([e,t,i,s=s||!1]),e.addEventListener?(e.addEventListener(t,i,s),i):!!e.attachEvent&&(e.attachEvent('on'+t,a=function(t){(t=t||window.event).preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},i.call(e,t)}),a)}function j(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))}function K(t,e,i){return e=e||this.width,i=i||this.height,e=Math.min(this.width,this.height),Math.max('theme4'===this.theme?0:300<=e?12:10,Math.round(e*(t/400)))}function X(t,e,i){if(null===t)return'';if(!isFinite(t))return t;for(var a=(t=Number(t))<0,s=(a&&(t*=-1),i?i.decimalSeparator:'.'),n=i?i.digitGroupSeparator:',',o=(e=String(e),1),l='',r=-1,h=[],d=[],x=0,c=0,p=0,u=!1,m=0,g=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|‰|./g),b=null,y=0;g&&y<g.length;y++)if('.'===(b=g[y])&&r<0)r=y;else{if('%'===b)o*=100;else{if('‰'===b){o*=1e3;continue}if(','===b[0]&&'.'===b[b.length-1]){o/=Math.pow(1e3,b.length-1),r=y+b.length-1;continue}'E'!==b[0]&&'e'!==b[0]||'0'!==b[b.length-1]||(u=!0)}r<0?(h.push(b),'#'===b||'0'===b?x++:','===b&&p++):(d.push(b),'#'!==b&&'0'!==b||c++)}u&&(i=Math.floor(t),e=-Math.floor(Math.log(t)/Math.LN10+1),m=0===t?0:0===i?-(x+e):String(i).length-x,o/=Math.pow(10,m)),r<0&&(r=y);for(var v=((e=(t*=o).toFixed(c).split('.'))[0]+'').split(''),f=(e[1]+'').split(''),M=(v&&'0'===v[0]&&v.shift(),0),k=0,T=0,P=0,w=0;0<h.length;)if('#'===(b=h.pop())||'0'===b)if(++M===x){var C=v,v=[];if('0'===b)for(var S=x-k-(C?C.length:0);0<S;)C.unshift('0'),S--;for(;0<C.length;)l=C.pop()+l,++w%P==0&&T===p&&0<C.length&&(l=n+l)}else 0<v.length?(l=v.pop()+l,k++,w++):'0'===b&&(l='0'+l,k++,w++),w%P==0&&T===p&&0<v.length&&(l=n+l);else'E'!==b[0]&&'e'!==b[0]||'0'!==b[b.length-1]||!/[eE][+-]*[0]+/.test(b)?','===b?(T++,P=w,(w=0)<v.length&&(l=n+l)):l=1<b.length&&('"'===b[0]&&'"'===b[b.length-1]||'\''===b[0]&&'\''===b[b.length-1])?b.slice(1,b.length-1)+l:b+l:l+=(b=(m<0?b.replace('+',''):b).replace('-','')).replace(/[0]+/,function(t){return B(m,t.length)});for(var A='',_=!1;0<d.length;)'#'===(b=d.shift())||'0'===b?0<f.length&&0!==Number(f.join(''))?(A+=f.shift(),_=!0):'0'===b&&(A+='0',_=!0):1<b.length&&('"'===b[0]&&'"'===b[b.length-1]||'\''===b[0]&&'\''===b[b.length-1])?A+=b.slice(1,b.length-1):'E'!==b[0]&&'e'!==b[0]||'0'!==b[b.length-1]||!/[eE][+-]*[0]+/.test(b)?A+=b:A+=(b=(m<0?b.replace('+',''):b).replace('-','')).replace(/[0]+/,function(t){return B(m,t.length)});return l+=(_?s:'')+A,a?'-'+l:l}_=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,L=['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],z=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],O=['January','February','March','April','May','June','July','August','September','October','November','December'],q=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],G=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,J=/[^-+\dA-Z]/g;var _,L,z,O,q,G,J,Y=function(e,t,i){var a=i?i.days:L,s=i?i.months:O,n=i?i.shortDays:z,o=i?i.shortMonths:q,l=!1;if(e=e&&e.getTime?e:e?new Date(e):new Date,isNaN(e))throw SyntaxError('invalid date');'UTC:'===t.slice(0,4)&&(t=t.slice(4),l=!0);var i=l?'getUTC':'get',r=e[i+'Date'](),h=e[i+'Day'](),d=e[i+'Month'](),x=e[i+'FullYear'](),c=e[i+'Hours'](),p=e[i+'Minutes'](),u=e[i+'Seconds'](),m=e[i+'Milliseconds'](),g=l?0:e.getTimezoneOffset();return t.replace(_,function(t){switch(t){case'D':return r;case'DD':return B(r,2);case'DDD':return n[h];case'DDDD':return a[h];case'M':return d+1;case'MM':return B(d+1,2);case'MMM':return o[d];case'MMMM':return s[d];case'Y':return parseInt(String(x).slice(-2));case'YY':return B(String(x).slice(-2),2);case'YYY':return B(String(x).slice(-3),3);case'YYYY':return B(x,4);case'h':return c%12||12;case'hh':return B(c%12||12,2);case'H':return c;case'HH':return B(c,2);case'm':return p;case'mm':return B(p,2);case's':return u;case'ss':return B(u,2);case'f':return String(m).slice(0,1);case'ff':return B(String(m).slice(0,2),2);case'fff':return B(String(m).slice(0,3),3);case't':return c<12?'a':'p';case'tt':return c<12?'am':'pm';case'T':return c<12?'A':'P';case'TT':return c<12?'AM':'PM';case'K':return l?'UTC':(String(e).match(G)||['']).pop().replace(J,'');case'z':return(0<g?'-':'+')+Math.floor(Math.abs(g)/60);case'zz':return(0<g?'-':'+')+B(Math.floor(Math.abs(g)/60),2);case'zzz':return(0<g?'-':'+')+B(Math.floor(Math.abs(g)/60),2)+B(Math.abs(g)%60,2);default:return t.slice(1,t.length-1)}})};function Q(t,e,i){t*=v,e*=v;for(var a=i.getImageData(t,e,2,2).data,s=!0,n=0;n<4;n++)if(a[n]!==a[n+4]|a[n]!==a[n+8]|a[n]!==a[n+12]){s=!1;break}return s?(i=a[0],t=a[1],e=a[2],i<<16|t<<8|e):0}function Z(t){var e=0,i=0,i=(t=t||window.event).offsetX||0===t.offsetX?(e=t.offsetX,t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,t.layerY):(e=t.pageX-t.target.offsetLeft,t.pageY-t.target.offsetTop);return{x:e,y:i}}function D(t,e,i){return(t in e?e:i)[t]}var $=window.devicePixelRatio||1,tt=1,v=$/tt;function et(t,e,i){var a;Et?(a=t.getContext('2d'),tt=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1,v=$/tt,t.width=e*v,t.height=i*v,$!==tt&&(t.style.width=e+'px',t.style.height=i+'px',a.scale(v,v))):(t.width=e,t.height=i)}function U(t,e,i,a,s,n,o,l,r,h,d,x,c){void 0===c&&(c=1),o=o||0,l=l||'black';var p,u,m=e,g=a,b=i,y=s,v=(p=15<a-e&&15<s-i?8:.35*Math.min(a-e,s-i),'rgba(255, 255, 255, .4)'),f='rgba(255, 255, 255, 0.1)';t.beginPath(),t.moveTo(e,i),t.save(),t.fillStyle=n,t.globalAlpha=c,t.fillRect(e,i,a-e,s-i),t.globalAlpha=1,0<o&&(c=o%2==0?0:.5,t.beginPath(),t.lineWidth=o,t.strokeStyle=l,t.moveTo(e,i),t.rect(e-c,i-c,a-e+2*c,s-i+2*c),t.stroke()),t.restore(),!0===r&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(a-p,i+p),t.lineTo(a,i),t.closePath(),(u=t.createLinearGradient((a+e)/2,b+p,(a+e)/2,b)).addColorStop(0,n),u.addColorStop(1,v),t.fillStyle=u,t.fill(),t.restore()),!0===h&&(t.save(),t.beginPath(),t.moveTo(e,s),t.lineTo(e+p,s-p),t.lineTo(a-p,s-p),t.lineTo(a,s),t.closePath(),(u=t.createLinearGradient((a+e)/2,y-p,(a+e)/2,y)).addColorStop(0,n),u.addColorStop(1,v),t.fillStyle=u,t.fill(),t.restore()),!0===d&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(e+p,s-p),t.lineTo(e,s),t.closePath(),(u=t.createLinearGradient(m+p,(s+i)/2,m,(s+i)/2)).addColorStop(0,n),u.addColorStop(1,f),t.fillStyle=u,t.fill(),t.restore()),!0===x&&(t.save(),t.beginPath(),t.moveTo(a,i),t.lineTo(a-p,i+p),t.lineTo(a-p,s-p),t.lineTo(a,s),(u=t.createLinearGradient(g-p,(s+i)/2,g,(s+i)/2)).addColorStop(0,n),u.addColorStop(1,f),(t.fillStyle=u).addColorStop(0,n),u.addColorStop(1,f),t.fillStyle=u,t.fill(),t.closePath(),t.restore())}function f(t){for(var e='',i=0;i<t.length;i++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(i));return e}var it=window&&window[f('mnb`uhno')]&&window[f('mnb`uhno')].href&&window[f('mnb`uhno')].href.indexOf&&(-1!==window[f('mnb`uhno')].href.indexOf(f('b`ow`rkr/bnl'))||-1!==window[f('mnb`uhno')].href.indexOf(f('gdonqhy/bnl'))||-1!==window[f('mnb`uhno')].href.indexOf(f('gheemd')))&&-1===window[f('mnb`uhno')].href.indexOf(f('gheemd'));function M(t,e){m&&(this.canvasCount=0|this.canvasCount,window.console.log(++this.canvasCount));var i=document.createElement('canvas');return i.setAttribute('class','canvasjs-chart-canvas'),et(i,t,e),Et||'undefined'==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(i),i}var at={reset:{image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=='},pan:{image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC'},zoom:{image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII='},menu:{image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC'},handle:{image:'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII='}};function T(t,e,i){for(var a in i)e.style[a]=i[a]}function P(t,e,i){e.getAttribute('state')||(e.style.backgroundColor=t.toolbar.backgroundColor,e.style.color=t.toolbar.fontColor,e.style.border='none',T(0,e,{WebkitUserSelect:'none',MozUserSelect:'none',msUserSelect:'none',userSelect:'none'})),e.getAttribute('state')!==i&&(e.setAttribute('state',i),e.setAttribute('type','button'),T(0,e,{padding:'5px 12px',cursor:'pointer',float:'left',width:'40px',height:'25px',outline:'0px',verticalAlign:'baseline',lineHeight:'0'}),e.setAttribute('title',t._cultureInfo[i+'Text']),e.innerHTML='<img style=\'height:95%; pointer-events: none;\' src=\''+at[i].image+'\' alt=\''+t._cultureInfo[i+'Text']+'\' />')}function st(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e]).style&&(t.style.display='inline')}function w(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display='none')}function C(t,e,i,a,s){this._defaultsKey=t,this._themeOptionsKey=e,this._index=a,this.parent=s,this._eventListeners=[];t={};this.theme&&Nt(e)&&Nt(a)?t=Nt(p[this.theme])?p.light1:p[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[e]&&(null===a?t=this.parent.themeOptions[e]:0<this.parent.themeOptions[e].length&&(s=Math.min(this.parent.themeOptions[e].length-1,a),t=this.parent.themeOptions[e][s])),this.themeOptions=t,this.options=i||{_isPlaceholder:!0},this.setOptions(this.options,t)}function A(t,e,i,a,s){this._padding=s=void 0===s?0:s,this._x1=t,this._y1=e,this._x2=i,this._y2=a,this._topOccupied=this._padding,this._bottomOccupied=this._padding,this._leftOccupied=this._padding,this._rightOccupied=this._padding}function jt(t,e){jt.base.constructor.call(this,'TextBlock',null,e,null,null),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._initialize()}function nt(t,e){nt.base.constructor.call(this,'Toolbar','toolbar',e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName='toolbar'}function F(t,e){if(F.base.constructor.call(this,'Title','title',e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName='title',Nt(this.options.margin)&&t.options.subtitles)for(var i=t.options.subtitles,a=0;a<i.length;a++)if((Nt(i[a].horizontalAlign)&&'center'===this.horizontalAlign||i[a].horizontalAlign===this.horizontalAlign)&&(Nt(i[a].verticalAlign)&&'top'===this.verticalAlign||i[a].verticalAlign===this.verticalAlign)&&!i[a].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.width=null,this.height=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function ot(t,e,i){ot.base.constructor.call(this,'Subtitle','subtitles',e,i,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName='subtitles',this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.width=null,this.height=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function lt(){this.pool=[]}function rt(t){var e;t&&h[t]&&(e=h[t]),rt.base.constructor.call(this,'CultureInfo',null,e,null,null)}C.prototype.setOptions=function(t,e){if(g[this._defaultsKey]){var i,a=g[this._defaultsKey];for(i in a)'publicProperties'!==i&&a.hasOwnProperty(i)&&(t&&i in t?this[i]=t[i]:e&&i in e?this[i]=e[i]:this[i]=a[i])}else m&&window.console&&console.log('defaults not set')},C.prototype.get=function(t){var e=g[this._defaultsKey];return'options'===t?this.options&&this.options._isPlaceholder?null:this.options:e.hasOwnProperty(t)||e.publicProperties&&e.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+'" doesn\'t exist. Please check for typo.'))},C.prototype.set=function(t,e,i){i=void 0===i||i;var a=g[this._defaultsKey];if('options'===t)this.createUserOptions(e);else{if(!(a.hasOwnProperty(t)||a.publicProperties&&a.publicProperties.hasOwnProperty(t)&&'readWrite'===a.publicProperties[t]))return void(window.console&&(a.publicProperties&&a.publicProperties.hasOwnProperty(t)&&'readOnly'===a.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+'" doesn\'t exist. Please check for typo.')));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=e}i&&(this.stockChart||this.chart||this).render()},C.prototype.addTo=function(t,e,i,a){a=void 0===a||a;var s,n=g[this._defaultsKey];n.hasOwnProperty(t)||n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&'readWrite'===n.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[t]&&(this.options[t]=[]),s=this.options[t],i=null==i?s.length:i,s.splice(i,0,e),a&&(this.chart||this).render()):window.console&&(n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&'readOnly'===n.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+'" doesn\'t exist. Please check for typo.'))},C.prototype.createUserOptions=function(t){var e,i;void 0===t&&!this.options._isPlaceholder||(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray?(this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]),i=(e=this.parent.options[this.optionsName]).length,this.options._isPlaceholder||(Ht(e),i=e.indexOf(this.options)),this.options=void 0===t?{}:t,e[i]=this.options):(this.options=void 0===t?{}:t,this.parent.options[this.optionsName||function(t){var e;if(t&&0!==t.length)return e=t.charAt(0).toLowerCase(),1<t.length?e.concat(t.slice(1)):e}(this._defaultsKey)]=this.options))},C.prototype.remove=function(t){var e,i;t=void 0===t||t,this.isOptionsInArray?(Ht(e=this.parent.options[this.optionsName]),0<=(i=e.indexOf(this.options))&&e.splice(i,1)):delete this.parent.options[this.optionsName],t&&(this.chart||this).render()},C.prototype.updateOption=function(t){!g[this._defaultsKey]&&m&&window.console&&console.log('defaults not set');var e=g[this._defaultsKey],i={},a=this[t],s=this._themeOptionsKey,n=this._index;return this.theme&&Nt(s)&&Nt(n)?i=Nt(p[this.theme])?p.light1:p[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[s]&&(null===n?i=this.parent.themeOptions[s]:0<this.parent.themeOptions[s].length&&(n=Math.min(this.parent.themeOptions[s].length-1,n),i=this.parent.themeOptions[s][n])),this.themeOptions=i,(a=t in e?(t in this.options?this.options:i&&t in i?i:e)[t]:a)!==this[t]&&(this[t]=a,!0)},C.prototype.trackChanges=function(t){if(!this.sessionVariables)throw'Session Variable Store not set';this.sessionVariables[t]=this.options[t]},C.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},C.prototype.hasOptionChanged=function(t){if(this.sessionVariables)return!(this.sessionVariables[t]===this.options[t]);throw'Session Variable Store not set'},C.prototype.addEventListener=function(t,e,i){t&&e&&(i=i||this,this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:i,eventHandler:e}))},C.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var i=this._eventListeners[t],a=0;a<i.length;a++)if(i[a].eventHandler===e){i[a].splice(a,1);break}},C.prototype.removeAllEventListeners=function(){this._eventListeners=[]},C.prototype.dispatchEvent=function(t,e,i){if(t&&this._eventListeners[t]){e=e||{};for(var a=this._eventListeners[t],s=0;s<a.length;s++)a[s].eventHandler.call(a[s].context,e)}'function'==typeof this[t]&&this[t].call(i||this.chart,e)},A.prototype.registerSpace=function(t,e){'top'===t?this._topOccupied+=e.height:'bottom'===t?this._bottomOccupied+=e.height:'left'===t?this._leftOccupied+=e.width:'right'===t&&(this._rightOccupied+=e.width)},A.prototype.unRegisterSpace=function(t,e){'top'===t?this._topOccupied-=e.height:'bottom'===t?this._bottomOccupied-=e.height:'left'===t?this._leftOccupied-=e.width:'right'===t&&(this._rightOccupied-=e.width)},A.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},A.prototype.reset=function(){this._topOccupied=this._padding,this._bottomOccupied=this._padding,this._leftOccupied=this._padding,this._rightOccupied=this._padding},b(jt,C),jt.prototype._initialize=function(){Nt(this.padding)||'object'!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=Nt(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=Nt(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=Nt(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=Nt(this.padding.left)?0:0|Number(this.padding.left))},jt.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var e,i=this.ctx.font,a=(this.ctx.textBaseline=this.textBaseline,0),s=(this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+a),'middle'===this.textBaseline&&(a=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle),0),n=this.topPadding;this.ctx.roundRect||Rt(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,a,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor;for(var o=0;o<this._wrappedText.lines.length;o++)e=this._wrappedText.lines[o],'right'===this.horizontalAlign?s=(this.width-(this.leftPadding+this.rightPadding))/2-e.width/2+this.leftPadding:'left'===this.horizontalAlign?s=this.leftPadding:'center'===this.horizontalAlign&&(s=(this.width-(this.leftPadding+this.rightPadding))/2-e.width/2+this.leftPadding),this.ctx.fillText(e.text,s,n),n+=e.height;this.ctx.font=i,t&&this.ctx.restore()}},jt.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},jt.prototype.measureText=function(){if(this._lineHeight=W(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw'Please set maxWidth and height for TextBlock';return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},jt.prototype._getLineWithWidth=function(t,e,i){if(!(t=String(t)))return{text:'',width:0};var a=0,s=0,n=t.length-1;for(this.ctx.font=this._getFontString();s<=n;){var o=Math.floor((s+n)/2),l=t.substr(0,o+1);if((a=this.ctx.measureText(l).width)<e)s=o+1;else{if(!(e<a))break;n=o-1}}e<a&&1<l.length&&(l=l.substr(0,l.length-1),a=this.ctx.measureText(l).width);var r=!0;return(r=l.length!==t.length&&' '!==t[l.length]?r:!1)&&(1<(r=l.split(' ')).length&&r.pop(),l=r.join(' '),a=this.ctx.measureText(l).width),{text:l,width:a}},jt.prototype._wrapText=function(){var t=new String(I(String(this.text))),e=[],i=this.ctx.font,a=0,s=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)s=a=0;else for(;0<t.length;){var n=this.maxWidth-(this.leftPadding+this.rightPadding),o=this.maxHeight-(this.topPadding+this.bottomPadding),n=this._getLineWithWidth(t,n,!1),l=(n.height=this._lineHeight,e.push(n),s),s=Math.max(s,n.width);a+=n.height,t=I(t.slice(n.text.length,t.length)),o&&o<a&&(a-=(n=e.pop()).height,s=l)}this._wrappedText={lines:e,width:s,height:a},this.width=s+(this.leftPadding+this.rightPadding),this.height=a+(this.topPadding+this.bottomPadding),this.ctx.font=i},jt.prototype._getFontString=function(){return i=null,a=t='',s=t?t+'FontStyle':'fontStyle',n=t?t+'FontWeight':'fontWeight',o=t?t+'FontSize':'fontSize',t=t?t+'FontFamily':'fontFamily',a=(a=(a+=(e=this)[s]?e[s]+' ':i&&i[s]?i[s]+' ':'')+(e[n]?e[n]+' ':i&&i[n]?i[n]+' ':''))+(e[o]?e[o]+'px ':i&&i[o]?i[o]+'px ':''),s=e[t]?e[t]+'':i&&i[t]?i[t]+'':'',a+=!Et&&s?n='\''!==(n=s.split(',')[0])[0]&&'"'!==n[0]?'\''+n+'\'':n:s;var t,e,i,a,s,n,o},b(nt,C),b(F,C),F.prototype.setLayout=function(){var t,e,i,a,s,n,o,l,r,h;this.text&&(i=(e=(t=this.dockInsidePlotArea?this.chart.plotArea:this.chart).layoutManager.getFreeSpace()).x1,a=e.y1,h=s=0,n=this.chart._menuButton&&this.chart.exportEnabled&&'top'===this.verticalAlign?22:0,'top'===this.verticalAlign||'bottom'===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=e.width-4-n*('center'===this.horizontalAlign?2:1)),h=.5*e.height-this.margin-2,s=0):'center'===this.verticalAlign&&('left'===this.horizontalAlign||'right'===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=e.height-4),h=.5*e.width-this.margin-2):'center'===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=e.width-4),h=.5*e.height-4)),Nt(this.padding)||'number'!=typeof this.padding?Nt(this.padding)||'object'!=typeof this.padding||(r=1.25*((r=this.padding.top||this.padding.bottom||0)+(this.padding.bottom||this.padding.top||0))):r=2.5*this.padding,this.wrap||(h=Math.min(h,Math.max(1.5*this.fontSize,this.fontSize+r))),h=(r=new jt(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:h,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:'top'})).measureText(),'top'===this.verticalAlign||'bottom'===this.verticalAlign?('top'===this.verticalAlign?(a=e.y1+2,l='top'):'bottom'===this.verticalAlign&&(a=e.y2-2-h.height,l='bottom'),'left'===this.horizontalAlign?i=e.x1+2:'center'===this.horizontalAlign?i=e.x1+e.width/2-h.width/2:'right'===this.horizontalAlign&&(i=e.x2-2-h.width-n),o=this.horizontalAlign,this.width=h.width,this.height=h.height):'center'===this.verticalAlign&&('left'===this.horizontalAlign?(i=e.x1+2,a=e.y2-2-(this.maxWidth/2-h.width/2),s=-90,l='left',this.width=h.height,this.height=h.width):'right'===this.horizontalAlign?(i=e.x2-2,a=e.y1+2+(this.maxWidth/2-h.width/2),s=90,l='right',this.width=h.height,this.height=h.width):'center'===this.horizontalAlign&&(a=t.y1+(t.height/2-h.height/2),i=t.x1+(t.width/2-h.width/2),l='center',this.width=h.width,this.height=h.height),o='center'),r.x=i,r.y=a,r.angle=s,r.horizontalAlign=o,this._textBlock=r,t.layoutManager.registerSpace(l,{width:this.width+('left'===l||'right'===l?this.margin+2:0),height:this.height+('top'===l||'bottom'===l?this.margin+2:0)}),this.bounds={x1:i,y1:a,x2:i+this.width,y2:a+this.height},this.ctx.textBaseline='top')},F.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},b(ot,C),ot.prototype.setLayout=F.prototype.setLayout,ot.prototype.render=F.prototype.render,lt.prototype.get=function(t,e){var i=null;return 0<this.pool.length?et(i=this.pool.pop(),t,e):i=M(t,e),i},lt.prototype.release=function(t){this.pool.push(t)},b(rt,C);var ht={addTheme:function(t,e){p[t]=e},addColorSet:function(t,e){n[t]=e},addCultureInfo:function(t,e){h[t]=e},formatNumber:function(t,e,i){if(e=e||'#,##0.##',h[i=i||'en'])return X(t,e,new rt(i));throw'Unknown Culture Name'},formatDate:function(t,e,i){if(e=e||'DD MMM YYYY',h[i=i||'en'])return Y(t,e,new rt(i));throw'Unknown Culture Name'}};'undefined'!=typeof module&&void 0!==module.exports?module.exports=ht:'function'==typeof define&&define.amd?define([],function(){return ht}):window.CanvasJS=ht,ht.Chart=function(){function o(t,e){return t.x-e.x}function r(t,e){this.theme=Nt((e=e||{}).theme)||Nt(p[e.theme])?'light1':e.theme,r.base.constructor.call(this,'Chart',null,e,null,null);var i=this;this._containerId=t,this._objectsInitialized=!1,this.ctx=null,this.overlaidCanvasCtx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType='',this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.animatedRender=!1,this.disableToolTip=!1,this.canvasPool=new lt,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor='default',this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container='string'==typeof this._containerId?document.getElementById(this._containerId):this._containerId,this.container?(this.container.innerHTML='',t=e=0,e=!this.options.width&&0<this.container.clientWidth?this.container.clientWidth:this.width,t=!this.options.height&&0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=e,this.height=t,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==n[this.colorSet]?n[this.colorSet]:n.colorSet1,this._canvasJSContainer=document.createElement('div'),this._canvasJSContainer.setAttribute('class','canvasjs-chart-container'),this._canvasJSContainer.style.position='relative',this._canvasJSContainer.style.textAlign='left',this._canvasJSContainer.style.cursor='auto',Et||(this._canvasJSContainer.style.height='0px'),this.container.appendChild(this._canvasJSContainer),this.canvas=M(e,t),this._preRenderCanvas=M(e,t),this.canvas.style.position='absolute',this.canvas.style.WebkitUserSelect='none',this.canvas.style.MozUserSelect='none',this.canvas.style.msUserSelect='none',this.canvas.style.userSelect='none',this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext('2d'),this.ctx.textBaseline='top',Rt(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext('2d'),this._preRenderCtx.textBaseline='top',Rt(this._preRenderCtx),Et?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=M(e,t),this.plotArea.canvas.style.position='absolute',this.plotArea.canvas.setAttribute('class','plotAreaCanvas'),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext('2d')),this.overlaidCanvas=M(e,t),this.overlaidCanvas.style.position='absolute',this.overlaidCanvas.style.webkitTapHighlightColor='transparent',this.overlaidCanvas.style.WebkitUserSelect='none',this.overlaidCanvas.style.MozUserSelect='none',this.overlaidCanvas.style.msUserSelect='none',this.overlaidCanvas.style.userSelect='none',this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext('2d'),this.overlaidCanvasCtx.textBaseline='top',Rt(this.overlaidCanvasCtx)),this._eventManager=new s(this),this.windowResizeHandler=y(window,'resize',function(){i._updateSize()&&i.render()},this.allDOMEventHandlers),this._toolBar=document.createElement('div'),this._toolBar.setAttribute('class','canvasjs-chart-toolbar'),this._toolBar.style.cssText='position: absolute; right: 1px; top: 1px;',this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},y(this.overlaidCanvas,'click',function(t){i._mouseEventHandler(t)},this.allDOMEventHandlers),y(this.overlaidCanvas,'mousemove',function(t){i._mouseEventHandler(t)},this.allDOMEventHandlers),y(this.overlaidCanvas,'mouseup',function(t){i._mouseEventHandler(t)},this.allDOMEventHandlers),y(this.overlaidCanvas,'mousedown',function(t){i._mouseEventHandler(t),w(i._dropdownMenu)},this.allDOMEventHandlers),y(this.overlaidCanvas,'mouseout',function(t){i._mouseEventHandler(t)},this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?'MSPointerDown':'touchstart',function(t){i._touchEventHandler(t)},this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?'MSPointerMove':'touchmove',function(t){i._touchEventHandler(t)},this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?'MSPointerUp':'touchend',function(t){i._touchEventHandler(t)},this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?'MSPointerCancel':'touchcancel',function(t){i._touchEventHandler(t)},this.allDOMEventHandlers),this.toolTip=new a(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function B(t,e){for(var i,a,s,n,o,l,r=[],h=0;h<t.length;h++)0==h?r.push(t[0]):(a=0==(i=h-1)?0:i-1,l=i==t.length-1?i:1+i,s=Math.abs((t[l].x-t[a].x)/(t[l].x-t[i].x==0?.01:t[l].x-t[i].x))*(e-1)/2+1,o=(t[l].x-t[a].x)/s,n=(t[l].y-t[a].y)/s,o=t[i].x>t[a].x&&0<o||t[i].x<t[a].x&&o<0?{x:t[i].x+o/3,y:t[i].y+n/3}:{x:t[i].x,y:t[i].y+n/9},r[r.length]=o,a=0===(i=h)?0:i-1,l=i===t.length-1?i:i+1,s=Math.abs((t[l].x-t[a].x)/(t[i].x-t[a].x==0?.01:t[i].x-t[a].x))*(e-1)/2+1,n=(t[l].x-t[a].x)/s,o=(t[l].y-t[a].y)/s,l=t[i].x>t[a].x&&0<n||t[i].x<t[a].x&&n<0?{x:t[i].x-n/3,y:t[i].y-o/3}:{x:t[i].x,y:t[i].y-o/9},r[r.length]=l,r[r.length]=t[h]);return r}function L(t,e,i,a,s,n,o,l,r,h){var d=0,x=(h?(o.color=n,l.color=n):h=1,r?Math.abs(s-i):Math.abs(a-e)),d=0<o.trimLength?Math.abs(x*o.trimLength/100):Math.abs(x-o.length),x=(r?(i+=d/2,s-=d/2):(e+=d/2,a-=d/2),Math.round(o.thickness)%2==1?.5:0),d=Math.round(l.thickness)%2==1?.5:0;t.save(),t.globalAlpha=h,t.strokeStyle=l.color||n,t.lineWidth=l.thickness||2,t.setLineDash&&t.setLineDash(Ut(l.dashType,l.thickness)),t.beginPath(),r&&0<l.thickness?(t.moveTo(a-o.thickness/2,Math.round((i+s)/2)-d),t.lineTo(e+o.thickness/2,Math.round((i+s)/2)-d)):0<l.thickness&&(t.moveTo(Math.round((e+a)/2)-d,i+o.thickness/2),t.lineTo(Math.round((e+a)/2)-d,s-o.thickness/2)),t.stroke(),t.strokeStyle=o.color||n,t.lineWidth=o.thickness||2,t.setLineDash&&t.setLineDash(Ut(o.dashType,o.thickness)),t.beginPath(),r&&0<o.thickness?(t.moveTo(a-x,i),t.lineTo(a-x,s),t.moveTo(e+x,i),t.lineTo(e+x,s)):0<o.thickness&&(t.moveTo(e,i+x),t.lineTo(a,i+x),t.moveTo(e,s-x),t.lineTo(a,s-x)),t.stroke(),t.restore()}b(r,C),r.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var e,i,a,s,n=0;n<t.length;n++)e=t[n][0],i=t[n][1],a=t[n][2],s=(s=t[n][3])||!1,e.removeEventListener?e.removeEventListener(i,a,s):e.detachEvent&&e.detachEvent('on'+i,a);for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this._canvasJSContainer=null,this.container=null,this.canvas=null,this.overlaidCanvas=null,this.toolTip.container=null,this._preRenderCanvas=null,this._breaksCanvas=null,this._zoomButton=null,this._resetButton=null,this._menuButton=null,this._dropdownMenu=null,this._toolBar=null},r.prototype._updateOptions=function(){var e,t,i,a=this;for(i in this.updateOption('width'),this.updateOption('height'),this.updateOption('dataPointWidth'),this.updateOption('dataPointMinWidth'),this.updateOption('dataPointMaxWidth'),this.updateOption('interactivityEnabled'),this.updateOption('theme'),this.updateOption('colorSet')&&(this._selectedColorSet=void 0!==n[this.colorSet]?n[this.colorSet]:n.colorSet1),this.updateOption('backgroundColor'),this.backgroundColor||(this.backgroundColor='rgba(0,0,0,0)'),this.updateOption('culture'),this._cultureInfo=new rt(this.options.culture),this.updateOption('animationEnabled'),this.animationEnabled=this.animationEnabled&&Et,this.updateOption('animationDuration'),this.updateOption('rangeChanging'),this.updateOption('rangeChanged'),this.updateOption('exportEnabled'),this.updateOption('exportFileName'),this.updateOption('zoomType'),this.options.zoomEnabled?(this._zoomButton||(e=!1,w(this._zoomButton=document.createElement('button')),P(this,this._zoomButton,'pan'),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+'px solid '+this.toolbar.borderColor,y(this._zoomButton,'touchstart',function(t){e=!0},this.allDOMEventHandlers),y(this._zoomButton,'click',function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,P(a,a._zoomButton,'zoom')):(a.zoomEnabled=!0,a.panEnabled=!1,P(a,a._zoomButton,'pan')),a.render()},this.allDOMEventHandlers),y(this._zoomButton,'mouseover',function(){var t;e?e=!1:(t={backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:'0.4s',WebkitTransition:'0.4s'},T(0,a._zoomButton,t),navigator.userAgent.search('MSIE')<=0&&T(0,a._zoomButton.childNodes[0],{WebkitFilter:'invert(100%)',filter:'invert(100%)'}))},this.allDOMEventHandlers),y(this._zoomButton,'mouseout',function(){var t;e||(t={backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor,transition:'0.4s',WebkitTransition:'0.4s'},T(0,a._zoomButton,t),navigator.userAgent.search('MSIE')<=0&&T(0,a._zoomButton.childNodes[0],{WebkitFilter:'invert(0%)',filter:'invert(0%)'}))},this.allDOMEventHandlers)),this._resetButton||(e=!1,w(this._resetButton=document.createElement('button')),P(this,this._resetButton,'reset'),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+'px solid '+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),y(this._resetButton,'touchstart',function(t){e=!0},this.allDOMEventHandlers),y(this._resetButton,'click',function(){if(a.toolTip.hide(),a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,P(a,a._zoomButton,'pan'),a._defaultCursor='default',a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1),a.sessionVariables.axisX)for(var t=0;t<a.sessionVariables.axisX.length;t++)a.sessionVariables.axisX[t].newViewportMinimum=null,a.sessionVariables.axisX[t].newViewportMaximum=null;if(a.sessionVariables.axisX2)for(t=0;t<a.sessionVariables.axisX2.length;t++)a.sessionVariables.axisX2[t].newViewportMinimum=null,a.sessionVariables.axisX2[t].newViewportMaximum=null;if(a.sessionVariables.axisY)for(t=0;t<a.sessionVariables.axisY.length;t++)a.sessionVariables.axisY[t].newViewportMinimum=null,a.sessionVariables.axisY[t].newViewportMaximum=null;if(a.sessionVariables.axisY2)for(t=0;t<a.sessionVariables.axisY2.length;t++)a.sessionVariables.axisY2[t].newViewportMinimum=null,a.sessionVariables.axisY2[t].newViewportMaximum=null;a.resetOverlayedCanvas(),w(a._zoomButton,a._resetButton),a._dispatchRangeEvent('rangeChanging','reset'),a.render(),a._dispatchRangeEvent('rangeChanged','reset'),a.syncCharts&&a.syncCharts(null,null)},this.allDOMEventHandlers),y(this._resetButton,'mouseover',function(){var t;e||(t={backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.hoverFfontColorOnHoverontColor,transition:'0.4s',WebkitTransition:'0.4s'},T(0,a._resetButton,t),navigator.userAgent.search('MSIE')<=0&&T(0,a._resetButton.childNodes[0],{WebkitFilter:'invert(100%)',filter:'invert(100%)'}))},this.allDOMEventHandlers),y(this._resetButton,'mouseout',function(){var t;e||(t={backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor,transition:'0.4s',WebkitTransition:'0.4s'},T(0,a._resetButton,t),navigator.userAgent.search('MSIE')<=0&&T(0,a._resetButton.childNodes[0],{WebkitFilter:'invert(0%)',filter:'invert(0%)'}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=a._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(a._zoomButton.getAttribute('state')===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),st(a._zoomButton,a._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))):(this.zoomEnabled=!1,this.panEnabled=!1),this._menuButton?(this.exportEnabled?st:w)(this._menuButton):this.exportEnabled&&Et&&(e=!1,this._menuButton=document.createElement('button'),P(this,this._menuButton,'menu'),this._toolBar.appendChild(this._menuButton),y(this._menuButton,'touchstart',function(t){e=!0},this.allDOMEventHandlers),y(this._menuButton,'click',function(){'none'!==a._dropdownMenu.style.display||a._dropDownCloseTime&&(new Date).getTime()-a._dropDownCloseTime.getTime()<=500||(a._dropdownMenu.style.display='block',a._menuButton.blur(),a._dropdownMenu.focus())},this.allDOMEventHandlers,!0),y(this._menuButton,'mouseover',function(){e||(T(0,a._menuButton,{backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.fontColorOnHover}),navigator.userAgent.search('MSIE')<=0&&T(0,a._menuButton.childNodes[0],{WebkitFilter:'invert(100%)',filter:'invert(100%)'}))},this.allDOMEventHandlers,!0),y(this._menuButton,'mouseout',function(){e||(T(0,a._menuButton,{backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor}),navigator.userAgent.search('MSIE')<=0&&T(0,a._menuButton.childNodes[0],{WebkitFilter:'invert(0%)',filter:'invert(0%)'}))},this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&Et&&(e=!1,this._dropdownMenu=document.createElement('div'),this._dropdownMenu.setAttribute('tabindex',-1),t=-1!==this.theme.indexOf('dark')?'black':'#888888',this._dropdownMenu.style.cssText='position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:'+this.toolbar.backgroundColor+';box-shadow: 2px 2px 10px '+t,a._dropdownMenu.style.display='none',this._toolBar.appendChild(this._dropdownMenu),y(this._dropdownMenu,'blur',function(){w(a._dropdownMenu),a._dropDownCloseTime=new Date},this.allDOMEventHandlers,!0),(t=document.createElement('div')).style.cssText='padding: 12px 8px 12px 8px',t.innerHTML=this._cultureInfo.printText,t.style.backgroundColor=this.toolbar.backgroundColor,t.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(t),y(t,'touchstart',function(t){e=!0},this.allDOMEventHandlers),y(t,'mouseover',function(){e||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},this.allDOMEventHandlers,!0),y(t,'mouseout',function(){e||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)},this.allDOMEventHandlers,!0),y(t,'click',function(){a.print(),w(a._dropdownMenu)},this.allDOMEventHandlers,!0),(t=document.createElement('div')).style.cssText='padding: 12px 8px 12px 8px',t.innerHTML=this._cultureInfo.saveJPGText,t.style.backgroundColor=this.toolbar.backgroundColor,t.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(t),y(t,'touchstart',function(t){e=!0},this.allDOMEventHandlers),y(t,'mouseover',function(){e||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},this.allDOMEventHandlers,!0),y(t,'mouseout',function(){e||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)},this.allDOMEventHandlers,!0),y(t,'click',function(){V(a.canvas,'jpeg',a.exportFileName),w(a._dropdownMenu)},this.allDOMEventHandlers,!0),(t=document.createElement('div')).style.cssText='padding: 12px 8px 12px 8px',t.innerHTML=this._cultureInfo.savePNGText,t.style.backgroundColor=this.toolbar.backgroundColor,t.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(t),y(t,'touchstart',function(t){e=!0},this.allDOMEventHandlers),y(t,'mouseover',function(){e||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},this.allDOMEventHandlers,!0),y(t,'mouseout',function(){e||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)},this.allDOMEventHandlers,!0),y(t,'click',function(){V(a.canvas,'png',a.exportFileName),w(a._dropdownMenu)},this.allDOMEventHandlers,!0)),'none'!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?P(a,a._zoomButton,'zoom'):P(a,a._zoomButton,'pan'),a._resetButton.getAttribute('state')!==a._cultureInfo.resetText)&&P(a,a._resetButton,'reset'),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},r.prototype._updateSize=function(){return function(t){var e=0,i=0;if(this.options.width?e=this.width:this.width=e=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?i=this.height:this.height=i=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width===e*v&&this.canvas.height===i*v)return!1;for(var a=0;a<t.length;a++)et(t[a],e,i);return!0}.call(this,[this.canvas,this._preRenderCanvas,this.overlaidCanvas,this._eventManager.ghostCanvas])},r.prototype._initialize=function(){this.isNavigator=!Nt(this.parent)&&!Nt(this.parent._defaultsKey)&&'Navigator'===this.parent._defaultsKey,this.toolbar=new nt(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new c(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.pieDoughnutClickHandler=null,this.funnelPyramidClickHandler=null,this._updateOptions(),this.animatedRender=Et&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new A(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var t=0,e=null;if(this.options.data){for(var i=0;i<this.options.data.length;i++)if(t++,!this.options.data[i].type||0<=r._supportedChartTypes.indexOf(this.options.data[i].type)){var a,s=new S(this,this.options.data[i],t-1,++this._eventManager.lastObjectId),n=('error'===s.type&&(s.linkedDataSeriesIndex=Nt(this.options.data[i].linkedDataSeriesIndex)?i-1:this.options.data[i].linkedDataSeriesIndex,s.linkedDataSeriesIndex<0||s.linkedDataSeriesIndex>=this.options.data.length||'number'!=typeof s.linkedDataSeriesIndex||'error'===this.options.data[s.linkedDataSeriesIndex].type)&&(s.linkedDataSeriesIndex=null),null===s.name&&(s.name='DataSeries '+t),null===s.color?1<this.options.data.length?(s._colorSet=[this._selectedColorSet[s.index%this._selectedColorSet.length]],s.color=this._selectedColorSet[s.index%this._selectedColorSet.length]):'line'===s.type||'stepLine'===s.type||'spline'===s.type||'area'===s.type||'stepArea'===s.type||'splineArea'===s.type||'stackedArea'===s.type||'stackedArea100'===s.type||'rangeArea'===s.type||'rangeSplineArea'===s.type||'candlestick'===s.type||'ohlc'===s.type||'waterfall'===s.type||'boxAndWhisker'===s.type?s._colorSet=[this._selectedColorSet[0]]:s._colorSet=this._selectedColorSet:s._colorSet=[s.color],null===s.markerSize&&(('line'===s.type||'stepLine'===s.type||'spline'===s.type||0<=s.type.toLowerCase().indexOf('area'))&&s.dataPoints&&s.dataPoints.length<this.width/16||'scatter'===s.type)&&(s.markerSize=8),'bubble'!==s.type&&'scatter'!==s.type||!s.dataPoints||s.dataPoints.some&&!s.dataPoints.some(function(t){return t.x})||s.dataPoints.sort(o),this.data.push(s),s.axisPlacement),e=e||n;if('normal'===n?'xySwapped'===this.plotInfo.axisPlacement?a='You cannot combine "'+s.type+'" with bar chart':'none'===this.plotInfo.axisPlacement?a='You cannot combine "'+s.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement='normal'):'xySwapped'===n?'normal'===this.plotInfo.axisPlacement?a='You cannot combine "'+s.type+'" with line, area, column or pie chart':'none'===this.plotInfo.axisPlacement?a='You cannot combine "'+s.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement='xySwapped'):'none'===n?'normal'===this.plotInfo.axisPlacement?a='You cannot combine "'+s.type+'" with line, area, column or bar chart':'xySwapped'===this.plotInfo.axisPlacement?a='You cannot combine "'+s.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement='none'):null===n&&'none'===this.plotInfo.axisPlacement&&(a='You cannot combine "'+s.type+'" with pie chart'),a&&window.console)return void window.console.log(a)}for(i=0;i<this.data.length;i++){if('none'==e&&'error'===this.data[i].type&&window.console)return void window.console.log('You cannot combine "'+s.type+'" with error chart');'error'===this.data[i].type&&(this.data[i].axisPlacement=this.plotInfo.axisPlacement=e||'normal',this.data[i]._linkedSeries=null===this.data[i].linkedDataSeriesIndex?null:this.data[this.data[i].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},r._supportedChartTypes=Ht(['line','stepLine','spline','column','area','stepArea','splineArea','bar','bubble','scatter','stackedColumn','stackedColumn100','stackedBar','stackedBar100','stackedArea','stackedArea100','candlestick','ohlc','boxAndWhisker','rangeColumn','error','rangeBar','rangeArea','rangeSplineArea','pie','doughnut','funnel','pyramid','waterfall']),r.prototype.setLayout=function(){for(var t=this._plotAreaElements,e=0;e<this.data.length;e++)if('normal'===this.plotInfo.axisPlacement||'xySwapped'===this.plotInfo.axisPlacement){if(!this.data[e].axisYType||'primary'===this.data[e].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var i=0;i<this.options.axisY.length;i++)'normal'===this.plotInfo.axisPlacement?this._axes.push(this.axisY[i]=new _(this,'axisY',this.options.axisY[i],i,'axisY','left')):'xySwapped'===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[i]=new _(this,'axisY',this.options.axisY[i],i,'axisY','bottom'));this.data[e].axisY=this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0],this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY.length||('normal'===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new _(this,'axisY',this.options.axisY,0,'axisY','left')):'xySwapped'===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new _(this,'axisY',this.options.axisY,0,'axisY','bottom'))),this.data[e].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[e]);if('secondary'===this.data[e].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(i=0;i<this.options.axisY2.length;i++)'normal'===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[i]=new _(this,'axisY2',this.options.axisY2[i],i,'axisY','right')):'xySwapped'===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[i]=new _(this,'axisY2',this.options.axisY2[i],i,'axisY','top'));this.data[e].axisY=this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0],this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY2.length||('normal'===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new _(this,'axisY2',this.options.axisY2,0,'axisY','right')):'xySwapped'===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new _(this,'axisY2',this.options.axisY2,0,'axisY','top'))),this.data[e].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[e]);if(!this.data[e].axisXType||'primary'===this.data[e].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(i=0;i<this.options.axisX.length;i++)'normal'===this.plotInfo.axisPlacement?this._axes.push(this.axisX[i]=new _(this,'axisX',this.options.axisX[i],i,'axisX','bottom')):'xySwapped'===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[i]=new _(this,'axisX',this.options.axisX[i],i,'axisX','left'));this.data[e].axisX=this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0],this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX.length||('normal'===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new _(this,'axisX',this.options.axisX,0,'axisX','bottom')):'xySwapped'===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new _(this,'axisX',this.options.axisX,0,'axisX','left'))),this.data[e].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[e]);if('secondary'===this.data[e].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(i=0;i<this.options.axisX2.length;i++)'normal'===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[i]=new _(this,'axisX2',this.options.axisX2[i],i,'axisX','top')):'xySwapped'===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[i]=new _(this,'axisX2',this.options.axisX2[i],i,'axisX','right'));this.data[e].axisX=this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0],this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX2.length||('normal'===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new _(this,'axisX2',this.options.axisX2,0,'axisX','top')):'xySwapped'===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new _(this,'axisX2',this.options.axisX2,0,'axisX','right'))),this.data[e].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[e])}if(this.axisY){for(i=1;i<this.axisY.length;i++)void 0===this.axisY[i].options.gridThickness&&(this.axisY[i].gridThickness=0);for(i=0;i<this.axisY.length-1;i++)void 0===this.axisY[i].options.margin&&(this.axisY[i].margin=10)}if(this.axisY2){for(i=1;i<this.axisY2.length;i++)void 0===this.axisY2[i].options.gridThickness&&(this.axisY2[i].gridThickness=0);for(i=0;i<this.axisY2.length-1;i++)void 0===this.axisY2[i].options.margin&&(this.axisY2[i].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(i=0;i<this.axisX.length;i++)void 0===this.axisX[i].options.gridThickness&&(this.axisX[i].gridThickness=0);if(this.axisX2)for(i=0;i<this.axisX2.length;i++)void 0===this.axisX2[i].options.gridThickness&&(this.axisX2[i].gridThickness=0);this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0));var a,s,n=!1;if(0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(e=0;e<this._axes.length;e++)if(null!==this._axes[e].viewportMinimum||null!==this._axes[e].viewportMaximum){n=!0;break}if(n?(st(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+'px solid '+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+'px solid '+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+'px solid '+this.toolbar.borderColor):(w(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+'px solid transparent',this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),s=a=this,Kt.fSDec&&a[f('`eeDwdouMhrudods')](f('e`u`@ohl`uhnoHuds`uhnoDoe'),function(){Kt._fTWm&&Kt._fTWm(s),s.axisX.length}),this._processData(),this.options.title&&(this.title=new F(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(e=0;e<this.options.subtitles.length;e++){var o=new ot(this,this.options.subtitles[e],e);this.subtitles.push(o),o.dockInsidePlotArea?t.push(o):o.setLayout()}this.legend=new l(this,this.options.legend);for(e=0;e<this.data.length;e++)!this.data[e].showInLegend&&'pie'!==this.data[e].type&&'doughnut'!==this.data[e].type&&'funnel'!==this.data[e].type&&'pyramid'!==this.data[e].type||this.legend.dataSeries.push(this.data[e]);this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout();for(e=0;e<this._axes.length;e++)if(this._axes[e].scaleBreaks&&this._axes[e].scaleBreaks._appliedBreaks.length){Et?(this._breaksCanvas=M(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext('2d')):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=Nt(this._preRenderCanvas)?M(this.width,this.height):this._preRenderCanvas,this._preRenderCtx=this._preRenderCanvas.getContext('2d'),'normal'!==this.plotInfo.axisPlacement&&'xySwapped'!==this.plotInfo.axisPlacement||_.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},r.prototype.renderElements=function(){var t=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var e=0;e<this.subtitles.length;e++)this.subtitles[e].dockInsidePlotArea||this.subtitles[e].render();if(this.legend.dockInsidePlotArea||this.legend.render(),'normal'===this.plotInfo.axisPlacement||'xySwapped'===this.plotInfo.axisPlacement)_.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if('none'!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(var i=0;i<t.length;i++)t[i].setLayout(),t[i].render();var a,s,n,o=[],l=(this.animatedRender&&(a=M(this.width,this.height)).getContext('2d').drawImage(this.canvas,0,0,this.width,this.height),s=this,it||(r=l=!1,void 0===g.Chart.creditHref?(s.creditHref=f('iuuqr;..b`ow`rkr/bnl.'),s.creditText=f('B`ow`rKR/bnl')):(l=s.updateOption('creditText'),r=s.updateOption('creditHref')),s.creditHref&&s.creditText&&(s._creditLink||(s._creditLink=document.createElement('a'),s._creditLink.setAttribute('class','canvasjs-chart-credit'),s._creditLink.setAttribute('title','JavaScript Charts'),s._creditLink.setAttribute('style','outline:none;margin:0px;position:absolute;right:2px;top:'+(s.height-14)+'px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif'),s._creditLink.setAttribute('tabIndex',-1),s._creditLink.setAttribute('target','_blank')),(0===s.renderCount||l||r)&&(s._creditLink.setAttribute('href',s.creditHref),s._creditLink.innerHTML=s.creditText),s._creditLink&&s.creditHref&&s.creditText?(s._creditLink.parentElement||s._canvasJSContainer.appendChild(s._creditLink),s._creditLink.style.top=s.height-14+'px'):s._creditLink.parentElement&&s._canvasJSContainer.removeChild(s._creditLink))),this.ctx.miterLimit);this.ctx.miterLimit=3,Et&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation='source-atop',this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height));for(var r,e=0;e<this.plotInfo.plotTypes.length;e++)for(var h=this.plotInfo.plotTypes[e],d=0;d<h.plotUnits.length;d++){var x=h.plotUnits[d],c=null;x.targetCanvas=null,this.animatedRender&&(x.targetCanvas=M(this.width,this.height),x.targetCanvasCtx=x.targetCanvas.getContext('2d'),n=x.targetCanvasCtx.miterLimit,x.targetCanvasCtx.miterLimit=3),'line'===x.type?c=this.renderLine(x):'stepLine'===x.type?c=this.renderStepLine(x):'spline'===x.type?c=this.renderSpline(x):'column'===x.type?c=this.renderColumn(x):'bar'===x.type?c=this.renderBar(x):'area'===x.type?c=this.renderArea(x):'stepArea'===x.type?c=this.renderStepArea(x):'splineArea'===x.type?c=this.renderSplineArea(x):'stackedColumn'===x.type?c=this.renderStackedColumn(x):'stackedColumn100'===x.type?c=this.renderStackedColumn100(x):'stackedBar'===x.type?c=this.renderStackedBar(x):'stackedBar100'===x.type?c=this.renderStackedBar100(x):'stackedArea'===x.type?c=this.renderStackedArea(x):'stackedArea100'===x.type?c=this.renderStackedArea100(x):'bubble'===x.type?c=this.renderBubble(x):'scatter'===x.type?c=this.renderScatter(x):'pie'===x.type||'doughnut'===x.type?this.renderPie(x):'funnel'===x.type||'pyramid'===x.type?c=this.renderFunnel(x):'candlestick'===x.type||'ohlc'===x.type?c=this.renderCandlestick(x):'rangeColumn'===x.type?c=this.renderRangeColumn(x):'error'===x.type?c=this.renderError(x):'rangeBar'===x.type?c=this.renderRangeBar(x):'rangeArea'===x.type?c=this.renderRangeArea(x):'rangeSplineArea'===x.type?c=this.renderRangeSplineArea(x):'waterfall'===x.type?c=this.renderWaterfall(x):'boxAndWhisker'===x.type&&(c=this.renderBoxAndWhisker(x));for(var p=0;p<x.dataSeriesIndexes.length;p++)this._dataInRenderedOrder.push(this.data[x.dataSeriesIndexes[p]]);this.animatedRender&&(x.targetCanvasCtx.miterLimit=n,c)&&o.push(c)}this.ctx.miterLimit=l,this.animatedRender&&this._breaksCanvasCtx&&o.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(r=M(this.width,this.height).getContext('2d'),o.push(this.renderIndexLabels(r)));var u=this;if(0<o.length)u.disableToolTip=!0,u._animator.animate(200,u.animationDuration,function(t){u.ctx.clearRect(0,0,u.width,u.height),u.ctx.drawImage(a,0,0,Math.floor(u.width*v),Math.floor(u.height*v),0,0,u.width,u.height);for(var e=0;e<o.length;e++)c=o[e],t<1&&void 0!==c.startTimePercent?t>=c.startTimePercent&&c.animationCallback(c.easingFunction(t-c.startTimePercent,0,1,1-c.startTimePercent),c):c.animationCallback(c.easingFunction(t,0,1,1),c);u.dispatchEvent('dataAnimationIterationEnd',{chart:u})},function(){o=[];for(var t=0;t<u.plotInfo.plotTypes.length;t++)for(var e=u.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++)e.plotUnits[i].targetCanvas=null;a=null,u.disableToolTip=!1});else{if(u._breaksCanvas)if(Et)u.plotArea.ctx.drawImage(u._breaksCanvas,0,0,this.width,this.height);else for(p=0;p<u._axes.length;p++)u._axes[p].createMask();0<u._indexLabels.length&&u.renderIndexLabels(),u.dispatchEvent('dataAnimationIterationEnd',{chart:u})}this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||'none'===this._zoomButton.style.display||w(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,m&&(u=this,setTimeout(function(){var t=document.getElementById('ghostCanvasCopy');t&&(et(t,u.width,u.height),t.getContext('2d').drawImage(u._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx);for(p=0;p<this._axes.length;p++)this._axes[p].maskCanvas&&(delete this._axes[p].maskCanvas,delete this._axes[p].maskCtx)},r.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements()},r.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?'move':'default',capture:!0,bounds:this.plotArea})},r.prototype.categoriseDataSeries=function(){for(var t='',e=0;e<this.data.length;e++)if((t=this.data[e]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=r._supportedChartTypes.indexOf(t.type)){for(var i=null,a=!1,s=null,n=!1,o=0;o<this.plotInfo.plotTypes.length;o++)if(this.plotInfo.plotTypes[o].type===t.type){a=!0,i=this.plotInfo.plotTypes[o];break}a||(i={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i));for(o=0;o<i.plotUnits.length;o++)if(i.plotUnits[o].axisYType===t.axisYType&&i.plotUnits[o].axisXType===t.axisXType&&i.plotUnits[o].axisYIndex===t.axisYIndex&&i.plotUnits[o].axisXIndex===t.axisXIndex){n=!0,s=i.plotUnits[o];break}n||(s={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:'primary'===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:'primary'===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]},i.plotUnits.push(s)),i.totalDataSeries++,s.dataSeriesIndexes.push(e),t.plotUnit=s}for(e=0;e<this.plotInfo.plotTypes.length;e++)for(var i=this.plotInfo.plotTypes[e],l=0,o=0;o<i.plotUnits.length;o++)i.plotUnits[o].previousDataSeriesCount=l,l+=i.plotUnits[o].dataSeriesIndexes.length},r.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var i=e.dataPoints.length,a=0;a<i;a++)e.dataPointIds[a]=++this._eventManager.lastObjectId}},r.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++){var a=e.plotUnits[i];'line'===a.type||'stepLine'===a.type||'spline'===a.type||'column'===a.type||'area'===a.type||'stepArea'===a.type||'splineArea'===a.type||'bar'===a.type||'bubble'===a.type||'scatter'===a.type?this._processMultiseriesPlotUnit(a):'stackedColumn'===a.type||'stackedBar'===a.type||'stackedArea'===a.type?this._processStackedPlotUnit(a):'stackedColumn100'===a.type||'stackedBar100'===a.type||'stackedArea100'===a.type?this._processStacked100PlotUnit(a):'candlestick'===a.type||'ohlc'===a.type||'rangeColumn'===a.type||'rangeBar'===a.type||'rangeArea'===a.type||'rangeSplineArea'===a.type||'error'===a.type||'boxAndWhisker'===a.type?this._processMultiYPlotUnit(a):'waterfall'===a.type&&this._processSpecificPlotUnit(a)}this.calculateAutoBreaks()},r.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1))for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=0;o<t.dataSeriesIndexes.length;o++){var l,r,h,d,x,c=this.data[t.dataSeriesIndexes[o]],p=0,u=!1,m=!1;for('normal'!==c.axisPlacement&&'xySwapped'!==c.axisPlacement||(r=t.axisX.sessionVariables.newViewportMinimum||(this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0),h=t.axisX.sessionVariables.newViewportMaximum||(this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0)),(c.dataPoints[p].x&&c.dataPoints[p].x.getTime||'dateTime'===c.xValueType)&&(n=!0),p=0;p<c.dataPoints.length;p++)if(void 0===c.dataPoints[p].x&&(c.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),e=c.dataPoints[p].x.getTime?(n=!0,c.dataPoints[p].x.getTime()):c.dataPoints[p].x,i=c.dataPoints[p].y,e<s.min&&(s.min=e),e>s.max&&(s.max=e),i<a.min&&'number'==typeof i&&(a.min=i),i>a.max&&'number'==typeof i&&(a.max=i),0<p&&(t.axisX.logarithmic?((d=e/c.dataPoints[p-1].x)<1&&(d=1/d),s.minDiff>d&&1!==d&&(s.minDiff=d)):((d=e-c.dataPoints[p-1].x)<0&&(d*=-1),s.minDiff>d&&0!==d&&(s.minDiff=d)),null!==i)&&null!==c.dataPoints[p-1].y&&(t.axisY.logarithmic?((x=i/c.dataPoints[p-1].y)<1&&(x=1/x),a.minDiff>x&&1!==x&&(a.minDiff=x)):((x=i-c.dataPoints[p-1].y)<0&&(x*=-1),a.minDiff>x&&0!==x&&(a.minDiff=x))),e<r&&!u)null!==i&&(l=e);else if(!u&&(u=!0,0<p))p-=2;else{if(h<e&&!m)m=!0;else if(h<e&&m)continue;c.dataPoints[p].label&&(t.axisX.labels[e]=c.dataPoints[p].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),null===i?s.viewPortMin===e&&l<e&&(s.viewPortMin=l):(i<a.viewPortMin&&'number'==typeof i&&(a.viewPortMin=i),i>a.viewPortMax&&'number'==typeof i&&(a.viewPortMax=i))}c.axisX.valueType=c.xValueType=n?'dateTime':'number'}},r.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1)){for(var e,i,a,s=t.axisY.dataInfo,n=t.axisX.dataInfo,o=!1,l=[],r=[],h=1/0,d=-1/0,x=0;x<t.dataSeriesIndexes.length;x++){var c,p,u,m,g,b=this.data[t.dataSeriesIndexes[x]],y=0,v=!1,f=!1;for('normal'!==b.axisPlacement&&'xySwapped'!==b.axisPlacement||(p=t.axisX.sessionVariables.newViewportMinimum||(this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0),u=t.axisX.sessionVariables.newViewportMaximum||(this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0)),(b.dataPoints[y].x&&b.dataPoints[y].x.getTime||'dateTime'===b.xValueType)&&(o=!0),y=0;y<b.dataPoints.length;y++)if(void 0===b.dataPoints[y].x&&(b.dataPoints[y].x=y+(t.axisX.logarithmic?1:0)),e=b.dataPoints[y].x.getTime?(o=!0,b.dataPoints[y].x.getTime()):b.dataPoints[y].x,i=Nt(b.dataPoints[y].y)?0:b.dataPoints[y].y,e<n.min&&(n.min=e),e>n.max&&(n.max=e),0<y&&(t.axisX.logarithmic?((m=e/b.dataPoints[y-1].x)<1&&(m=1/m),n.minDiff>m&&1!==m&&(n.minDiff=m)):((m=e-b.dataPoints[y-1].x)<0&&(m*=-1),n.minDiff>m&&0!==m&&(n.minDiff=m)),null!==i)&&null!==b.dataPoints[y-1].y&&(t.axisY.logarithmic?0<i&&((g=i/b.dataPoints[y-1].y)<1&&(g=1/g),s.minDiff>g)&&1!==g&&(s.minDiff=g):((g=i-b.dataPoints[y-1].y)<0&&(g*=-1),s.minDiff>g&&0!==g&&(s.minDiff=g))),e<p&&!v)null!==b.dataPoints[y].y&&(c=e);else if(!v&&(v=!0,0<y))y-=2;else{if(u<e&&!f)f=!0;else if(u<e&&f)continue;b.dataPoints[y].label&&(t.axisX.labels[e]=b.dataPoints[y].label),e<n.viewPortMin&&(n.viewPortMin=e),e>n.viewPortMax&&(n.viewPortMax=e),null===b.dataPoints[y].y?n.viewPortMin===e&&c<e&&(n.viewPortMin=c):(t.yTotals[e]=(t.yTotals[e]||0)+i,0<=i?l[e]?l[e]+=i:(l[e]=i,h=Math.min(i,h)):r[e]?r[e]+=i:(r[e]=i,d=Math.max(i,d)))}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(s.dataPointYPositiveSums?(s.dataPointYPositiveSums.push.apply(s.dataPointYPositiveSums,l),s.dataPointYNegativeSums.push.apply(s.dataPointYPositiveSums,r)):(s.dataPointYPositiveSums=l,s.dataPointYNegativeSums=r)),b.axisX.valueType=b.xValueType=o?'dateTime':'number'}for(y in l)!l.hasOwnProperty(y)||isNaN(y)||((a=l[y])<s.min&&(s.min=Math.min(a,h)),a>s.max&&(s.max=a),y<n.viewPortMin)||y>n.viewPortMax||(a<s.viewPortMin&&(s.viewPortMin=Math.min(a,h)),a>s.viewPortMax&&(s.viewPortMax=a));for(y in r)!r.hasOwnProperty(y)||isNaN(y)||((a=r[y])<s.min&&(s.min=a),a>s.max&&(s.max=Math.max(a,d)),y<n.viewPortMin)||y>n.viewPortMax||(a<s.viewPortMin&&(s.viewPortMin=a),a>s.viewPortMax&&(s.viewPortMax=Math.max(a,d)))}},r.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1)){for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=!1,l=!1,r=[],h=0;h<t.dataSeriesIndexes.length;h++){var d,x,c,p,u,m=this.data[t.dataSeriesIndexes[h]],g=0,b=!1,y=!1;for('normal'!==m.axisPlacement&&'xySwapped'!==m.axisPlacement||(x=t.axisX.sessionVariables.newViewportMinimum||(this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0),c=t.axisX.sessionVariables.newViewportMaximum||(this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0)),(m.dataPoints[g].x&&m.dataPoints[g].x.getTime||'dateTime'===m.xValueType)&&(n=!0),g=0;g<m.dataPoints.length;g++)if(void 0===m.dataPoints[g].x&&(m.dataPoints[g].x=g+(t.axisX.logarithmic?1:0)),e=m.dataPoints[g].x.getTime?(n=!0,m.dataPoints[g].x.getTime()):m.dataPoints[g].x,i=Nt(m.dataPoints[g].y)?null:m.dataPoints[g].y,e<s.min&&(s.min=e),e>s.max&&(s.max=e),0<g&&(t.axisX.logarithmic?((p=e/m.dataPoints[g-1].x)<1&&(p=1/p),s.minDiff>p&&1!==p&&(s.minDiff=p)):((p=e-m.dataPoints[g-1].x)<0&&(p*=-1),s.minDiff>p&&0!==p&&(s.minDiff=p)),Nt(i)||null===m.dataPoints[g-1].y||(t.axisY.logarithmic?0<i&&((u=i/m.dataPoints[g-1].y)<1&&(u=1/u),a.minDiff>u)&&1!==u&&(a.minDiff=u):((u=i-m.dataPoints[g-1].y)<0&&(u*=-1),a.minDiff>u&&0!==u&&(a.minDiff=u)))),e<x&&!b)null!==i&&(d=e);else if(!b&&(b=!0,0<g))g-=2;else{if(c<e&&!y)y=!0;else if(c<e&&y)continue;m.dataPoints[g].label&&(t.axisX.labels[e]=m.dataPoints[g].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),null===i?s.viewPortMin===e&&d<e&&(s.viewPortMin=d):(t.yTotals[e]=(t.yTotals[e]||0)+i,0<=i?o=!0:i<0&&(l=!0),r[e]?r[e]+=Math.abs(i):r[e]=Math.abs(i))}m.axisX.valueType=m.xValueType=n?'dateTime':'number'}t.axisY.logarithmic?(a.max=Nt(a.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(a.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),a.min=Nt(a.viewPortMin)?1:Math.min(a.viewPortMin,1)):o&&!l?(a.max=Nt(a.viewPortMax)?99:Math.max(a.viewPortMax,99),a.min=Nt(a.viewPortMin)?1:Math.min(a.viewPortMin,1)):o&&l?(a.max=Nt(a.viewPortMax)?99:Math.max(a.viewPortMax,99),a.min=Nt(a.viewPortMin)?-99:Math.min(a.viewPortMin,-99)):!o&&l&&(a.max=Nt(a.viewPortMax)?-1:Math.max(a.viewPortMax,-1),a.min=Nt(a.viewPortMin)?-99:Math.min(a.viewPortMin,-99)),a.viewPortMin=a.min,a.viewPortMax=a.max,t.dataPointYSums=r}},r.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1))for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=0;o<t.dataSeriesIndexes.length;o++){var l,r,h,d,x,c,p=this.data[t.dataSeriesIndexes[o]],u=0,m=!1,g=!1;for('normal'!==p.axisPlacement&&'xySwapped'!==p.axisPlacement||(h=t.axisX.sessionVariables.newViewportMinimum||(this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0),d=t.axisX.sessionVariables.newViewportMaximum||(this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0)),(p.dataPoints[u].x&&p.dataPoints[u].x.getTime||'dateTime'===p.xValueType)&&(n=!0),u=0;u<p.dataPoints.length;u++){if(void 0===p.dataPoints[u].x&&(p.dataPoints[u].x=u+(t.axisX.logarithmic?1:0)),e=p.dataPoints[u].x.getTime?(n=!0,p.dataPoints[u].x.getTime()):p.dataPoints[u].x,(i=p.dataPoints[u].y)&&i.length){for(var b=Math.min.apply(null,i),y=Math.max.apply(null,i),v=!0,f=0;f<i.length;f++)null===i.k&&(v=!1);v&&(m||(r=l),l=e)}if(e<s.min&&(s.min=e),e>s.max&&(s.max=e),b<a.min&&(a.min=b),y>a.max&&(a.max=y),0<u&&(t.axisX.logarithmic?((x=e/p.dataPoints[u-1].x)<1&&(x=1/x),s.minDiff>x&&1!==x&&(s.minDiff=x)):((x=e-p.dataPoints[u-1].x)<0&&(x*=-1),s.minDiff>x&&0!==x&&(s.minDiff=x)),i)&&null!==i[0]&&p.dataPoints[u-1].y&&null!==p.dataPoints[u-1].y[0]&&(t.axisY.logarithmic?((c=i[0]/p.dataPoints[u-1].y[0])<1&&(c=1/c),a.minDiff>c&&1!==c&&(a.minDiff=c)):((c=i[0]-p.dataPoints[u-1].y[0])<0&&(c*=-1),a.minDiff>c&&0!==c&&(a.minDiff=c))),!(e<h)||m)if(!m&&(m=!0,0<u))u-=2,l=r;else{if(d<e&&!g)g=!0;else if(d<e&&g)continue;if(p.dataPoints[u].label&&(t.axisX.labels[e]=p.dataPoints[u].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),s.viewPortMin===e&&i)for(f=0;f<i.length;f++)if(null===i[f]&&l<e){s.viewPortMin=l;break}null===i?s.viewPortMin===e&&l<e&&(s.viewPortMin=l):(b<a.viewPortMin&&(a.viewPortMin=b),y>a.viewPortMax&&(a.viewPortMax=y))}}p.axisX.valueType=p.xValueType=n?'dateTime':'number'}},r.prototype._processSpecificPlotUnit=function(t){var e=this;if('waterfall'===t.type&&t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1))for(var i,a,s=t.axisY.dataInfo,n=t.axisX.dataInfo,o=!1,l=0;l<t.dataSeriesIndexes.length;l++){var r,h,d,x,c=e.data[t.dataSeriesIndexes[l]],p=0,u=!1,m=!1,g=0,b=0;for('normal'!==c.axisPlacement&&'xySwapped'!==c.axisPlacement||(r=t.axisX.sessionVariables.newViewportMinimum||(e.options.axisX&&e.options.axisX.viewportMinimum?e.options.axisX.viewportMinimum:e.options.axisX&&e.options.axisX.minimum?e.options.axisX.minimum:t.axisX.logarithmic?0:-1/0),h=t.axisX.sessionVariables.newViewportMaximum||(e.options.axisX&&e.options.axisX.viewportMaximum?e.options.axisX.viewportMaximum:e.options.axisX&&e.options.axisX.maximum?e.options.axisX.maximum:1/0)),(c.dataPoints[p].x&&c.dataPoints[p].x.getTime||'dateTime'===c.xValueType)&&(o=!0),p=0;p<c.dataPoints.length;p++)void 0!==c.dataPoints[p].isCumulativeSum&&!0===c.dataPoints[p].isCumulativeSum?(c.dataPointEOs[p].cumulativeSumYStartValue=0,c.dataPointEOs[p].cumulativeSum=0===p?0:c.dataPointEOs[p-1].cumulativeSum,c.dataPoints[p].y=0===p?0:c.dataPointEOs[p-1].cumulativeSum):void 0!==c.dataPoints[p].isIntermediateSum&&!0===c.dataPoints[p].isIntermediateSum?(c.dataPointEOs[p].cumulativeSumYStartValue=b,c.dataPointEOs[p].cumulativeSum=0===p?0:c.dataPointEOs[p-1].cumulativeSum,c.dataPoints[p].y=0===p?0:g,b=0===p?0:c.dataPointEOs[p-1].cumulativeSum,g=0):(a='number'!=typeof c.dataPoints[p].y?0:c.dataPoints[p].y,c.dataPointEOs[p].cumulativeSumYStartValue=0===p?0:c.dataPointEOs[p-1].cumulativeSum,c.dataPointEOs[p].cumulativeSum=0===p?a:c.dataPointEOs[p-1].cumulativeSum+a,g+=a);for(p=0;p<c.dataPoints.length;p++)if(void 0===c.dataPoints[p].x&&(c.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),i=c.dataPoints[p].x.getTime?(o=!0,c.dataPoints[p].x.getTime()):c.dataPoints[p].x,a=c.dataPoints[p].y,i<n.min&&(n.min=i),i>n.max&&(n.max=i),c.dataPointEOs[p].cumulativeSum<s.min&&(s.min=c.dataPointEOs[p].cumulativeSum),c.dataPointEOs[p].cumulativeSum>s.max&&(s.max=c.dataPointEOs[p].cumulativeSum),0<p&&(t.axisX.logarithmic?((d=i/c.dataPoints[p-1].x)<1&&(d=1/d),n.minDiff>d&&1!==d&&(n.minDiff=d)):((d=i-c.dataPoints[p-1].x)<0&&(d*=-1),n.minDiff>d&&0!==d&&(n.minDiff=d)),null!==a)&&null!==c.dataPoints[p-1].y&&(t.axisY.logarithmic?((x=c.dataPointEOs[p].cumulativeSum/c.dataPointEOs[p-1].cumulativeSum)<1&&(x=1/x),s.minDiff>x&&1!==x&&(s.minDiff=x)):((x=c.dataPointEOs[p].cumulativeSum-c.dataPointEOs[p-1].cumulativeSum)<0&&(x*=-1),s.minDiff>x&&0!==x&&(s.minDiff=x))),i<r&&!u)null!==a&&0;else if(!u&&(u=!0,0<p))p-=2;else{if(h<i&&!m)m=!0;else if(h<i&&m)continue;c.dataPoints[p].label&&(t.axisX.labels[i]=c.dataPoints[p].label),i<n.viewPortMin&&(n.viewPortMin=i),i>n.viewPortMax&&(n.viewPortMax=i),0<p&&(c.dataPointEOs[p-1].cumulativeSum<s.viewPortMin&&(s.viewPortMin=c.dataPointEOs[p-1].cumulativeSum),c.dataPointEOs[p-1].cumulativeSum>s.viewPortMax)&&(s.viewPortMax=c.dataPointEOs[p-1].cumulativeSum),c.dataPointEOs[p].cumulativeSum<s.viewPortMin&&(s.viewPortMin=c.dataPointEOs[p].cumulativeSum),c.dataPointEOs[p].cumulativeSum>s.viewPortMax&&(s.viewPortMax=c.dataPointEOs[p].cumulativeSum)}c.axisX.valueType=c.xValueType=o?'dateTime':'number'}},r.prototype.calculateAutoBreaks=function(){for(var D,z=this,X=!1,t=0;t<this._axes.length;t++)if(this._axes[t].scaleBreaks&&this._axes[t].scaleBreaks.autoCalculate&&1<=this._axes[t].scaleBreaks.maxNumberOfAutoBreaks){X=!0,this._axes[t].dataInfo._dataRanges=[];for(var e=0;e<100/Math.max(parseFloat(this._axes[t].scaleBreaks.collapsibleThreshold)||10,10);e++)this._axes[t].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(X){for(t=0;t<this.plotInfo.plotTypes.length;t++)for(var Y=this.plotInfo.plotTypes[t],e=0;e<Y.plotUnits.length;e++){var i=Y.plotUnits[e];if('line'===i.type||'stepLine'===i.type||'spline'===i.type||'column'===i.type||'area'===i.type||'stepArea'===i.type||'splineArea'===i.type||'bar'===i.type||'bubble'===i.type||'scatter'===i.type||'candlestick'===i.type||'ohlc'===i.type||'rangeColumn'===i.type||'rangeBar'===i.type||'rangeArea'===i.type||'rangeSplineArea'===i.type||'waterfall'===i.type||'error'===i.type||'boxAndWhisker'===i.type){a=void 0;s=void 0;n=void 0;h=void 0;d=void 0;o=void 0;l=void 0;x=void 0;O=void 0;c=void 0;E=void 0;p=void 0;u=void 0;r=void 0;m=void 0;g=void 0;y=void 0;b=void 0;v=void 0;f=void 0;var a=i;if(a.dataSeriesIndexes&&!(a.dataSeriesIndexes.length<1)){var s=a.axisX.scaleBreaks&&a.axisX.scaleBreaks.autoCalculate&&1<=a.axisX.scaleBreaks.maxNumberOfAutoBreaks,n=a.axisY.scaleBreaks&&a.axisY.scaleBreaks.autoCalculate&&1<=a.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(s||n)for(var o,l,r,h=a.axisY.dataInfo,d=a.axisX.dataInfo,x=d.min,O=d.max,c=h.min,E=h.max,p=d._dataRanges,u=h._dataRanges,m=0,g=0;g<a.dataSeriesIndexes.length;g++){var b,y=z.data[a.dataSeriesIndexes[g]];if(!(y.dataPoints.length<4))for(m=0;m<y.dataPoints.length;m++)if(s&&(b=(O+1-x)*Math.max(parseFloat(a.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,o=y.dataPoints[m].x.getTime?y.dataPoints[m].x.getTime():y.dataPoints[m].x,r=Math.floor((o-x)/b),o<p[r].min&&(p[r].min=o),o>p[r].max)&&(p[r].max=o),n){var v=(E+1-c)*Math.max(parseFloat(a.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((l='waterfall'===a.type?y.dataPointEOs[m].cumulativeSum:y.dataPoints[m].y)&&l.length)for(var f=0;f<l.length;f++)r=Math.floor((l[f]-c)/v),l[f]<u[r].min&&(u[r].min=l[f]),l[f]>u[r].max&&(u[r].max=l[f]);else Nt(l)||(r=Math.floor((l-c)/v),l<u[r].min&&(u[r].min=l),l>u[r].max&&(u[r].max=l))}}}}else if(0<=i.type.indexOf('stacked')){S=C=w=P=T=N=R=k=d=M=void 0;var M=i;if(M.dataSeriesIndexes&&!(M.dataSeriesIndexes.length<1)&&M.axisX.scaleBreaks&&M.axisX.scaleBreaks.autoCalculate&&1<=M.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var k,d=M.axisX.dataInfo,R=d.min,N=d.max,T=d._dataRanges,P=0,w=0;w<M.dataSeriesIndexes.length;w++){var C=z.data[M.dataSeriesIndexes[w]];if(!(C.dataPoints.length<4))for(P=0;P<C.dataPoints.length;P++){var S=(N+1-R)*Math.max(parseFloat(M.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100;k=C.dataPoints[P].x.getTime?C.dataPoints[P].x.getTime():C.dataPoints[P].x,S=Math.floor((k-R)/S),k<T[S].min&&(T[S].min=k),k>T[S].max&&(T[S].max=k)}}}}for(t=0;t<this._axes.length;t++)if(this._axes[t].dataInfo._dataRanges){var A,_,H,U=this._axes[t].dataInfo.min,j=(this._axes[t].dataInfo.max+1-U)*Math.max(parseFloat(this._axes[t].scaleBreaks.collapsibleThreshold)||10,10)/100,B=this._axes[t].dataInfo._dataRanges,F=[];if(this._axes[t].dataInfo.dataPointYPositiveSums){var K=this._axes[t].dataInfo.dataPointYPositiveSums,L=B;for(e in K)!K.hasOwnProperty(e)||isNaN(e)||Nt(I=K[e])||(I<L[V=Math.floor((I-U)/j)].min&&(L[V].min=I),I>L[V].max&&(L[V].max=I));delete this._axes[t].dataInfo.dataPointYPositiveSums}if(this._axes[t].dataInfo.dataPointYNegativeSums){var I,V,q=this._axes[t].dataInfo.dataPointYNegativeSums,L=B;for(e in q)!q.hasOwnProperty(e)||isNaN(e)||Nt(I=-1*q[e])||(I<L[V=Math.floor((I-U)/j)].min&&(L[V].min=I),I>L[V].max&&(L[V].max=I));delete this._axes[t].dataInfo.dataPointYNegativeSums}for(e=0;e<B.length-1;e++)if(_=B[e].max,isFinite(_))for(;e<B.length-1;){if(A=B[e+1].min,isFinite(A)){j<(H=A-_)&&F.push({diff:H,start:_,end:A});break}e++}if(this._axes[t].scaleBreaks.customBreaks)for(e=0;e<this._axes[t].scaleBreaks.customBreaks.length;e++)for(var W=0;W<F.length;W++)(this._axes[t].scaleBreaks.customBreaks[e].startValue<=F[W].start&&F[W].start<=this._axes[t].scaleBreaks.customBreaks[e].endValue||this._axes[t].scaleBreaks.customBreaks[e].startValue<=F[W].start&&F[W].start<=this._axes[t].scaleBreaks.customBreaks[e].endValue||F[W].start<=this._axes[t].scaleBreaks.customBreaks[e].startValue&&this._axes[t].scaleBreaks.customBreaks[e].startValue<=F[W].end||F[W].start<=this._axes[t].scaleBreaks.customBreaks[e].endValue&&this._axes[t].scaleBreaks.customBreaks[e].endValue<=F[W].end)&&(F.splice(W,1),W--);F.sort(function(t,e){return e.diff-t.diff});for(e=0;e<Math.min(F.length,this._axes[t].scaleBreaks.maxNumberOfAutoBreaks);e++)D=function(t,e,i,a){{var s;return a?((s=Math.pow(Math.min(i*t/e,e/t),.2))<=1&&(s=Math.pow(t<1?1/t:Math.min(e/t,t),.25)),{startValue:t*s,endValue:e/s}):((s=.2*Math.min(i-e+t,e-t))<=0&&(s=.25*Math.min(e-t,Math.abs(t))),{startValue:t+s,endValue:e-s})}}(F[e].start,F[e].end,this._axes[t].logarithmic?this._axes[t].dataInfo.max/this._axes[t].dataInfo.min:this._axes[t].dataInfo.max-this._axes[t].dataInfo.min,this._axes[t].logarithmic),this._axes[t].scaleBreaks.autoBreaks.push(new G(this,'autoBreaks',D,e,++this._eventManager.lastObjectId,this._axes[t].scaleBreaks)),this._axes[t].scaleBreaks._appliedBreaks.push(this._axes[t].scaleBreaks.autoBreaks[this._axes[t].scaleBreaks.autoBreaks.length-1]);this._axes[t].scaleBreaks._appliedBreaks.sort(function(t,e){return t.startValue-e.startValue})}}},r.prototype.getDataPointAtXY=function(t,e,i){i=i||!1;for(var a=[],s=this._dataInRenderedOrder.length-1;0<=s;s--){var n;(n=this._dataInRenderedOrder[s].getDataPointAtXY(t,e,i))&&a.push(n)}for(var o=null,l=!1,r=0;r<a.length;r++)if('line'===a[r].dataSeries.type||'stepLine'===a[r].dataSeries.type||'area'===a[r].dataSeries.type||'stepArea'===a[r].dataSeries.type){var h=D('markerSize',a[r].dataPoint,a[r].dataSeries)||8;if(a[r].distance<=h/2){l=!0;break}}for(r=0;r<a.length;r++)l&&'line'!==a[r].dataSeries.type&&'stepLine'!==a[r].dataSeries.type&&'area'!==a[r].dataSeries.type&&'stepArea'!==a[r].dataSeries.type||(!o||a[r].distance<=o.distance)&&(o=a[r]);return o},r.prototype.getObjectAtXY=function(t,e,i){var a=null,i=this.getDataPointAtXY(t,e,i=i||!1);if(i)a=i.dataSeries.dataPointIds[i.dataPointIndex];else if(Et)a=Q(t,e,this._eventManager.ghostCtx);else for(var s=0;s<this.legend.items.length;s++){var n=this.legend.items[s];t>=n.x1&&t<=n.x2&&e>=n.y1&&e<=n.y2&&(a=n.id)}return a},r.prototype.getAutoFontSize=K,r.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},r.prototype.clearCanvas=j,r.prototype.attachEvent=function(t){this._events.push(t)},r.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],i=t.changedTouches,a=i?i[0]:t,s=null;switch(t.type){case'touchstart':case'MSPointerDown':e=['mousemove','mousedown'],this._lastTouchData=Z(a),this._lastTouchData.time=new Date;break;case'touchmove':case'MSPointerMove':e=['mousemove'];break;case'touchend':case'MSPointerUp':var n=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,e='touchstart'===this._lastTouchEventType||'MSPointerDown'===this._lastTouchEventType||n<300?['mouseup','click']:['mouseup'];break;default:return}if(!(i&&1<i.length)){(s=Z(a)).time=new Date;try{var o=s.y-this._lastTouchData.y,n=(s.x,this._lastTouchData.x,s.time-this._lastTouchData.time);(1<Math.abs(o)&&this._lastTouchData.scroll||5<Math.abs(o)&&n<250)&&(this._lastTouchData.scroll=!0)}catch(t){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(var l=0;l<e.length;l++){var r=e[l],h=document.createEvent('MouseEvent');h.initMouseEvent(r,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(h),(!Nt(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<n||'click'===r)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault)&&t.preventDefault()}}}},r.prototype._dispatchRangeEvent=function(t,e){var i={},a=(i.chart=this,i.type=t,i.trigger=e,[]);this.axisX&&0<this.axisX.length&&a.push('axisX'),this.axisX2&&0<this.axisX2.length&&a.push('axisX2'),this.axisY&&0<this.axisY.length&&a.push('axisY'),this.axisY2&&0<this.axisY2.length&&a.push('axisY2');for(var s=0;s<a.length;s++)if(Nt(i[a[s]])&&(i[a[s]]=[]),'axisY'===a[s])for(var n=0;n<this.axisY.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if('axisY2'===a[s])for(n=0;n<this.axisY2.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if('axisX'===a[s])for(n=0;n<this.axisX.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if('axisX2'===a[s])for(n=0;n<this.axisX2.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});this.dispatchEvent(t,i,this)},r.prototype._mouseEventHandler=function(t){void 0===t.target&&t.srcElement&&(t.target=t.srcElement);var e,i,a=Z(t),s=t.type;if(t||window.event,t.which?o=3==t.which:t.button&&(o=2==t.button),r.capturedEventParam&&(i=(e=r.capturedEventParam).bounds,'mouseup'===s&&(r.capturedEventParam=null,e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener('mouseup',e.chart._mouseEventHandler,!1)),e.hasOwnProperty(s))&&('mouseup'!==s||e.chart.overlaidCanvas.releaseCapture?t.target!==e.chart.overlaidCanvas&&Et||e[s].call(e.context,a.x,a.y):t.target!==e.chart.overlaidCanvas&&(e.chart.isDrag=!1)),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),m&&window.console&&(window.console.log(s+' --\x3e x: '+a.x+'; y:'+a.y),o&&window.console.log(t.which),'mouseup'===s)&&window.console.log('mouseup'),!o){if(!r.capturedEventParam&&this._events){for(var n=0;n<this._events.length;n++)if(this._events[n].hasOwnProperty(s)){if(e=this._events[n],i=e.bounds,a.x>=i.x1&&a.x<=i.x2&&a.y>=i.y1&&a.y<=i.y2){e[s].call(e.context,a.x,a.y),'mousedown'===s&&!0===e.capture?(r.capturedEventParam=e,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener('mouseup',this._mouseEventHandler,!1)):'mouseup'===s&&(e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener('mouseup',this._mouseEventHandler,!1));break}e=null}e&&e.cursor?t.target.style.cursor=e.cursor:t.target.style.cursor=this._defaultCursor}var o=this.plotArea;(a.x<o.x1||a.x>o.x2||a.y<o.y1||a.y>o.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}},r.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},r.prototype._plotAreaMouseUp=function(t,e){this.plotArea;if(('normal'===this.plotInfo.axisPlacement||'xySwapped'===this.plotInfo.axisPlacement)&&this.isDrag){var i=e-this.dragStartPoint.y,a=t-this.dragStartPoint.x,s=0<=this.zoomType.indexOf('x'),n=0<=this.zoomType.indexOf('y'),o=!1;if(this.resetOverlayedCanvas(),'xySwapped'===this.plotInfo.axisPlacement&&(d=n,n=s,s=d),this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(var l=0,r=0;r<this._axes.length;r++){var h=this._axes[r];h.logarithmic?h.viewportMinimum<h.minimum?(l=h.minimum/h.viewportMinimum,h.sessionVariables.newViewportMinimum=h.viewportMinimum*l,h.sessionVariables.newViewportMaximum=h.viewportMaximum*l,o=!0):h.viewportMaximum>h.maximum&&(l=h.viewportMaximum/h.maximum,h.sessionVariables.newViewportMinimum=h.viewportMinimum/l,h.sessionVariables.newViewportMaximum=h.viewportMaximum/l,o=!0):h.viewportMinimum<h.minimum?(l=h.minimum-h.viewportMinimum,h.sessionVariables.newViewportMinimum=h.viewportMinimum+l,h.sessionVariables.newViewportMaximum=h.viewportMaximum+l,o=!0):h.viewportMaximum>h.maximum&&(l=h.viewportMaximum-h.maximum,h.sessionVariables.newViewportMinimum=h.viewportMinimum-l,h.sessionVariables.newViewportMaximum=h.viewportMaximum-l,o=!0)}else if((!s||2<Math.abs(a))&&(!n||2<Math.abs(i))&&this.zoomEnabled){if(!this.dragStartPoint)return;var d={x1:s?this.dragStartPoint.x:this.plotArea.x1,y1:n?this.dragStartPoint.y:this.plotArea.y1,x2:s?t:this.plotArea.x2,y2:n?e:this.plotArea.y2};2<Math.abs(d.x1-d.x2)&&2<Math.abs(d.y1-d.y2)&&this._zoomPanToSelectedRegion(d.x1,d.y1,d.x2,d.y2)&&(o=!0)}o&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent('rangeChanging','zoom'),this.render(),this._dispatchRangeEvent('rangeChanged','zoom'),o)&&this.zoomEnabled&&'none'===this._zoomButton.style.display&&(st(this._zoomButton,this._resetButton),P(this,this._zoomButton,'pan'),P(this,this._resetButton,'reset'))}}if(this.isDrag=!1,'none'!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(var x=0;x<this.axisX.length;x++)this.axisX[x].crosshair&&this.axisX[x].crosshair.enabled&&this.axisX[x].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(x=0;x<this.axisX2.length;x++)this.axisX2[x].crosshair&&this.axisX2[x].crosshair.enabled&&this.axisX2[x].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(x=0;x<this.axisY.length;x++)this.axisY[x].crosshair&&this.axisY[x].crosshair.enabled&&this.axisY[x].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(x=0;x<this.axisY2.length;x++)this.axisY2[x].crosshair&&this.axisY2[x].crosshair.enabled&&this.axisY2[x].renderCrosshair(t,e)}},r.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&'none'!==this.plotInfo.axisPlacement){var i,a,s=0<=this.zoomType.indexOf('x'),n=0<=this.zoomType.indexOf('y'),o=this;'xySwapped'===this.plotInfo.axisPlacement&&(a=n,n=s,s=a),a=this.dragStartPoint.x-t,i=this.dragStartPoint.y-e,2<Math.abs(a)&&Math.abs(a)<8&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,e),(!s||2<Math.abs(a)||!n||2<Math.abs(i))&&(this.panEnabled||this.zoomEnabled)&&(this.panEnabled?(a={x1:s?this.plotArea.x1+a:this.plotArea.x1,y1:n?this.plotArea.y1+i:this.plotArea.y1,x2:s?this.plotArea.x2+a:this.plotArea.x2,y2:n?this.plotArea.y2+i:this.plotArea.y2},clearTimeout(o._panTimerId),o._panTimerId=setTimeout((r=a.x1,h=a.y1,d=a.x2,x=a.y2,function(){o._zoomPanToSelectedRegion(r,h,d,x,!0)&&(o._dispatchRangeEvent('rangeChanging','pan'),o.render(),o._dispatchRangeEvent('rangeChanged','pan'),o.dragStartPoint.x=t,o.dragStartPoint.y=e)}),0)):this.zoomEnabled&&(this.resetOverlayedCanvas(),i=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle='#A89896',a={x1:s?this.dragStartPoint.x:this.plotArea.x1,y1:n?this.dragStartPoint.y:this.plotArea.y1,x2:s?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,y2:n?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1},this.validateRegion(a.x1,a.y1,s?t:this.plotArea.x2-this.plotArea.x1,n?e:this.plotArea.y2-this.plotArea.y1,'xy'!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle='#99B2B5'),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(a.x1,a.y1,a.x2,a.y2),this.overlaidCanvasCtx.globalAlpha=i))}else if(this.toolTip.mouseMoveHandler(t,e),'none'!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(var l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(t,e)}var r,h,d,x},r.prototype._zoomPanToSelectedRegion=function(t,e,i,a,s){var t=this.validateRegion(t,e,i,a,s),n=t.axesWithValidRange,o=t.axesRanges;if(t.isValid)for(var l=0;l<n.length;l++){var r=n[l],h=o[l];r.setViewPortRange(h.val1,h.val2),this.syncCharts&&this.syncCharts(h.val1,h.val2)}return t.isValid},r.prototype.validateRegion=function(t,e,i,a,s){s=s||!1;for(var n=0<=this.zoomType.indexOf('x'),o=0<=this.zoomType.indexOf('y'),l=!1,r=[],h=[],d=[],x=0;x<this._axes.length;x++)('axisX'===this._axes[x].type&&n||'axisY'===this._axes[x].type&&o)&&h.push(this._axes[x]);for(var c=0;c<h.length;c++){var p=h[c],u=!1,m=p.convertPixelToValue({x:t,y:e}),g=p.convertPixelToValue({x:i,y:a});if(g<m&&(y=g,g=m,m=y),p.scaleBreaks)for(var b=0;!u&&b<p.scaleBreaks._appliedBreaks.length;b++)u=p.scaleBreaks._appliedBreaks[b].startValue<=m&&p.scaleBreaks._appliedBreaks[b].endValue>=g;if(isFinite(p.dataInfo.minDiff)){var y=p.getApparentDifference(m,g,null,!0);if(u||!(this.panEnabled&&p.scaleBreaks&&p.scaleBreaks._appliedBreaks.length)&&(p.logarithmic&&y<Math.pow(p.dataInfo.minDiff,3)||!p.logarithmic&&y<3*Math.abs(p.dataInfo.minDiff))||m<p.minimum||g>p.maximum){if(!s){l=!1;break}}else r.push(p),d.push({val1:m,val2:g}),l=!0}}return{isValid:l,axesWithValidRange:r,axesRanges:d}},r.prototype.preparePlotArea=function(){var t,e,i=this.plotArea;!Et&&(0<i.x1||0<i.y1)&&i.ctx.translate(i.x1,i.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])?(e=(this.axisX[0]?this.axisX:this.axisX2)[0].lineCoordinates,this.axisY&&0<this.axisY.length&&this.axisY[0]&&(t=this.axisY[0],i.x1=(e.x1<e.x2?e:t.lineCoordinates).x1,i.y1=(e.y1<t.lineCoordinates.y1?e:t.lineCoordinates).y1,i.x2=(e.x2>t.lineCoordinates.x2?e:t.lineCoordinates).x2,i.y2=(e.y2>e.y1?e:t.lineCoordinates).y2,i.width=i.x2-i.x1,i.height=i.y2-i.y1),this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(t=this.axisY2[0],i.x1=(e.x1<e.x2?e:t.lineCoordinates).x1,i.y1=(e.y1<t.lineCoordinates.y1?e:t.lineCoordinates).y1,i.x2=(e.x2>t.lineCoordinates.x2?e:t.lineCoordinates).x2,i.y2=(e.y2>e.y1?e:t.lineCoordinates).y2,i.width=i.x2-i.x1,i.height=i.y2-i.y1)):(e=this.layoutManager.getFreeSpace(),i.x1=e.x1,i.x2=e.x2,i.y1=e.y1,i.y2=e.y2,i.width=e.width,i.height=e.height),!Et&&(i.canvas.width=i.width,i.canvas.height=i.height,i.canvas.style.left=i.x1+'px',i.canvas.style.top=i.y1+'px',0<i.x1||0<i.y1)&&i.ctx.translate(-i.x1,-i.y1),i.layoutManager=new A(i.x1,i.y1,i.x2,i.y2,2)},r.prototype.renderIndexLabels=function(t){for(var e=t||this.plotArea.ctx,i=this.plotArea,a=0,s=0,n=0,o=0,l=0,r=0,h=0,d=0,x=0,c=0;c<this._indexLabels.length;c++){var p,u,m=(W=this._indexLabels[c]).chartType.toLowerCase(),g=D('indexLabelFontColor',W.dataPoint,W.dataSeries),b=D('indexLabelFontSize',W.dataPoint,W.dataSeries),y=D('indexLabelFontFamily',W.dataPoint,W.dataSeries),v=D('indexLabelFontStyle',W.dataPoint,W.dataSeries),f=D('indexLabelFontWeight',W.dataPoint,W.dataSeries),M=D('indexLabelBackgroundColor',W.dataPoint,W.dataSeries),k=D('indexLabelMaxWidth',W.dataPoint,W.dataSeries),T=D('indexLabelWrap',W.dataPoint,W.dataSeries),P=D('indexLabelLineDashType',W.dataPoint,W.dataSeries),w=D('indexLabelLineColor',W.dataPoint,W.dataSeries),C=Nt(W.dataPoint.indexLabelLineThickness)?Nt(W.dataSeries.options.indexLabelLineThickness)?0:W.dataSeries.options.indexLabelLineThickness:W.dataPoint.indexLabelLineThickness,S=0<C?Math.min(10,('normal'===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,A={percent:null,total:null},_=null,A=((0<=W.dataSeries.type.indexOf('stacked')||'pie'===W.dataSeries.type||'doughnut'===W.dataSeries.type)&&(A=this.getPercentAndTotal(W.dataSeries,W.dataPoint)),(W.dataSeries.indexLabelFormatter||W.dataPoint.indexLabelFormatter)&&(_={chart:this,dataSeries:W.dataSeries,dataPoint:W.dataPoint,index:W.indexKeyword,total:A.total,percent:A.percent}),W.dataPoint.indexLabelFormatter?W.dataPoint.indexLabelFormatter(_):W.dataPoint.indexLabel?this.replaceKeywordsWithValue(W.dataPoint.indexLabel,W.dataPoint,W.dataSeries,null,W.indexKeyword):W.dataSeries.indexLabelFormatter?W.dataSeries.indexLabelFormatter(_):W.dataSeries.indexLabel?this.replaceKeywordsWithValue(W.dataSeries.indexLabel,W.dataPoint,W.dataSeries,null,W.indexKeyword):null);if(null!==A&&''!==A){var _=D('indexLabelPlacement',W.dataPoint,W.dataSeries),B=D('indexLabelOrientation',W.dataPoint,W.dataSeries),F=W.direction,L=W.dataSeries.axisX,I=W.dataSeries.axisY,V=!1,k=new jt(e,{x:0,y:0,maxWidth:k||.5*this.width,maxHeight:T?5*b:1.5*b,angle:'horizontal'===B?0:-90,text:A,padding:0,backgroundColor:M,horizontalAlign:'left',fontSize:b,fontFamily:y,fontWeight:f,fontColor:g,fontStyle:v,textBaseline:'top'});k.measureText();if(W.dataSeries.indexLabelMaxWidth=k.maxWidth,'stackedarea100'===m){if(W.point.x<i.x1||W.point.x>i.x2||W.point.y<i.y1-1||W.point.y>i.y2+1)continue}else if('rangearea'===m||'rangesplinearea'===m){if(W.dataPoint.x<L.viewportMinimum||W.dataPoint.x>L.viewportMaximum||Math.max.apply(null,W.dataPoint.y)<I.viewportMinimum||Math.min.apply(null,W.dataPoint.y)>I.viewportMaximum)continue}else if(0<=m.indexOf('line')||0<=m.indexOf('area')||0<=m.indexOf('bubble')||0<=m.indexOf('scatter')){if(W.dataPoint.x<L.viewportMinimum||W.dataPoint.x>L.viewportMaximum||W.dataPoint.y<I.viewportMinimum||W.dataPoint.y>I.viewportMaximum)continue}else if(0<=m.indexOf('column')||'waterfall'===m||'error'===m&&!W.axisSwapped){if(W.dataPoint.x<L.viewportMinimum||W.dataPoint.x>L.viewportMaximum||W.bounds.y1>i.y2||W.bounds.y2<i.y1)continue}else if(0<=m.indexOf('bar')||'error'===m){if(W.dataPoint.x<L.viewportMinimum||W.dataPoint.x>L.viewportMaximum||W.bounds.x1>i.x2||W.bounds.x2<i.x1)continue}else if('candlestick'===m||'ohlc'===m){if(W.dataPoint.x<L.viewportMinimum||W.dataPoint.x>L.viewportMaximum||Math.max.apply(null,W.dataPoint.y)<I.viewportMinimum||Math.min.apply(null,W.dataPoint.y)>I.viewportMaximum)continue}else if(W.dataPoint.x<L.viewportMinimum||W.dataPoint.x>L.viewportMaximum)continue;r=h=2,'horizontal'===B?(d=k.width,x=k.height):(x=k.width,d=k.height),'normal'===this.plotInfo.axisPlacement?(0<=m.indexOf('line')||0<=m.indexOf('area')?(_='auto',h=4):0<=m.indexOf('stacked')?'auto'===_&&(_='inside'):'bubble'!==m&&'scatter'!==m||(_='inside'),p=W.point.x-d/2,'inside'!==_?(s=i.y1,n=i.y2,0<F?(u=W.point.y-x-h-S)<s&&(V=(u='auto'===_?Math.max(W.point.y,s)+h+S:s+h+S)+x>W.point.y):n-x-h-S<(u=W.point.y+h+S)&&(V=(u='auto'===_?Math.min(W.point.y,n)-x-h-S:n-x-h-S)<W.point.y)):(s=Math.max(W.bounds.y1,i.y1),n=Math.min(W.bounds.y2,i.y2),a=0<=m.indexOf('range')||'error'===m?0<F?Math.max(W.bounds.y1,i.y1)+x/2+h:Math.min(W.bounds.y2,i.y2)-x/2-h:(Math.max(W.bounds.y1,i.y1)+Math.min(W.bounds.y2,i.y2))/2,0<F?(u=Math.max(W.point.y,a)-x/2)<s&&('bubble'===m||'scatter'===m)&&(u=Math.max(W.point.y-x-h,i.y1+h)):n-x-h<(u=Math.min(W.point.y,a)-x/2)&&('bubble'===m||'scatter'===m)&&(u=Math.min(W.point.y+h,i.y2-x-h)),u=Math.min(u,n-x))):(0<=m.indexOf('line')||0<=m.indexOf('area')||0<=m.indexOf('scatter')?(_='auto',r=4):0<=m.indexOf('stacked')?'auto'===_&&(_='inside'):'bubble'===m&&(_='inside'),u=W.point.y-x/2,'inside'!==_?(o=i.x1,l=i.x2,F<0?(p=W.point.x-d-r-S)<o&&(V=(p='auto'===_?Math.max(W.point.x,o)+r+S:o+r+S)+d>W.point.x):l-d-r-S<(p=W.point.x+r+S)&&(V=(p='auto'===_?Math.min(W.point.x,l)-d-r-S:l-d-r-S)<W.point.x)):(o=Math.max(W.bounds.x1,i.x1),l=Math.min(W.bounds.x2,i.x2),a=0<=m.indexOf('range')||'error'===m?F<0?Math.max(W.bounds.x1,i.x1)+d/2+r:Math.min(W.bounds.x2,i.x2)-d/2-r:(Math.max(W.bounds.x1,i.x1)+Math.min(W.bounds.x2,i.x2))/2,p=F<0?Math.max(W.point.x,a)-d/2:Math.min(W.point.x,a)-d/2,p=Math.max(p,o))),'vertical'===B&&(u+=x),k.x=p,k.y=u,k.render(!0),C&&'inside'!==_&&(m.indexOf('bar')<0&&('error'!==m||!W.axisSwapped)&&W.point.x>i.x1&&W.point.x<i.x2||!V)&&(m.indexOf('column')<0&&('error'!==m||W.axisSwapped)&&W.point.y>i.y1&&W.point.y<i.y2||!V)&&(e.lineWidth=C,e.strokeStyle=w||'gray',e.setLineDash&&e.setLineDash(Ut(P,C)),e.beginPath(),e.moveTo(W.point.x,W.point.y),0<=m.indexOf('bar')||'error'===m&&W.axisSwapped?e.lineTo(p+(0<W.direction?0:d),u+('horizontal'===B?x:-x)/2):0<=m.indexOf('column')||'error'===m&&!W.axisSwapped?e.lineTo(p+d/2,u+((0<W.direction?x:-x)+('horizontal'===B?x:-x))/2):e.lineTo(p+d/2,u+((u<W.point.y?x:-x)+('horizontal'===B?x:-x))/2),e.stroke())}}for(t={source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0,startTimePercent:.7},c=0;c<this._indexLabels.length;c++){var W,M=D('indexLabelBackgroundColor',(W=this._indexLabels[c]).dataPoint,W.dataSeries);W.dataSeries.indexLabelBackgroundColor=Nt(M)?Et?'transparent':null:M}return t},r.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){for(var s,n=this._eventManager.ghostCtx,a=(i.save(),this.plotArea),o=(i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),[]),l=0;l<t.dataSeriesIndexes.length;l++){var r,h,d=t.dataSeriesIndexes[l],x=this.data[d],c=(i.lineWidth=x.lineThickness,x.dataPoints),p='solid',u=(i.setLineDash&&(r=Ut(x.nullDataLineDashType,x.lineThickness),h=Ut(p=x.lineDashType,x.lineThickness),i.setLineDash(h)),x.id),u=(this._eventManager.objectMap[u]={objectType:'dataSeries',dataSeriesIndex:d},H(u)),u=(n.strokeStyle=u,n.lineWidth=0<x.lineThickness?Math.max(x.lineThickness,4):0,x._colorSet),m=x.lineColor=x.options.lineColor||u[0],g=m,b=(i.strokeStyle=m,!0),y=0;if(i.beginPath(),0<c.length){for(var v,f,M,k,T=!1,y=0;y<c.length;y++)(k=c[y].x.getTime?c[y].x.getTime():c[y].x)<t.axisX.dataInfo.viewPortMin||k>t.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!T)||('number'!=typeof c[y].y?(0<y&&!(x.connectNullData||T||b)&&(i.stroke(),Et)&&n.stroke(),T=!0):(k=t.axisX.convertValueToPixel(k),v=t.axisY.convertValueToPixel(c[y].y),M=x.dataPointIds[y],this._eventManager.objectMap[M]={id:M,objectType:'dataPoint',dataSeriesIndex:d,dataPointIndex:y,x1:k,y1:v},b||T?(!b&&x.connectNullData?(i.setLineDash&&(x.options.nullDataLineDashType||p===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(s.x,s.y),p=x.nullDataLineDashType,i.setLineDash(r)),i.lineTo(k,v),Et&&n.lineTo(k,v)):(i.beginPath(),i.moveTo(k,v),Et&&(n.beginPath(),n.moveTo(k,v))),T=b=!1):(i.lineTo(k,v),Et&&n.lineTo(k,v),y%500==0&&(i.stroke(),i.beginPath(),i.moveTo(k,v),Et)&&(n.stroke(),n.beginPath(),n.moveTo(k,v))),s={x:k,y:v},y<c.length-1&&(g!==(c[y].lineColor||m)||p!==(c[y].lineDashType||x.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(k,v),g=c[y].lineColor||m,i.strokeStyle=g,i.setLineDash)&&(c[y].lineDashType?(p=c[y].lineDashType,i.setLineDash(Ut(p,x.lineThickness))):(p=x.lineDashType,i.setLineDash(h))),(0<c[y].markerSize||0<x.markerSize)&&((f=x.getMarkerProperties(y,k,v,i)).color,o.push(f),M=H(M),Et)&&o.push({x:k,y:v,ctx:n,type:f.type,size:f.size,color:M,borderColor:M,borderThickness:f.borderThickness}),(c[y].indexLabel||x.indexLabel||c[y].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:'line',dataPoint:c[y],dataSeries:x,point:{x:k,y:v},direction:c[y].y<0===t.axisY.reversed?1:-1,color:m})));i.stroke(),Et&&n.stroke()}}return z.drawMarkers(o),Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),n.beginPath()),i.restore(),i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}},r.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){for(var s,n=this._eventManager.ghostCtx,a=(i.save(),this.plotArea),o=(i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),[]),l=0;l<t.dataSeriesIndexes.length;l++){var r,h,d=t.dataSeriesIndexes[l],x=this.data[d],c=(i.lineWidth=x.lineThickness,x.dataPoints),p='solid',u=(i.setLineDash&&(r=Ut(x.nullDataLineDashType,x.lineThickness),h=Ut(p=x.lineDashType,x.lineThickness),i.setLineDash(h)),x.id),u=(this._eventManager.objectMap[u]={objectType:'dataSeries',dataSeriesIndex:d},H(u)),u=(n.strokeStyle=u,n.lineWidth=0<x.lineThickness?Math.max(x.lineThickness,4):0,x._colorSet),m=x.lineColor=x.options.lineColor||u[0],g=m,b=(i.strokeStyle=m,!0),y=0;if(i.beginPath(),0<c.length){for(var v,f,M,k,T=!1,y=0;y<c.length;y++)(k=c[y].getTime?c[y].x.getTime():c[y].x)<t.axisX.dataInfo.viewPortMin||k>t.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!T)||('number'!=typeof c[y].y?(0<y&&!(x.connectNullData||T||b)&&(i.stroke(),Et)&&n.stroke(),T=!0):(f=v,k=t.axisX.convertValueToPixel(k),v=t.axisY.convertValueToPixel(c[y].y),M=x.dataPointIds[y],this._eventManager.objectMap[M]={id:M,objectType:'dataPoint',dataSeriesIndex:d,dataPointIndex:y,x1:k,y1:v},b||T?(!b&&x.connectNullData?(i.setLineDash&&(x.options.nullDataLineDashType||p===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(s.x,s.y),p=x.nullDataLineDashType,i.setLineDash(r)),i.lineTo(k,f),i.lineTo(k,v),Et&&(n.lineTo(k,f),n.lineTo(k,v))):(i.beginPath(),i.moveTo(k,v),Et&&(n.beginPath(),n.moveTo(k,v))),T=b=!1):(i.lineTo(k,f),Et&&n.lineTo(k,f),i.lineTo(k,v),Et&&n.lineTo(k,v),y%500==0&&(i.stroke(),i.beginPath(),i.moveTo(k,v),Et)&&(n.stroke(),n.beginPath(),n.moveTo(k,v))),s={x:k,y:v},y<c.length-1&&(g!==(c[y].lineColor||m)||p!==(c[y].lineDashType||x.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(k,v),g=c[y].lineColor||m,i.strokeStyle=g,i.setLineDash)&&(c[y].lineDashType?(p=c[y].lineDashType,i.setLineDash(Ut(p,x.lineThickness))):(p=x.lineDashType,i.setLineDash(h))),(0<c[y].markerSize||0<x.markerSize)&&((f=x.getMarkerProperties(y,k,v,i)).color,o.push(f),M=H(M),Et)&&o.push({x:k,y:v,ctx:n,type:f.type,size:f.size,color:M,borderColor:M,borderThickness:f.borderThickness}),(c[y].indexLabel||x.indexLabel||c[y].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:'stepLine',dataPoint:c[y],dataSeries:x,point:{x:k,y:v},direction:c[y].y<0===t.axisY.reversed?1:-1,color:m})));i.stroke(),Et&&n.stroke()}}return z.drawMarkers(o),Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),n.beginPath()),i.restore(),i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}},r.prototype.renderSpline=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,a=Et?this._preRenderCtx:e,i=t.dataSeriesIndexes.length;if(!(i<=0)){for(var s=this._eventManager.ghostCtx,i=(a.save(),this.plotArea),n=(a.beginPath(),a.rect(i.x1,i.y1,i.width,i.height),a.clip(),[]),o=0;o<t.dataSeriesIndexes.length;o++){var l,r,h=t.dataSeriesIndexes[o],d=this.data[h],x=(a.lineWidth=d.lineThickness,d.dataPoints),c='solid',p=(a.setLineDash&&(l=Ut(d.nullDataLineDashType,d.lineThickness),r=Ut(c=d.lineDashType,d.lineThickness),a.setLineDash(r)),d.id),p=(this._eventManager.objectMap[p]={objectType:'dataSeries',dataSeriesIndex:h},H(p)),p=(s.strokeStyle=p,s.lineWidth=0<d.lineThickness?Math.max(d.lineThickness,4):0,d._colorSet),u=d.lineColor=d.options.lineColor||p[0],m=u,g=(a.strokeStyle=u,0),b=[];if(a.beginPath(),0<x.length)for(var y,v,f,M,k=!1,g=0;g<x.length;g++)(M=x[g].getTime?x[g].x.getTime():x[g].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!k)||(k='number'!=typeof x[g].y?(0<g&&!k&&(d.connectNullData?a.setLineDash&&0<b.length&&(d.options.nullDataLineDashType||!x[g-1].lineDashType)&&(b[b.length-1].newLineDashArray=l,c=d.nullDataLineDashType):(T(b),b=[])),!0):(M=t.axisX.convertValueToPixel(M),y=t.axisY.convertValueToPixel(x[g].y),f=d.dataPointIds[g],this._eventManager.objectMap[f]={id:f,objectType:'dataPoint',dataSeriesIndex:h,dataPointIndex:g,x1:M,y1:y},b[b.length]={x:M,y:y},g<x.length-1&&(m!==(x[g].lineColor||u)||c!==(x[g].lineDashType||d.lineDashType))&&(m=x[g].lineColor||u,b[b.length-1].newStrokeStyle=m,a.setLineDash)&&(x[g].lineDashType?(c=x[g].lineDashType,b[b.length-1].newLineDashArray=Ut(c,d.lineThickness)):(c=d.lineDashType,b[b.length-1].newLineDashArray=r)),(0<x[g].markerSize||0<d.markerSize)&&((v=d.getMarkerProperties(g,M,y,a)).color,n.push(v),f=H(f),Et)&&n.push({x:M,y:y,ctx:s,type:v.type,size:v.size,color:f,borderColor:f,borderThickness:v.borderThickness}),(x[g].indexLabel||d.indexLabel||x[g].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:'spline',dataPoint:x[g],dataSeries:d,point:{x:M,y:y},direction:x[g].y<0===t.axisY.reversed?1:-1,color:u}),!1));T(b)}return z.drawMarkers(n),Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&a.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&a.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(i.x1,i.y1,i.width,i.height),s.beginPath()),a.restore(),a.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}function T(t){var e=B(t,2);if(0<e.length){a.beginPath(),Et&&s.beginPath(),a.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(a.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&a.setLineDash(e[0].newLineDashArray),Et&&s.moveTo(e[0].x,e[0].y);for(var i=0;i<e.length-3;i+=3)a.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),Et&&s.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),(0<i&&i%3e3==0||e[i+3].newStrokeStyle||e[i+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(e[i+3].x,e[i+3].y),e[i+3].newStrokeStyle&&(a.strokeStyle=e[i+3].newStrokeStyle),e[i+3].newLineDashArray&&a.setLineDash(e[i+3].newLineDashArray),Et)&&(s.stroke(),s.beginPath(),s.moveTo(e[i+3].x,e[i+3].y));a.stroke(),Et&&s.stroke()}}},r.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var a=this.plotArea,s=0,n=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),o=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0,r=t.axisX.dataInfo.minDiff,h=(isFinite(r)||(r=.3*Math.abs(t.axisX.range)),this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(r)/Math.log(t.axisX.range):Math.abs(r)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0);this.dataPointMaxWidth&&l<o&&(o=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),(l=!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<o?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,o):l)<(h=h<o?o:h)&&(h=l),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var d=0;d<t.dataSeriesIndexes.length;d++){var x=t.dataSeriesIndexes[d],c=this.data[x],p=c.dataPoints;if(0<p.length)for(var u,m,g,b,y,v,f,M=!!(5<h&&c.bevelEnabled),s=0;s<p.length;s++)(f=p[s].getTime?p[s].x.getTime():p[s].x)<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax||'number'==typeof p[s].y&&(f=t.axisX.convertValueToPixel(f),u=t.axisY.convertValueToPixel(p[s].y),f=t.axisX.reversed?f+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+d)*h<<0:f-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+d)*h<<0,m=t.axisX.reversed?f-h<<0:f+h<<0,0<=p[s].y?(b=n)<(g=u)&&(y=g,g=b,b=y):(b=u)<(g=n)&&(y=g,g=b,b=y),u=p[s].color||c._colorSet[s%c._colorSet.length],U(i,f,g,m,b,u,0,null,M&&0<=p[s].y,p[s].y<0&&M,!1,!1,c.fillOpacity),v=c.dataPointIds[s],this._eventManager.objectMap[v]={id:v,objectType:'dataPoint',dataSeriesIndex:x,dataPointIndex:s,x1:f,y1:g,x2:m,y2:b},u=H(v),Et&&U(this._eventManager.ghostCtx,f,g,m,b,u,0,null,!1,!1,!1,!1),p[s].indexLabel||c.indexLabel||p[s].indexLabelFormatter||c.indexLabelFormatter)&&this._indexLabels.push({chartType:'column',dataPoint:p[s],dataSeries:c,point:{x:f+(m-f)/2,y:p[s].y<0===t.axisY.reversed?g:b},direction:p[s].y<0===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(g,b),x2:m,y2:Math.max(g,b)},color:u})}Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore();r=n<t.axisY.bounds.y1?t.axisY.bounds.y1:n>t.axisY.bounds.y2?t.axisY.bounds.y2:n;return{source:e,dest:this.plotArea.ctx,animationCallback:Ot.yScaleAnimation,easingFunction:Ot.easing.easeOutQuart,animationBase:r}}},r.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var a=this.plotArea,s=[],n=[],o=[],l=[],r=0,h=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,c=t.axisX.dataInfo.minDiff,p=(isFinite(c)||(c=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0);this.dataPointMaxWidth&&x<d&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),(x=!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<d?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d):x)<(p=p<d?d:p)&&(p=x),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var u=0;u<t.dataSeriesIndexes.length;u++){var m=t.dataSeriesIndexes[u],g=this.data[m],b=g.dataPoints;if(0<b.length){var y,v,f,M,k,T,P,w,C=!!(5<p&&g.bevelEnabled);for(i.strokeStyle='#4572A7 ',r=0;r<b.length;r++)(w=b[r].x.getTime?b[r].x.getTime():b[r].x)<t.axisX.dataInfo.viewPortMin||w>t.axisX.dataInfo.viewPortMax||'number'==typeof b[r].y&&(f=(v=(y=t.axisX.convertValueToPixel(w))-t.plotType.plotUnits.length*p/2+t.index*p<<0)+p<<0,t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<b[r].y?(o[w]=b[r].y+(o[w]||0),0<o[w]&&(M=t.axisY.convertValueToPixel(o[w]),k=void 0!==s[w]?s[w]:h,s[w]=M)):t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&b[r].y<=0?(l[w]=b[r].y+(l[w]||0),k=t.axisY.convertValueToPixel(l[w]),M=void 0!==n[w]?n[w]:h,n[w]=k):(P=t.axisY.convertValueToPixel(b[r].y),0<=b[r].y?(M=P-(T=void 0!==s[w]?s[w]:0),s[w]=T+((k=h-T)-M)):(T=n[w]||0,n[w]=T+((k=P+T)-(M=h+T)))),w=b[r].color||g._colorSet[r%g._colorSet.length],U(i,v,M,f,k,w,0,null,C&&0<=b[r].y,b[r].y<0&&C,!1,!1,g.fillOpacity),P=g.dataPointIds[r],this._eventManager.objectMap[P]={id:P,objectType:'dataPoint',dataSeriesIndex:m,dataPointIndex:r,x1:v,y1:M,x2:f,y2:k},w=H(P),Et&&U(this._eventManager.ghostCtx,v,M,f,k,w,0,null,!1,!1,!1,!1),b[r].indexLabel||g.indexLabel||b[r].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:'stackedColumn',dataPoint:b[r],dataSeries:g,point:{x:y,y:0<=b[r].y?M:k},direction:b[r].y<0===t.axisY.reversed?1:-1,bounds:{x1:v,y1:Math.min(M,k),x2:f,y2:Math.max(M,k)},color:w})}}Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore();c=h<t.axisY.bounds.y1?t.axisY.bounds.y1:h>t.axisY.bounds.y2?t.axisY.bounds.y2:h;return{source:e,dest:this.plotArea.ctx,animationCallback:Ot.yScaleAnimation,easingFunction:Ot.easing.easeOutQuart,animationBase:c}}},r.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s=this.plotArea,n=[],o=[],l=[],r=[],h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,c=t.axisX.dataInfo.minDiff,p=(isFinite(c)||(c=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0);this.dataPointMaxWidth&&x<a&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),(x=!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<a?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a):x)<(p=p<a?a:p)&&(p=x),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var u=0;u<t.dataSeriesIndexes.length;u++){var m=t.dataSeriesIndexes[u],g=this.data[m],b=g.dataPoints;if(0<b.length)for(var y=!!(5<p&&g.bevelEnabled),h=0;h<b.length;h++)if(!((C=b[h].x.getTime?b[h].x.getTime():b[h].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax)&&'number'==typeof b[h].y){var v,f,M,k=t.axisX.convertValueToPixel(C),T=0!==t.dataPointYSums[C]?b[h].y/t.dataPointYSums[C]*100:0,P=k-t.plotType.plotUnits.length*p/2+t.index*p<<0,w=P+p<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<b[h].y){if(l[C]=T+(void 0!==l[C]?l[C]:0),l[C]<=0)continue;v=t.axisY.convertValueToPixel(l[C]),f=n[C]||d,n[C]=v}else t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&b[h].y<=0?(r[C]=T+(void 0!==r[C]?r[C]:0),f=t.axisY.convertValueToPixel(r[C]),v=o[C]||d,o[C]=f):(T=t.axisY.convertValueToPixel(T),0<=b[h].y?(v=T-(M=void 0!==n[C]?n[C]:0),f=d-M,t.dataSeriesIndexes.length-1===u&&Math.abs(s.y1-v)<=1&&(v=s.y1),n[C]=M+(f-v)):(f=T+(M=void 0!==o[C]?o[C]:0),v=d+M,t.dataSeriesIndexes.length-1===u&&Math.abs(s.y2-f)<=1&&(f=s.y2),o[C]=M+(f-v)));T=b[h].color||g._colorSet[h%g._colorSet.length],U(i,P,v,w,f,T,0,null,y&&0<=b[h].y,b[h].y<0&&y,!1,!1,g.fillOpacity);var C=g.dataPointIds[h];this._eventManager.objectMap[C]={id:C,objectType:'dataPoint',dataSeriesIndex:m,dataPointIndex:h,x1:P,y1:v,x2:w,y2:f},T=H(C),Et&&U(this._eventManager.ghostCtx,P,v,w,f,T,0,null,!1,!1,!1,!1),(b[h].indexLabel||g.indexLabel||b[h].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:'stackedColumn100',dataPoint:b[h],dataSeries:g,point:{x:k,y:0<=b[h].y?v:f},direction:b[h].y<0===t.axisY.reversed?1:-1,bounds:{x1:P,y1:Math.min(v,f),x2:w,y2:Math.max(v,f)},color:T})}}Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore();c=d<t.axisY.bounds.y1?t.axisY.bounds.y1:d>t.axisY.bounds.y2?t.axisY.bounds.y2:d;return{source:e,dest:this.plotArea.ctx,animationCallback:Ot.yScaleAnimation,easingFunction:Ot.easing.easeOutQuart,animationBase:c}}},r.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s=null,a=this.plotArea,n=0,o=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0,h=t.axisX.dataInfo.minDiff,d=(isFinite(h)||(h=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0);this.dataPointMaxWidth&&r<l&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),(r=!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<l?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l):r)<(d=d<l?l:d)&&(d=r),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var x=0;x<t.dataSeriesIndexes.length;x++){var c=t.dataSeriesIndexes[x],p=this.data[c],u=p.dataPoints;if(0<u.length){var m,g,b,y,v,f=!!(5<d&&p.bevelEnabled);for(i.strokeStyle='#4572A7 ',n=0;n<u.length;n++)(v=u[n].getTime?u[n].x.getTime():u[n].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax||'number'==typeof u[n].y&&(v=t.axisX.convertValueToPixel(v),b=t.axisY.convertValueToPixel(u[n].y),v=t.axisX.reversed?v+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+x)*d<<0:v-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+x)*d<<0,m=t.axisX.reversed?v-d<<0:v+d<<0,b=0<=u[n].y?(g=o,b):(g=b,o),s=u[n].color||p._colorSet[n%p._colorSet.length],U(i,g,v,b,m,s,0,null,f,!1,!1,!1,p.fillOpacity),y=p.dataPointIds[n],this._eventManager.objectMap[y]={id:y,objectType:'dataPoint',dataSeriesIndex:c,dataPointIndex:n,x1:g,y1:v,x2:b,y2:m},s=H(y),Et&&U(this._eventManager.ghostCtx,g,v,b,m,s,0,null,!1,!1,!1,!1),u[n].indexLabel||p.indexLabel||u[n].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:'bar',dataPoint:u[n],dataSeries:p,point:{x:0<=u[n].y?b:g,y:v+(m-v)/2},direction:u[n].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(g,b),y1:v,x2:Math.max(g,b),y2:m},color:s})}}Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore();h=o<t.axisY.bounds.x1?t.axisY.bounds.x1:o>t.axisY.bounds.x2?t.axisY.bounds.x2:o;return{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xScaleAnimation,easingFunction:Ot.easing.easeOutQuart,animationBase:h}}},r.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var a=this.plotArea,s=[],n=[],o=[],l=[],r=0,h=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,c=t.axisX.dataInfo.minDiff,p=(isFinite(c)||(c=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0);this.dataPointMaxWidth&&x<d&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),(x=!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<d?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d):x)<(p=p<d?d:p)&&(p=x),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var u=0;u<t.dataSeriesIndexes.length;u++){var m=t.dataSeriesIndexes[u],g=this.data[m],b=g.dataPoints;if(0<b.length){var y,v,f,M,k,T,P,w,C=!!(5<p&&g.bevelEnabled);for(i.strokeStyle='#4572A7 ',r=0;r<b.length;r++)(w=b[r].x.getTime?b[r].x.getTime():b[r].x)<t.axisX.dataInfo.viewPortMin||w>t.axisX.dataInfo.viewPortMax||'number'==typeof b[r].y&&(f=(v=(y=t.axisX.convertValueToPixel(w))-t.plotType.plotUnits.length*p/2+t.index*p<<0)+p<<0,t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<b[r].y?(o[w]=b[r].y+(o[w]||0),0<o[w]&&(M=s[w]||h,s[w]=k=t.axisY.convertValueToPixel(o[w]))):t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&b[r].y<=0?(l[w]=b[r].y+(l[w]||0),k=n[w]||h,n[w]=M=t.axisY.convertValueToPixel(l[w])):(P=t.axisY.convertValueToPixel(b[r].y),0<=b[r].y?(M=h+(T=s[w]||0),s[w]=T+((k=P+T)-M)):(T=n[w]||0,n[w]=T+((k=h-T)-(M=P-T)))),w=b[r].color||g._colorSet[r%g._colorSet.length],U(i,M,v,k,f,w,0,null,C,!1,!1,!1,g.fillOpacity),P=g.dataPointIds[r],this._eventManager.objectMap[P]={id:P,objectType:'dataPoint',dataSeriesIndex:m,dataPointIndex:r,x1:M,y1:v,x2:k,y2:f},w=H(P),Et&&U(this._eventManager.ghostCtx,M,v,k,f,w,0,null,!1,!1,!1,!1),b[r].indexLabel||g.indexLabel||b[r].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:'stackedBar',dataPoint:b[r],dataSeries:g,point:{x:0<=b[r].y?k:M,y:y},direction:b[r].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(M,k),y1:v,x2:Math.max(M,k),y2:f},color:w})}}Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore();c=h<t.axisY.bounds.x1?t.axisY.bounds.x1:h>t.axisY.bounds.x2?t.axisY.bounds.x2:h;return{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xScaleAnimation,easingFunction:Ot.easing.easeOutQuart,animationBase:c}}},r.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s=this.plotArea,n=[],o=[],l=[],r=[],h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,x=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,c=t.axisX.dataInfo.minDiff,p=(isFinite(c)||(c=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:s.height*(t.axisX.logarithmic?Math.log(c)/Math.log(t.axisX.range):Math.abs(c)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0);this.dataPointMaxWidth&&x<a&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,x)),(x=!this.dataPointMaxWidth&&this.dataPointMinWidth&&x<a?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a):x)<(p=p<a?a:p)&&(p=x),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var u=0;u<t.dataSeriesIndexes.length;u++){var m=t.dataSeriesIndexes[u],g=this.data[m],b=g.dataPoints;if(0<b.length){var y=!!(5<p&&g.bevelEnabled);for(i.strokeStyle='#4572A7 ',h=0;h<b.length;h++)if(!((C=b[h].x.getTime?b[h].x.getTime():b[h].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax)&&'number'==typeof b[h].y){var v,f,M,k=t.axisX.convertValueToPixel(C),T=0!==t.dataPointYSums[C]?b[h].y/t.dataPointYSums[C]*100:0,P=k-t.plotType.plotUnits.length*p/2+t.index*p<<0,w=P+p<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<b[h].y){if(l[C]=T+(l[C]||0),l[C]<=0)continue;v=n[C]||d,n[C]=f=t.axisY.convertValueToPixel(l[C])}else t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&b[h].y<=0?(r[C]=T+(r[C]||0),f=o[C]||d,o[C]=v=t.axisY.convertValueToPixel(r[C])):(T=t.axisY.convertValueToPixel(T),0<=b[h].y?(v=d+(M=n[C]||0),f=T+M,t.dataSeriesIndexes.length-1===u&&Math.abs(s.x2-f)<=1&&(f=s.x2),n[C]=M+(f-v)):(v=T-(M=o[C]||0),f=d-M,t.dataSeriesIndexes.length-1===u&&Math.abs(s.x1-v)<=1&&(v=s.x1),o[C]=M+(f-v)));T=b[h].color||g._colorSet[h%g._colorSet.length],U(i,v,P,f,w,T,0,null,y,!1,!1,!1,g.fillOpacity);var C=g.dataPointIds[h];this._eventManager.objectMap[C]={id:C,objectType:'dataPoint',dataSeriesIndex:m,dataPointIndex:h,x1:v,y1:P,x2:f,y2:w},T=H(C),Et&&U(this._eventManager.ghostCtx,v,P,f,w,T,0,null,!1,!1,!1,!1),(b[h].indexLabel||g.indexLabel||b[h].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:'stackedBar100',dataPoint:b[h],dataSeries:g,point:{x:0<=b[h].y?f:v,y:k},direction:b[h].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(v,f),y1:P,x2:Math.max(v,f),y2:w},color:T})}}}Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore();c=d<t.axisY.bounds.x1?t.axisY.bounds.x1:d>t.axisY.bounds.x2?t.axisY.bounds.x2:d;return{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xScaleAnimation,easingFunction:Ot.easing.easeOutQuart,animationBase:c}}},r.prototype.renderArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s,n=this._eventManager.ghostCtx,o=t.axisX.lineCoordinates,l=t.axisY.lineCoordinates,r=[],a=this.plotArea;i.save(),Et&&n.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var d,x,c,p=t.dataSeriesIndexes[h],u=this.data[p],m=u.dataPoints,g=u.id,g=(this._eventManager.objectMap[g]={objectType:'dataSeries',dataSeriesIndex:p},H(g)),b=(n.fillStyle=g,r=[],!0),y=0,v=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),f=null;if(0<m.length){for(var M,k,T,P,w=u._colorSet[y%u._colorSet.length],C=u.lineColor=u.options.lineColor||w,S=C,A=(i.fillStyle=w,i.strokeStyle=C,i.lineWidth=u.lineThickness,'solid'),_=(i.setLineDash&&(M=Ut(u.nullDataLineDashType,u.lineThickness),k=Ut(A=u.lineDashType,u.lineThickness),i.setLineDash(k)),!0);y<m.length;y++)(P=m[y].x.getTime?m[y].x.getTime():m[y].x)<t.axisX.dataInfo.viewPortMin||P>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!_)||('number'!=typeof m[y].y?(u.connectNullData||_||b||B(),_=!0):(d=t.axisX.convertValueToPixel(P),x=t.axisY.convertValueToPixel(m[y].y),b||_?(!b&&u.connectNullData?(i.setLineDash&&(u.options.nullDataLineDashType||A===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(P={x:d,y:x},d=s.x,x=s.y,B(),i.moveTo(s.x,s.y),d=P.x,x=P.y,f=s,A=u.nullDataLineDashType,i.setLineDash(M)),i.lineTo(d,x),Et&&n.lineTo(d,x)):(i.beginPath(),i.moveTo(d,x),Et&&(n.beginPath(),n.moveTo(d,x)),f={x:d,y:x}),_=b=!1):(i.lineTo(d,x),Et&&n.lineTo(d,x),y%250==0&&B()),s={x:d,y:x},y<m.length-1&&(S!==(m[y].lineColor||C)||A!==(m[y].lineDashType||u.lineDashType))&&(B(),S=m[y].lineColor||C,i.strokeStyle=S,i.setLineDash)&&(m[y].lineDashType?(A=m[y].lineDashType,i.setLineDash(Ut(A,u.lineThickness))):(A=u.lineDashType,i.setLineDash(k))),P=u.dataPointIds[y],this._eventManager.objectMap[P]={id:P,objectType:'dataPoint',dataSeriesIndex:p,dataPointIndex:y,x1:d,y1:x},0!==m[y].markerSize&&(0<m[y].markerSize||0<u.markerSize)&&((T=u.getMarkerProperties(y,d,x,i)).color,r.push(T),P=H(P),Et)&&r.push({x:d,y:x,ctx:n,type:T.type,size:T.size,color:P,borderColor:P,borderThickness:T.borderThickness}),(m[y].indexLabel||u.indexLabel||m[y].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:'area',dataPoint:m[y],dataSeries:u,point:{x:d,y:x},direction:m[y].y<0===t.axisY.reversed?1:-1,color:w})));B(),z.drawMarkers(r)}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}function B(){f&&(0<u.lineThickness&&i.stroke(),t.axisY.logarithmic||t.axisY.viewportMinimum<=0&&0<=t.axisY.viewportMaximum?c=v:t.axisY.viewportMaximum<0?c=l.y1:0<t.axisY.viewportMinimum&&(c=o.y2),i.lineTo(d,c),i.lineTo(f.x,c),i.closePath(),i.globalAlpha=u.fillOpacity,i.fill(),i.globalAlpha=1,Et&&(n.lineTo(d,c),n.lineTo(f.x,c),n.closePath(),n.fill()),i.beginPath(),i.moveTo(d,x),n.beginPath(),n.moveTo(d,x),f={x:d,y:x})}},r.prototype.renderSplineArea=function(i){var t=i.targetCanvasCtx||this.plotArea.ctx,a=Et?this._preRenderCtx:t,e=i.dataSeriesIndexes.length;if(!(e<=0)){var s=this._eventManager.ghostCtx,n=i.axisX.lineCoordinates,o=i.axisY.lineCoordinates,l=[],e=this.plotArea;a.save(),Et&&s.save(),a.beginPath(),a.rect(e.x1,e.y1,e.width,e.height),a.clip(),Et&&(s.beginPath(),s.rect(e.x1,e.y1,e.width,e.height),s.clip());for(var r=0;r<i.dataSeriesIndexes.length;r++){var h,d=i.dataSeriesIndexes[r],x=this.data[d],c=x.dataPoints,p=x.id,p=(this._eventManager.objectMap[p]={objectType:'dataSeries',dataSeriesIndex:d},H(p)),u=(s.fillStyle=p,l=[],0),m=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),g=null,b=[];if(0<c.length){for(var y,v,f,M,k,T,P=x._colorSet[u%x._colorSet.length],w=x.lineColor=x.options.lineColor||P,C=w,S=(a.fillStyle=P,a.strokeStyle=w,a.lineWidth=x.lineThickness,'solid'),A=(a.setLineDash&&(y=Ut(x.nullDataLineDashType,x.lineThickness),v=Ut(S=x.lineDashType,x.lineThickness),a.setLineDash(v)),!1);u<c.length;u++)(T=c[u].x.getTime?c[u].x.getTime():c[u].x)<i.axisX.dataInfo.viewPortMin||T>i.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!A)||(A='number'!=typeof c[u].y?(0<u&&!A&&(x.connectNullData?a.setLineDash&&0<b.length&&(x.options.nullDataLineDashType||!c[u-1].lineDashType)&&(b[b.length-1].newLineDashArray=y,S=x.nullDataLineDashType):(_(),b=[])),!0):(T=i.axisX.convertValueToPixel(T),f=i.axisY.convertValueToPixel(c[u].y),k=x.dataPointIds[u],this._eventManager.objectMap[k]={id:k,objectType:'dataPoint',dataSeriesIndex:d,dataPointIndex:u,x1:T,y1:f},b[b.length]={x:T,y:f},u<c.length-1&&(C!==(c[u].lineColor||w)||S!==(c[u].lineDashType||x.lineDashType))&&(C=c[u].lineColor||w,b[b.length-1].newStrokeStyle=C,a.setLineDash)&&(c[u].lineDashType?(S=c[u].lineDashType,b[b.length-1].newLineDashArray=Ut(S,x.lineThickness)):(S=x.lineDashType,b[b.length-1].newLineDashArray=v)),0!==c[u].markerSize&&(0<c[u].markerSize||0<x.markerSize)&&((M=x.getMarkerProperties(u,T,f,a)).color,l.push(M),k=H(k),Et)&&l.push({x:T,y:f,ctx:s,type:M.type,size:M.size,color:k,borderColor:k,borderThickness:M.borderThickness}),(c[u].indexLabel||x.indexLabel||c[u].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:'splineArea',dataPoint:c[u],dataSeries:x,point:{x:T,y:f},direction:c[u].y<0===i.axisY.reversed?1:-1,color:P}),!1));_(),z.drawMarkers(l)}}return Et&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation='source-atop',i.axisX.maskCanvas&&a.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&a.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(e.x1,e.y1,e.width,e.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}function _(){var t=B(b,2);if(0<t.length){if(0<x.lineThickness){a.beginPath(),a.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(a.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&a.setLineDash(t[0].newLineDashArray);for(var e=0;e<t.length-3;e+=3)a.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),Et&&s.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),(t[e+3].newStrokeStyle||t[e+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(t[e+3].x,t[e+3].y),t[e+3].newStrokeStyle&&(a.strokeStyle=t[e+3].newStrokeStyle),t[e+3].newLineDashArray)&&a.setLineDash(t[e+3].newLineDashArray);a.stroke()}a.beginPath(),a.moveTo(t[0].x,t[0].y),Et&&(s.beginPath(),s.moveTo(t[0].x,t[0].y));for(e=0;e<t.length-3;e+=3)a.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),Et&&s.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y);i.axisY.logarithmic||i.axisY.viewportMinimum<=0&&0<=i.axisY.viewportMaximum?h=m:i.axisY.viewportMaximum<0?h=o.y1:0<i.axisY.viewportMinimum&&(h=n.y2),g={x:t[0].x,y:t[0].y},a.lineTo(t[t.length-1].x,h),a.lineTo(g.x,h),a.closePath(),a.globalAlpha=x.fillOpacity,a.fill(),a.globalAlpha=1,Et&&(s.lineTo(t[t.length-1].x,h),s.lineTo(g.x,h),s.closePath(),s.fill())}}},r.prototype.renderStepArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s,n=this._eventManager.ghostCtx,o=t.axisX.lineCoordinates,l=t.axisY.lineCoordinates,r=[],a=this.plotArea;i.save(),Et&&n.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var d,x,c,p=t.dataSeriesIndexes[h],u=this.data[p],m=u.dataPoints,g=u.id,g=(this._eventManager.objectMap[g]={objectType:'dataSeries',dataSeriesIndex:p},H(g)),b=(n.fillStyle=g,r=[],!0),y=0,v=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),f=null,M=!1;if(0<m.length){var k,T,P,w,C=u._colorSet[y%u._colorSet.length],S=u.lineColor=u.options.lineColor||C,A=S,_=(i.fillStyle=C,i.strokeStyle=S,i.lineWidth=u.lineThickness,'solid');for(i.setLineDash&&(k=Ut(u.nullDataLineDashType,u.lineThickness),T=Ut(_=u.lineDashType,u.lineThickness),i.setLineDash(T));y<m.length;y++)(w=m[y].x.getTime?m[y].x.getTime():m[y].x)<t.axisX.dataInfo.viewPortMin||w>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!M)||(P=x,'number'!=typeof m[y].y?(u.connectNullData||M||b||B(),M=!0):(d=t.axisX.convertValueToPixel(w),x=t.axisY.convertValueToPixel(m[y].y),b||M?(!b&&u.connectNullData?(i.setLineDash&&(u.options.nullDataLineDashType||_===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(w={x:d,y:x},d=s.x,x=s.y,B(),i.moveTo(s.x,s.y),d=w.x,x=w.y,f=s,_=u.nullDataLineDashType,i.setLineDash(k)),i.lineTo(d,P),i.lineTo(d,x),Et&&(n.lineTo(d,P),n.lineTo(d,x))):(i.beginPath(),i.moveTo(d,x),Et&&(n.beginPath(),n.moveTo(d,x)),f={x:d,y:x}),M=b=!1):(i.lineTo(d,P),Et&&n.lineTo(d,P),i.lineTo(d,x),Et&&n.lineTo(d,x),y%250==0&&B()),s={x:d,y:x},y<m.length-1&&(A!==(m[y].lineColor||S)||_!==(m[y].lineDashType||u.lineDashType))&&(B(),A=m[y].lineColor||S,i.strokeStyle=A,i.setLineDash)&&(m[y].lineDashType?(_=m[y].lineDashType,i.setLineDash(Ut(_,u.lineThickness))):(_=u.lineDashType,i.setLineDash(T))),w=u.dataPointIds[y],this._eventManager.objectMap[w]={id:w,objectType:'dataPoint',dataSeriesIndex:p,dataPointIndex:y,x1:d,y1:x},0!==m[y].markerSize&&(0<m[y].markerSize||0<u.markerSize)&&((P=u.getMarkerProperties(y,d,x,i)).color,r.push(P),w=H(w),Et)&&r.push({x:d,y:x,ctx:n,type:P.type,size:P.size,color:w,borderColor:w,borderThickness:P.borderThickness}),(m[y].indexLabel||u.indexLabel||m[y].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:'stepArea',dataPoint:m[y],dataSeries:u,point:{x:d,y:x},direction:m[y].y<0===t.axisY.reversed?1:-1,color:C})));B(),z.drawMarkers(r)}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}function B(){f&&(0<u.lineThickness&&i.stroke(),t.axisY.logarithmic||t.axisY.viewportMinimum<=0&&0<=t.axisY.viewportMaximum?c=v:t.axisY.viewportMaximum<0?c=l.y1:0<t.axisY.viewportMinimum&&(c=o.y2),i.lineTo(d,c),i.lineTo(f.x,c),i.closePath(),i.globalAlpha=u.fillOpacity,i.fill(),i.globalAlpha=1,Et&&(n.lineTo(d,c),n.lineTo(f.x,c),n.closePath(),n.fill()),i.beginPath(),i.moveTo(d,x),n.beginPath(),n.moveTo(d,x),f={x:d,y:x})}},r.prototype.renderStackedArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){for(var s,n,o=[],a=this.plotArea,l=[],r=[],h=[],d=[],x=0,c=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),p=(t.axisX.dataInfo.minDiff,this._eventManager.ghostCtx),u=(Et&&p.beginPath(),i.save(),Et&&p.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(p.beginPath(),p.rect(a.x1,a.y1,a.width,a.height),p.clip()),[]),m=0;m<t.dataSeriesIndexes.length;m++){var g,b=t.dataSeriesIndexes[m],y=(v=this.data[b]).dataPoints;for(v.dataPointIndexes=[],x=0;x<y.length;x++)g=y[x].x.getTime?y[x].x.getTime():y[x].x,v.dataPointIndexes[g]=x,u[g]||(h.push(g),u[g]=!0);h.sort(N)}for(m=0;m<t.dataSeriesIndexes.length;m++){var v,b=t.dataSeriesIndexes[m],y=(v=this.data[b]).dataPoints,f=!0,r=[],M=v.id,M=(this._eventManager.objectMap[M]={objectType:'dataSeries',dataSeriesIndex:b},H(M));if(p.fillStyle=M,0<h.length){for(var D,k,T=v._colorSet[0],P=v.lineColor=v.options.lineColor||T,w=P,C=(i.fillStyle=T,i.strokeStyle=P,i.lineWidth=v.lineThickness,'solid'),S=(i.setLineDash&&(D=Ut(v.nullDataLineDashType,v.lineThickness),k=Ut(C=v.lineDashType,v.lineThickness),i.setLineDash(k)),!0),x=0;x<h.length;x++){var A,_=null,_=0<=v.dataPointIndexes[A=h[x]]?y[v.dataPointIndexes[A]]:{x:A,y:null};if(!(A<t.axisX.dataInfo.viewPortMin||A>t.axisX.dataInfo.viewPortMax&&(!v.connectNullData||!S)))if('number'!=typeof _.y)v.connectNullData||S||f||W(),S=!0;else{var B,F,L=t.axisX.convertValueToPixel(A),I=l[A]||0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(d[A]=_.y+(d[A]||0),d[A]<=0&&t.axisY.logarithmic)continue;var V=t.axisY.convertValueToPixel(d[A])}else{V=t.axisY.convertValueToPixel(_.y);V-=I}r.push({x:L,y:c-I}),l[A]=c-V,f||S?(!f&&v.connectNullData?(i.setLineDash&&(v.options.nullDataLineDashType||C===v.lineDashType&&v.lineDashType!==v.nullDataLineDashType)&&(n=r.pop(),F=r[r.length-1],W(),i.moveTo(s.x,s.y),r.push(F),r.push(n),C=v.nullDataLineDashType,i.setLineDash(D)),i.lineTo(L,V),Et&&p.lineTo(L,V)):(i.beginPath(),i.moveTo(L,V),Et&&(p.beginPath(),p.moveTo(L,V))),S=f=!1):(i.lineTo(L,V),Et&&p.lineTo(L,V),x%250==0&&(W(),i.moveTo(L,V),Et&&p.moveTo(L,V),r.push({x:L,y:c-I}))),s={x:L,y:V},x<y.length-1&&(w!==(y[x].lineColor||P)||C!==(y[x].lineDashType||v.lineDashType))&&(W(),i.beginPath(),i.moveTo(L,V),r.push({x:L,y:c-I}),w=y[x].lineColor||P,i.strokeStyle=w,i.setLineDash)&&(y[x].lineDashType?(C=y[x].lineDashType,i.setLineDash(Ut(C,v.lineThickness))):(C=v.lineDashType,i.setLineDash(k))),0<=v.dataPointIndexes[A]&&(B=v.dataPointIds[v.dataPointIndexes[A]],this._eventManager.objectMap[B]={id:B,objectType:'dataPoint',dataSeriesIndex:b,dataPointIndex:v.dataPointIndexes[A],x1:L,y1:V}),0<=v.dataPointIndexes[A]&&0!==_.markerSize&&(0<_.markerSize||0<v.markerSize)&&((F=v.getMarkerProperties(v.dataPointIndexes[A],L,V,i)).color,o.push(F),n=H(B),Et)&&o.push({x:L,y:V,ctx:p,type:F.type,size:F.size,color:n,borderColor:n,borderThickness:F.borderThickness}),(_.indexLabel||v.indexLabel||_.indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:'stackedArea',dataPoint:_,dataSeries:v,point:{x:L,y:V},direction:y[x].y<0===t.axisY.reversed?1:-1,color:T})}}W(),i.moveTo(L,V),Et&&p.moveTo(L,V)}delete v.dataPointIndexes}return z.drawMarkers(o),Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),p.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}function W(){if(!(r.length<1)){for(0<v.lineThickness&&i.stroke();0<r.length;){var t=r.pop();i.lineTo(t.x,t.y),Et&&p.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=v.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),Et&&(p.closePath(),p.fill(),p.beginPath()),r=[]}}},r.prototype.renderStackedArea100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){for(var s,a=this.plotArea,n=[],o=[],l=[],r=[],h=[],d=0,x=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),c=this._eventManager.ghostCtx,p=(i.save(),Et&&c.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(c.beginPath(),c.rect(a.x1,a.y1,a.width,a.height),c.clip()),[]),u=0;u<t.dataSeriesIndexes.length;u++){var m,g=t.dataSeriesIndexes[u],b=(y=this.data[g]).dataPoints;for(y.dataPointIndexes=[],d=0;d<b.length;d++)m=b[d].x.getTime?b[d].x.getTime():b[d].x,y.dataPointIndexes[m]=d,p[m]||(r.push(m),p[m]=!0);r.sort(N)}for(u=0;u<t.dataSeriesIndexes.length;u++){var y,g=t.dataSeriesIndexes[u],b=(y=this.data[g]).dataPoints,v=!0,f=y.id,f=(this._eventManager.objectMap[f]={objectType:'dataSeries',dataSeriesIndex:g},H(f));if(c.fillStyle=f,l=[],0<r.length){for(var D,M,k=y._colorSet[d%y._colorSet.length],T=y.lineColor=y.options.lineColor||k,P=T,w=(i.fillStyle=k,i.strokeStyle=T,i.lineWidth=y.lineThickness,'solid'),C=(i.setLineDash&&(D=Ut(y.nullDataLineDashType,y.lineThickness),M=Ut(w=y.lineDashType,y.lineThickness),i.setLineDash(M)),!0),d=0;d<r.length;d++){var S,A=null,A=0<=y.dataPointIndexes[S=r[d]]?b[y.dataPointIndexes[S]]:{x:S,y:null};if(!(S<t.axisX.dataInfo.viewPortMin||S>t.axisX.dataInfo.viewPortMax&&(!y.connectNullData||!C)))if('number'!=typeof A.y)y.connectNullData||C||v||W(),C=!0;else{var _,B,F=0!==t.dataPointYSums[S]?A.y/t.dataPointYSums[S]*100:0,L=t.axisX.convertValueToPixel(S),I=o[S]||0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(h[S]=F+(h[S]||0),h[S]<=0&&t.axisY.logarithmic)continue;var V=t.axisY.convertValueToPixel(h[S])}else{V=t.axisY.convertValueToPixel(F);V-=I}l.push({x:L,y:x-I}),o[S]=x-V,v||C?(!v&&y.connectNullData?(i.setLineDash&&(y.options.nullDataLineDashType||w===y.lineDashType&&y.lineDashType!==y.nullDataLineDashType)&&(F=l.pop(),B=l[l.length-1],W(),i.moveTo(s.x,s.y),l.push(B),l.push(F),w=y.nullDataLineDashType,i.setLineDash(D)),i.lineTo(L,V),Et&&c.lineTo(L,V)):(i.beginPath(),i.moveTo(L,V),Et&&(c.beginPath(),c.moveTo(L,V))),C=v=!1):(i.lineTo(L,V),Et&&c.lineTo(L,V),d%250==0&&(W(),i.moveTo(L,V),Et&&c.moveTo(L,V),l.push({x:L,y:x-I}))),s={x:L,y:V},d<b.length-1&&(P!==(b[d].lineColor||T)||w!==(b[d].lineDashType||y.lineDashType))&&(W(),i.beginPath(),i.moveTo(L,V),l.push({x:L,y:x-I}),P=b[d].lineColor||T,i.strokeStyle=P,i.setLineDash)&&(b[d].lineDashType?(w=b[d].lineDashType,i.setLineDash(Ut(w,y.lineThickness))):(w=y.lineDashType,i.setLineDash(M))),0<=y.dataPointIndexes[S]&&(_=y.dataPointIds[y.dataPointIndexes[S]],this._eventManager.objectMap[_]={id:_,objectType:'dataPoint',dataSeriesIndex:g,dataPointIndex:y.dataPointIndexes[S],x1:L,y1:V}),0<=y.dataPointIndexes[S]&&0!==A.markerSize&&(0<A.markerSize||0<y.markerSize)&&((B=y.getMarkerProperties(d,L,V,i)).color,n.push(B),F=H(_),Et)&&n.push({x:L,y:V,ctx:c,type:B.type,size:B.size,color:F,borderColor:F,borderThickness:B.borderThickness}),(A.indexLabel||y.indexLabel||A.indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:'stackedArea100',dataPoint:A,dataSeries:y,point:{x:L,y:V},direction:b[d].y<0===t.axisY.reversed?1:-1,color:k})}}W(),i.moveTo(L,V),Et&&c.moveTo(L,V)}delete y.dataPointIndexes}return z.drawMarkers(n),Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),c.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}function W(){for(0<y.lineThickness&&i.stroke();0<l.length;){var t=l.pop();i.lineTo(t.x,t.y),Et&&c.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=y.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),Et&&(c.closePath(),c.fill(),c.beginPath()),l=[]}},r.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){for(var a=this.plotArea,s=0,n=(i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip()),-1/0),o=1/0,l=0;l<t.dataSeriesIndexes.length;l++)for(var r=t.dataSeriesIndexes[l],h=(p=this.data[r]).dataPoints,d=0,s=0;s<h.length;s++)(v=h[s].getTime?h[s].x.getTime():h[s].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax||void 0!==h[s].z&&(n<(d=h[s].z)&&(n=d),d<o)&&(o=d);for(var x=5*Math.PI*5,c=Math.max(Math.pow(.25*Math.min(a.height,a.width)/2,2)*Math.PI,x),l=0;l<t.dataSeriesIndexes.length;l++){var p,r=t.dataSeriesIndexes[l];if(0<(h=(p=this.data[r]).dataPoints).length){i.strokeStyle='#4572A7 ';for(var u,m,g,b,y,v,s=0;s<h.length;s++)(v=h[s].getTime?h[s].x.getTime():h[s].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax||'number'==typeof h[s].y&&(u=t.axisX.convertValueToPixel(v),m=t.axisY.convertValueToPixel(h[s].y),d=h[s].z,y=2*Math.max(Math.sqrt((n===o?c/2:x+(c-x)/(n-o)*(d-o))/Math.PI)<<0,1),(g=p.getMarkerProperties(s,i)).size=y,i.globalAlpha=p.fillOpacity,z.drawMarker(u,m,i,g.type,g.size,g.color,g.borderColor,g.borderThickness),i.globalAlpha=1,b=p.dataPointIds[s],this._eventManager.objectMap[b]={id:b,objectType:'dataPoint',dataSeriesIndex:r,dataPointIndex:s,x1:u,y1:m,size:y},y=H(b),Et&&z.drawMarker(u,m,this._eventManager.ghostCtx,g.type,g.size,y,y,g.borderThickness),h[s].indexLabel||p.indexLabel||h[s].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:'bubble',dataPoint:h[s],dataSeries:p,point:{x:u,y:m},direction:1,bounds:{x1:u-g.size/2,y1:m-g.size/2,x2:u+g.size/2,y2:m+g.size/2},color:null})}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s=this.plotArea,n=0;i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var l=t.dataSeriesIndexes[o],r=this.data[l],h=r.dataPoints;if(0<h.length){i.strokeStyle='#4572A7 ';Math.pow(.3*Math.min(s.height,s.width)/2,2),Math.PI;for(var d,x,c,p,u=0,m=0,n=0;n<h.length;n++)(p=h[n].getTime?h[n].x.getTime():h[n].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax||'number'!=typeof h[n].y||(p=t.axisX.convertValueToPixel(p),d=t.axisY.convertValueToPixel(h[n].y),x=r.getMarkerProperties(n,p,d,i),i.globalAlpha=r.fillOpacity,z.drawMarker(x.x,x.y,x.ctx,x.type,x.size,x.color,x.borderColor,x.borderThickness),i.globalAlpha=1,Math.sqrt((u-p)*(u-p)+(m-d)*(m-d))<Math.min(x.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height))||(c=r.dataPointIds[n],this._eventManager.objectMap[c]={id:c,objectType:'dataPoint',dataSeriesIndex:l,dataPointIndex:n,x1:p,y1:d},c=H(c),Et&&z.drawMarker(x.x,x.y,this._eventManager.ghostCtx,x.type,x.size,c,c,x.borderThickness),(h[n].indexLabel||r.indexLabel||h[n].indexLabelFormatter||r.indexLabelFormatter)&&this._indexLabels.push({chartType:'scatter',dataPoint:h[n],dataSeries:r,point:{x:p,y:d},direction:1,bounds:{x1:p-x.size/2,y1:d-x.size/2,x2:p+x.size/2,y2:d+x.size/2},color:null}),u=p,m=d)}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=this._eventManager.ghostCtx,s=t.dataSeriesIndexes.length;if(!(s<=0)){var n=null,o=null,s=this.plotArea,l=0,r=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,d=t.axisX.dataInfo.minDiff,x=(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))*.7<<0);this.dataPointMaxWidth&&h<r&&(r=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),(h=!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<r?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,r):h)<(x=x<r?r:x)&&(x=h),i.save(),Et&&a.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),Et&&(a.beginPath(),a.rect(s.x1,s.y1,s.width,s.height),a.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],u=this.data[p],m=u.dataPoints;if(0<m.length)for(var g,b,y,v,f,M,k,T,P,w,C=!!(5<x&&u.bevelEnabled),l=0;l<m.length;l++)(w=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||w>t.axisX.dataInfo.viewPortMax||!Nt(m[l].y)&&m[l].y.length&&'number'==typeof m[l].y[0]&&'number'==typeof m[l].y[1]&&'number'==typeof m[l].y[2]&&'number'==typeof m[l].y[3]&&(w=t.axisX.convertValueToPixel(w),g=t.axisY.convertValueToPixel(m[l].y[0]),b=t.axisY.convertValueToPixel(m[l].y[1]),y=t.axisY.convertValueToPixel(m[l].y[2]),v=t.axisY.convertValueToPixel(m[l].y[3]),M=(f=w-x/2<<0)+x<<0,o=u.options.fallingColor?u.fallingColor:u._colorSet[0],n=m[l].color||u._colorSet[0],T=(k=Math.round(Math.max(1,.15*x)))%2==0?0:.5,P=u.dataPointIds[l],this._eventManager.objectMap[P]={id:P,objectType:'dataPoint',dataSeriesIndex:p,dataPointIndex:l,x1:f,y1:g,x2:M,y2:b,x3:w,y3:y,x4:w,y4:v,borderThickness:k,color:n},i.strokeStyle=n,i.beginPath(),i.lineWidth=k,a.lineWidth=Math.max(k,4),'candlestick'===u.type?(i.moveTo(w-T,b),i.lineTo(w-T,Math.min(g,v)),i.stroke(),i.moveTo(w-T,Math.max(g,v)),i.lineTo(w-T,y),i.stroke(),U(i,f,Math.min(g,v),M,Math.max(g,v),m[l].y[0]<=m[l].y[3]?u.risingColor:o,k,n,C,C,!1,!1,u.fillOpacity),Et&&(n=H(P),a.strokeStyle=n,a.moveTo(w-T,b),a.lineTo(w-T,Math.min(g,v)),a.stroke(),a.moveTo(w-T,Math.max(g,v)),a.lineTo(w-T,y),a.stroke(),U(a,f,Math.min(g,v),M,Math.max(g,v),n,0,null,!1,!1,!1,!1))):'ohlc'===u.type&&(i.moveTo(w-T,b),i.lineTo(w-T,y),i.stroke(),i.beginPath(),i.moveTo(w,g),i.lineTo(f,g),i.stroke(),i.beginPath(),i.moveTo(w,v),i.lineTo(M,v),i.stroke(),Et)&&(n=H(P),a.strokeStyle=n,a.moveTo(w-T,b),a.lineTo(w-T,y),a.stroke(),a.beginPath(),a.moveTo(w,g),a.lineTo(f,g),a.stroke(),a.beginPath(),a.moveTo(w,v),a.lineTo(M,v),a.stroke()),m[l].indexLabel||u.indexLabel||m[l].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:u.type,dataPoint:m[l],dataSeries:u,point:{x:f+(M-f)/2,y:t.axisY.reversed?y:b},direction:1,bounds:{x1:f,y1:Math.min(b,y),x2:M,y2:Math.max(b,y)},color:n})}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),a.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderBoxAndWhisker=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=this._eventManager.ghostCtx,s=t.dataSeriesIndexes.length;if(!(s<=0)){for(var n=null,s=this.plotArea,o=0,l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,h=t.axisX.dataInfo.minDiff,d=(isFinite(h)||(h=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))*.7<<0),x=(this.dataPointMaxWidth&&r<l&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),(r=!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<l?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l):r)<(d=d<l?l:d)&&(d=r),i.save(),Et&&a.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),Et&&(a.beginPath(),a.rect(s.x1,s.y1,s.width,s.height),a.clip()),!!t.axisY.reversed),c=0;c<t.dataSeriesIndexes.length;c++){var D=t.dataSeriesIndexes[c],p=this.data[D],u=p.dataPoints;if(0<u.length)for(var m,g,b,y,v,f,M,k,T,P,w,z,C,S,A,_,B,X,F,L,Y,O,E,R,N,I,V,W=!!(5<d&&p.bevelEnabled),o=0;o<u.length;o++)(V=u[o].getTime?u[o].x.getTime():u[o].x)<t.axisX.dataInfo.viewPortMin||V>t.axisX.dataInfo.viewPortMax||!Nt(u[o].y)&&u[o].y.length&&'number'==typeof u[o].y[0]&&'number'==typeof u[o].y[1]&&'number'==typeof u[o].y[2]&&'number'==typeof u[o].y[3]&&'number'==typeof u[o].y[4]&&5===u[o].y.length&&(V=t.axisX.convertValueToPixel(V),m=t.axisY.convertValueToPixel(u[o].y[0]),g=t.axisY.convertValueToPixel(u[o].y[1]),b=t.axisY.convertValueToPixel(u[o].y[2]),y=t.axisY.convertValueToPixel(u[o].y[3]),v=t.axisY.convertValueToPixel(u[o].y[4]),f=V-d/2<<0,M=V+d/2<<0,n=u[o].color||p._colorSet[0],T=(k=Math.round(Math.max(1,.15*d)))%2==0?0:.5,P=u[o].whiskerColor||(u[o].color?p.whiskerColor||u[o].color:p.whiskerColor||n),w='number'==typeof u[o].whiskerThickness?u[o].whiskerThickness:'number'==typeof p.options.whiskerThickness?p.whiskerThickness:k,z=u[o].whiskerDashType||p.whiskerDashType,C='number'==typeof(C=Nt(u[o].whiskerLength)?Nt(p.options.whiskerLength)?d:p.whiskerLength:u[o].whiskerLength)?C<=0?0:d<=C?d:C:'string'!=typeof C||parseInt(C)*d/100>d?d:parseInt(C)*d/100,S=Math.round(w)%2==1?.5:0,A=u[o].stemColor||(u[o].color?p.stemColor||u[o].color:p.stemColor||n),_='number'==typeof u[o].stemThickness?u[o].stemThickness:'number'==typeof p.options.stemThickness?p.stemThickness:k,B=Math.round(_)%2==1?.5:0,X=u[o].stemDashType||p.stemDashType,F=u[o].lineColor||(u[o].color?p.lineColor||u[o].color:p.lineColor||n),L='number'==typeof u[o].lineThickness?u[o].lineThickness:'number'==typeof p.options.lineThickness?p.lineThickness:k,Y=u[o].lineDashType||p.lineDashType,O=Math.round(L)%2==1?.5:0,E=p.upperBoxColor,R=p.lowerBoxColor,N=Nt(p.options.fillOpacity)?1:p.fillOpacity,I=p.dataPointIds[o],this._eventManager.objectMap[I]={id:I,objectType:'dataPoint',dataSeriesIndex:D,dataPointIndex:o,x1:f,y1:m,x2:M,y2:g,x3:V,y3:b,x4:V,y4:y,y5:v,borderThickness:k,color:n,stemThickness:_,stemColor:A,whiskerThickness:w,whiskerLength:C,whiskerColor:P,lineThickness:L,lineColor:F},i.save(),0<_&&(i.beginPath(),i.strokeStyle=A,i.lineWidth=_,i.setLineDash&&i.setLineDash(Ut(X,_)),i.moveTo(V-B,g),i.lineTo(V-B,m),i.stroke(),i.moveTo(V-B,y),i.lineTo(V-B,b),i.stroke()),i.restore(),a.lineWidth=Math.max(k,4),i.beginPath(),U(i,f,Math.min(v,g),M,Math.max(g,v),R,0,n,x&&W,!x&&W,!1,!1,N),i.beginPath(),U(i,f,Math.min(b,v),M,Math.max(v,b),E,0,n,!x&&W,x&&W,!1,!1,N),i.beginPath(),i.lineWidth=k,i.strokeStyle=n,i.rect(f-T,Math.min(g,b)-T,M-f+2*T,Math.max(g,b)-Math.min(g,b)+2*T),i.stroke(),i.save(),0<L&&(i.beginPath(),i.globalAlpha=1,i.setLineDash&&i.setLineDash(Ut(Y,L)),i.strokeStyle=F,i.lineWidth=L,i.moveTo(f,v-O),i.lineTo(M,v-O),i.stroke()),i.restore(),i.save(),0<w&&(i.beginPath(),i.setLineDash&&i.setLineDash(Ut(z,w)),i.strokeStyle=P,i.lineWidth=w,i.moveTo(V-C/2<<0,y-S),i.lineTo(V+C/2<<0,y-S),i.stroke(),i.moveTo(V-C/2<<0,m+S),i.lineTo(V+C/2<<0,m+S),i.stroke()),i.restore(),Et&&(n=H(I),a.strokeStyle=n,0<(a.lineWidth=_)&&(a.moveTo(V-T-B,g),a.lineTo(V-T-B,Math.max(m,y)),a.stroke(),a.moveTo(V-T-B,Math.min(m,y)),a.lineTo(V-T-B,b),a.stroke()),U(a,f,Math.max(g,b),M,Math.min(g,b),n,0,null,!1,!1,!1,!1),0<w)&&(a.beginPath(),a.lineWidth=w,a.moveTo(V+C/2,y-S),a.lineTo(V-C/2,y-S),a.stroke(),a.moveTo(V+C/2,m+S),a.lineTo(V-C/2,m+S),a.stroke()),u[o].indexLabel||p.indexLabel||u[o].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:p.type,dataPoint:u[o],dataSeries:p,point:{x:f+(M-f)/2,y:t.axisY.reversed?m:y},direction:1,bounds:{x1:f,y1:Math.min(m,y),x2:M,y2:Math.max(m,y)},color:n})}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),a.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s=null,a=this.plotArea,n=0,o=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width,r=t.axisX.dataInfo.minDiff,h=(isFinite(r)||(r=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(r)/Math.log(t.axisX.range):Math.abs(r)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0);this.dataPointMaxWidth&&l<o&&(o=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),(l=!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<o?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,o):l)<(h=h<o?o:h)&&(h=l),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var d=0;d<t.dataSeriesIndexes.length;d++){var x=t.dataSeriesIndexes[d],c=this.data[x],p=c.dataPoints;if(0<p.length)for(var u,m,g,b,y,v=!!(5<h&&c.bevelEnabled),n=0;n<p.length;n++)(y=p[n].getTime?p[n].x.getTime():p[n].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax||!Nt(p[n].y)&&p[n].y.length&&'number'==typeof p[n].y[0]&&'number'==typeof p[n].y[1]&&(y=t.axisX.convertValueToPixel(y),m=t.axisY.convertValueToPixel(p[n].y[0]),g=t.axisY.convertValueToPixel(p[n].y[1]),y=t.axisX.reversed?y+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+d)*h<<0:y-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+d)*h<<0,u=t.axisX.reversed?y-h<<0:y+h<<0,s=p[n].color||c._colorSet[n%c._colorSet.length],g<m&&(b=m,m=g,g=b),b=c.dataPointIds[n],this._eventManager.objectMap[b]={id:b,objectType:'dataPoint',dataSeriesIndex:x,dataPointIndex:n,x1:y,y1:m,x2:u,y2:g},U(i,y,m,u,g,s,0,s,v,v,!1,!1,c.fillOpacity),s=H(b),Et&&U(this._eventManager.ghostCtx,y,m,u,g,s,0,null,!1,!1,!1,!1),p[n].indexLabel||c.indexLabel||p[n].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:'rangeColumn',dataPoint:p[n],dataSeries:c,indexKeyword:0,point:{x:y+(u-y)/2,y:p[n].y[1]>=p[n].y[0]?g:m},direction:p[n].y[1]>=p[n].y[0]?-1:1,bounds:{x1:y,y1:Math.min(m,g),x2:u,y2:Math.max(m,g)},color:s}),this._indexLabels.push({chartType:'rangeColumn',dataPoint:p[n],dataSeries:c,indexKeyword:1,point:{x:y+(u-y)/2,y:p[n].y[1]>=p[n].y[0]?m:g},direction:p[n].y[1]>=p[n].y[0]?1:-1,bounds:{x1:y,y1:Math.min(m,g),x2:u,y2:Math.max(m,g)},color:s}))}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderError=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=!!t.axisY._position&&'left'!==t.axisY._position&&'right'!==t.axisY._position,s=t.dataSeriesIndexes.length;if(!(s<=0)){for(var n,o,l,r,h,d,x=!1,c=this.plotArea,p=0,u=t.axisX.dataInfo.minDiff,m=(isFinite(u)||(u=.3*Math.abs(t.axisX.range)),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(c.x1,c.y1,c.width,c.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.clip()),0),g=0;g<this.data.length;g++)this.data[g].type.match(/(bar|column)/gi)&&this.data[g].visible&&(this.data[g].type.match(/(stacked)/gi)&&m||m++);for(var b=0;b<t.dataSeriesIndexes.length;b++){var y=t.dataSeriesIndexes[b],v=this.data[y],f=v.dataPoints,M=!Nt(v._linkedSeries)&&!(!v._linkedSeries.type.match(/(bar|column)/gi)||!v._linkedSeries.visible),k=0;if(M)for(var T=v._linkedSeries.id,g=0;g<T;g++)this.data[g].type.match(/(bar|column)/gi)&&this.data[g].visible&&(this.data[g].type.match(/(stacked)/gi)&&k||(this.data[g].type.match(/(range)/gi)&&(x=!0),k++));var P=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,w=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,this.plotArea.height/(M?m:1)*.9)<<0:.3*this.width,C=(x&&(w=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,this.plotArea.height/(M?m:1)*.9)<<0:.03*this.width),this.options.dataPointWidth?this.dataPointWidth:(a?c.height:c.width)*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/(M?m:1)*.9<<0);if(this.dataPointMaxWidth&&w<P&&(P=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,w)),(w=!this.dataPointMaxWidth&&this.dataPointMinWidth&&w<P?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,P):w)<(C=C<P?P:C)&&(C=w),0<f.length)for(var S=v._colorSet,p=0;p<f.length;p++){var A,_=v.lineColor=v.options.color||S[0],B={color:f[p].whiskerColor||(f[p].color?v.whiskerColor||f[p].color:v.whiskerColor||_),thickness:(Nt(f[p].whiskerThickness)?v:f[p]).whiskerThickness,dashType:f[p].whiskerDashType||v.whiskerDashType,length:Nt(f[p].whiskerLength)?Nt(v.options.whiskerLength)?C:v.options.whiskerLength:f[p].whiskerLength,trimLength:Nt(f[p].whiskerLength)&&Nt(v.options.whiskerLength)?50:0},F=(B.length='number'==typeof B.length?B.length<=0?0:C<=B.length?C:B.length:'string'!=typeof B.length||parseInt(B.length)*C/100>C?C:parseInt(B.length)*C/100>C,B.thickness='number'==typeof B.thickness?B.thickness<0?0:Math.round(B.thickness):2,{color:f[p].stemColor||(f[p].color?v.stemColor||f[p].color:v.stemColor||_),thickness:f[p].stemThickness||v.stemThickness,dashType:f[p].stemDashType||v.stemDashType});F.thickness='number'==typeof F.thickness?F.thickness<0?0:Math.round(F.thickness):2,(A=f[p].getTime?f[p].x.getTime():f[p].x)<t.axisX.dataInfo.viewPortMin||A>t.axisX.dataInfo.viewPortMax||!Nt(f[p].y)&&f[p].y.length&&'number'==typeof f[p].y[0]&&'number'==typeof f[p].y[1]&&(A=t.axisX.convertValueToPixel(A),a?o=A:n=A,A=t.axisY.convertValueToPixel(f[p].y[0]),a?l=A:h=A,A=t.axisY.convertValueToPixel(f[p].y[1]),a?r=A:d=A,a?(h=t.axisX.reversed?o+(M?m:1)*C/2-(M?k-1:0)*C<<0:o-(M?m:1)*C/2+(M?k-1:0)*C<<0,d=t.axisX.reversed?h-C<<0:h+C<<0):(l=t.axisX.reversed?n+(M?m:1)*C/2-(M?k-1:0)*C<<0:n-(M?m:1)*C/2+(M?k-1:0)*C<<0,r=t.axisX.reversed?l-C<<0:l+C<<0),!a&&d<h&&(A=h,h=d,d=A),a&&r<l&&(A=l,l=r,r=A),A=v.dataPointIds[p],this._eventManager.objectMap[A]={id:A,objectType:'dataPoint',dataSeriesIndex:y,dataPointIndex:p,x1:Math.min(l,r),y1:Math.min(h,d),x2:Math.max(r,l),y2:Math.max(d,h),isXYSwapped:a,stemProperties:F,whiskerProperties:B},L(i,Math.min(l,r),Math.min(h,d),Math.max(r,l),Math.max(d,h),_,B,F,a),Et&&L(this._eventManager.ghostCtx,l,h,r,d,_,B,F,a),f[p].indexLabel||v.indexLabel||f[p].indexLabelFormatter||v.indexLabelFormatter)&&(this._indexLabels.push({chartType:'error',dataPoint:f[p],dataSeries:v,indexKeyword:0,point:{x:a?f[p].y[1]>=f[p].y[0]?l:r:l+(r-l)/2,y:a?h+(d-h)/2:f[p].y[1]>=f[p].y[0]?d:h},direction:f[p].y[1]>=f[p].y[0]?-1:1,bounds:{x1:a?Math.min(l,r):l,y1:a?h:Math.min(h,d),x2:a?Math.max(l,r):r,y2:a?d:Math.max(h,d)},color:_,axisSwapped:a}),this._indexLabels.push({chartType:'error',dataPoint:f[p],dataSeries:v,indexKeyword:1,point:{x:a?f[p].y[1]>=f[p].y[0]?r:l:l+(r-l)/2,y:a?h+(d-h)/2:f[p].y[1]>=f[p].y[0]?h:d},direction:f[p].y[1]>=f[p].y[0]?1:-1,bounds:{x1:a?Math.min(l,r):l,y1:a?h:Math.min(h,d),x2:a?Math.max(l,r):r,y2:a?d:Math.max(h,d)},color:_,axisSwapped:a}))}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(c.x1,c.y1,c.width,c.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var a=this.plotArea,s=0,n=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,o=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0,l=t.axisX.dataInfo.minDiff,r=(isFinite(l)||(l=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(l)/Math.log(t.axisX.range):Math.abs(l)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0);this.dataPointMaxWidth&&o<n&&(n=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,o)),(o=!this.dataPointMaxWidth&&this.dataPointMinWidth&&o<n?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,n):o)<(r=r<n?n:r)&&(r=o),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var d=t.dataSeriesIndexes[h],x=this.data[d],c=x.dataPoints;if(0<c.length){var p,u,m,g,b,y,v=!!(5<r&&x.bevelEnabled);for(i.strokeStyle='#4572A7 ',s=0;s<c.length;s++)(y=c[s].getTime?c[s].x.getTime():c[s].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax||!Nt(c[s].y)&&c[s].y.length&&'number'==typeof c[s].y[0]&&'number'==typeof c[s].y[1]&&(m=t.axisY.convertValueToPixel(c[s].y[0]),g=t.axisY.convertValueToPixel(c[s].y[1]),y=t.axisX.convertValueToPixel(y),y=t.axisX.reversed?y+t.plotType.totalDataSeries*r/2-(t.previousDataSeriesCount+h)*r<<0:y-t.plotType.totalDataSeries*r/2+(t.previousDataSeriesCount+h)*r<<0,p=t.axisX.reversed?y-r<<0:y+r<<0,g<m&&(u=m,m=g,g=u),u=c[s].color||x._colorSet[s%x._colorSet.length],U(i,m,y,g,p,u,0,null,v,!1,!1,!1,x.fillOpacity),b=x.dataPointIds[s],this._eventManager.objectMap[b]={id:b,objectType:'dataPoint',dataSeriesIndex:d,dataPointIndex:s,x1:m,y1:y,x2:g,y2:p},u=H(b),Et&&U(this._eventManager.ghostCtx,m,y,g,p,u,0,null,!1,!1,!1,!1),c[s].indexLabel||x.indexLabel||c[s].indexLabelFormatter||x.indexLabelFormatter)&&(this._indexLabels.push({chartType:'rangeBar',dataPoint:c[s],dataSeries:x,indexKeyword:0,point:{x:c[s].y[1]>=c[s].y[0]?m:g,y:y+(p-y)/2},direction:c[s].y[1]>=c[s].y[0]?-1:1,bounds:{x1:Math.min(m,g),y1:y,x2:Math.max(m,g),y2:p},color:u}),this._indexLabels.push({chartType:'rangeBar',dataPoint:c[s],dataSeries:x,indexKeyword:1,point:{x:c[s].y[1]>=c[s].y[0]?g:m,y:y+(p-y)/2},direction:c[s].y[1]>=c[s].y[0]?1:-1,bounds:{x1:Math.min(m,g),y1:y,x2:Math.max(m,g),y2:p},color:u}))}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderRangeArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s=this._eventManager.ghostCtx,n=(t.axisX.lineCoordinates,t.axisY.lineCoordinates,[]),a=this.plotArea;i.save(),Et&&s.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(s.beginPath(),s.rect(a.x1,a.y1,a.width,a.height),s.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var l,r,h,d=[],x=t.dataSeriesIndexes[o],c=this.data[x],p=c.dataPoints,u=c.id,u=(this._eventManager.objectMap[u]={objectType:'dataSeries',dataSeriesIndex:x},H(u)),m=(s.fillStyle=u,n=[],!0),g=0,b=null;if(0<p.length){for(var y,v,f,M,k,T=c._colorSet[g%c._colorSet.length],P=c.lineColor=c.options.lineColor||T,w=P,C=(i.fillStyle=T,i.strokeStyle=P,i.lineWidth=c.lineThickness,'solid'),S=(i.setLineDash&&(y=Ut(c.nullDataLineDashType,c.lineThickness),v=Ut(C=c.lineDashType,c.lineThickness),i.setLineDash(v)),!0);g<p.length;g++)(k=p[g].x.getTime?p[g].x.getTime():p[g].x)<t.axisX.dataInfo.viewPortMin||k>t.axisX.dataInfo.viewPortMax&&(!c.connectNullData||!S)||(null!==p[g].y&&p[g].y.length&&'number'==typeof p[g].y[0]&&'number'==typeof p[g].y[1]?(l=t.axisX.convertValueToPixel(k),r=t.axisY.convertValueToPixel(p[g].y[0]),h=t.axisY.convertValueToPixel(p[g].y[1]),m||S?(c.connectNullData&&!m?(i.setLineDash&&(c.options.nullDataLineDashType||C===c.lineDashType&&c.lineDashType!==c.nullDataLineDashType)&&(d[d.length-1].newLineDashArray=v,C=c.nullDataLineDashType,i.setLineDash(y)),i.lineTo(l,r),Et&&s.lineTo(l,r),d.push({x:l,y:h})):(i.beginPath(),i.moveTo(l,r),b={x:l,y:r},(d=[]).push({x:l,y:h}),Et&&(s.beginPath(),s.moveTo(l,r))),S=m=!1):(i.lineTo(l,r),d.push({x:l,y:h}),Et&&s.lineTo(l,r),g%250==0&&A()),k=c.dataPointIds[g],this._eventManager.objectMap[k]={id:k,objectType:'dataPoint',dataSeriesIndex:x,dataPointIndex:g,x1:l,y1:r,y2:h},g<p.length-1&&(w===(p[g].lineColor||P)&&C===(p[g].lineDashType||c.lineDashType)||(A(),w=p[g].lineColor||P,d[d.length-1].newStrokeStyle=w,i.strokeStyle=w,i.setLineDash&&(p[g].lineDashType?(C=p[g].lineDashType,d[d.length-1].newLineDashArray=Ut(C,c.lineThickness),i.setLineDash(d[d.length-1].newLineDashArray)):(C=c.lineDashType,d[d.length-1].newLineDashArray=v,i.setLineDash(v))))),0!==p[g].markerSize&&(0<p[g].markerSize||0<c.markerSize)&&(f=c.getMarkerProperties(g,l,h,i),n.push(f),M=H(k),Et&&n.push({x:l,y:h,ctx:s,type:f.type,size:f.size,color:M,borderColor:M,borderThickness:f.borderThickness}),(f=c.getMarkerProperties(g,l,r,i)).color,n.push(f),M=H(k),Et)&&n.push({x:l,y:r,ctx:s,type:f.type,size:f.size,color:M,borderColor:M,borderThickness:f.borderThickness}),(p[g].indexLabel||c.indexLabel||p[g].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:'rangeArea',dataPoint:p[g],dataSeries:c,indexKeyword:0,point:{x:l,y:r},direction:p[g].y[0]>p[g].y[1]===t.axisY.reversed?-1:1,color:T}),this._indexLabels.push({chartType:'rangeArea',dataPoint:p[g],dataSeries:c,indexKeyword:1,point:{x:l,y:h},direction:p[g].y[0]>p[g].y[1]===t.axisY.reversed?1:-1,color:T}))):(S||m||A(),S=!0));A(),z.drawMarkers(n)}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}function A(){if(b){var t=null;0<c.lineThickness&&i.stroke();for(var e=d.length-1;0<=e;e--)t=d[e],i.lineTo(t.x,t.y),s.lineTo(t.x,t.y);if(i.closePath(),i.globalAlpha=c.fillOpacity,i.fill(),i.globalAlpha=1,s.fill(),0<c.lineThickness){i.beginPath(),i.moveTo(t.x,t.y);for(e=0;e<d.length;e++)t=d[e],i.lineTo(t.x,t.y);i.stroke()}i.beginPath(),i.moveTo(l,r),s.beginPath(),s.moveTo(l,r),b={x:l,y:r},(d=[]).push({x:l,y:h})}}},r.prototype.renderRangeSplineArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=Et?this._preRenderCtx:e,i=t.dataSeriesIndexes.length;if(!(i<=0)){var o=this._eventManager.ghostCtx,a=(t.axisX.lineCoordinates,t.axisY.lineCoordinates,[]),i=this.plotArea;n.save(),Et&&o.save(),n.beginPath(),n.rect(i.x1,i.y1,i.width,i.height),n.clip(),Et&&(o.beginPath(),o.rect(i.x1,i.y1,i.width,i.height),o.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],r=this.data[l],h=r.dataPoints,d=r.id,d=(this._eventManager.objectMap[d]={objectType:'dataSeries',dataSeriesIndex:l},H(d)),x=(o.fillStyle=d,a=[],0),c=[],p=[];if(0<h.length){for(var u,m,g,b,y,v,f,M,k=r._colorSet[x%r._colorSet.length],T=r.lineColor=r.options.lineColor||k,P=T,w=(n.fillStyle=k,n.lineWidth=r.lineThickness,'solid'),C=(n.setLineDash&&(u=Ut(r.nullDataLineDashType,r.lineThickness),m=Ut(w=r.lineDashType,r.lineThickness)),!1);x<h.length;x++)(M=h[x].x.getTime?h[x].x.getTime():h[x].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax&&(!r.connectNullData||!C)||(C=null!==h[x].y&&h[x].y.length&&'number'==typeof h[x].y[0]&&'number'==typeof h[x].y[1]?(M=t.axisX.convertValueToPixel(M),g=t.axisY.convertValueToPixel(h[x].y[0]),b=t.axisY.convertValueToPixel(h[x].y[1]),y=r.dataPointIds[x],this._eventManager.objectMap[y]={id:y,objectType:'dataPoint',dataSeriesIndex:l,dataPointIndex:x,x1:M,y1:g,y2:b},c[c.length]={x:M,y:g},p[p.length]={x:M,y:b},x<h.length-1&&(P!==(h[x].lineColor||T)||w!==(h[x].lineDashType||r.lineDashType))&&(P=h[x].lineColor||T,c[c.length-1].newStrokeStyle=P,n.setLineDash)&&(h[x].lineDashType?(w=h[x].lineDashType,c[c.length-1].newLineDashArray=Ut(w,r.lineThickness)):(w=r.lineDashType,c[c.length-1].newLineDashArray=m)),0!==h[x].markerSize&&(0<h[x].markerSize||0<r.markerSize)&&((v=r.getMarkerProperties(x,M,g,n)).color,a.push(v),f=H(y),Et&&a.push({x:M,y:g,ctx:o,type:v.type,size:v.size,color:f,borderColor:f,borderThickness:v.borderThickness}),v=r.getMarkerProperties(x,M,b,n),a.push(v),f=H(y),Et)&&a.push({x:M,y:b,ctx:o,type:v.type,size:v.size,color:f,borderColor:f,borderThickness:v.borderThickness}),(h[x].indexLabel||r.indexLabel||h[x].indexLabelFormatter||r.indexLabelFormatter)&&(this._indexLabels.push({chartType:'rangeSplineArea',dataPoint:h[x],dataSeries:r,indexKeyword:0,point:{x:M,y:g},direction:h[x].y[0]<=h[x].y[1]?-1:1,color:k}),this._indexLabels.push({chartType:'rangeSplineArea',dataPoint:h[x],dataSeries:r,indexKeyword:1,point:{x:M,y:b},direction:h[x].y[0]<=h[x].y[1]?1:-1,color:k})),!1):(0<x&&!C&&(r.connectNullData?n.setLineDash&&0<c.length&&(r.options.nullDataLineDashType||!h[x-1].lineDashType)&&(c[c.length-1].newLineDashArray=u,w=r.nullDataLineDashType):(S(m,T),c=[],p=[])),!0));S(m,T),z.drawMarkers(a)}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(i.x1,i.y1,i.width,i.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.xClipAnimation,easingFunction:Ot.easing.linear,animationBase:0}}function S(t,e){var i=B(c,2);if(0<i.length){if(0<r.lineThickness){n.strokeStyle=e,n.setLineDash&&n.setLineDash(t),n.beginPath(),n.moveTo(i[0].x,i[0].y);for(var a=0;a<i.length-3;a+=3)(i[a].newStrokeStyle||i[a].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(i[a].x,i[a].y),i[a].newStrokeStyle&&(n.strokeStyle=i[a].newStrokeStyle),i[a].newLineDashArray)&&n.setLineDash(i[a].newLineDashArray),n.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);n.stroke()}n.beginPath(),n.moveTo(i[0].x,i[0].y),Et&&(o.beginPath(),o.moveTo(i[0].x,i[0].y));for(a=0;a<i.length-3;a+=3)n.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y),Et&&o.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);i=B(p,2),n.lineTo(p[p.length-1].x,p[p.length-1].y);for(a=i.length-1;2<a;a-=3)n.bezierCurveTo(i[a-1].x,i[a-1].y,i[a-2].x,i[a-2].y,i[a-3].x,i[a-3].y),Et&&o.bezierCurveTo(i[a-1].x,i[a-1].y,i[a-2].x,i[a-2].y,i[a-3].x,i[a-3].y);if(n.closePath(),n.globalAlpha=r.fillOpacity,n.fill(),Et&&(o.closePath(),o.fill()),n.globalAlpha=1,0<r.lineThickness){n.strokeStyle=e,n.setLineDash&&n.setLineDash(t),n.beginPath(),n.moveTo(i[0].x,i[0].y);for(var a=0,s=0;a<i.length-3;a+=3,s++)(c[s].newStrokeStyle||c[s].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(i[a].x,i[a].y),c[s].newStrokeStyle&&(n.strokeStyle=c[s].newStrokeStyle),c[s].newLineDashArray)&&n.setLineDash(c[s].newLineDashArray),n.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);n.stroke()}n.beginPath()}}},r.prototype.renderWaterfall=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=Et?this._preRenderCtx:e,a=t.dataSeriesIndexes.length;if(!(a<=0)){var s=this._eventManager.ghostCtx,n=null,a=this.plotArea,o=0,l=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),r=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0,d=t.axisX.dataInfo.minDiff,x=(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6<<0);this.dataPointMaxWidth&&h<r&&(r=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),(h=!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<r?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,r):h)<(x=x<r?r:x)&&(x=h),i.save(),Et&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),Et&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],u=this.data[p],m=u.dataPoints,n=u._colorSet[0],g=(u.risingColor=u.options.risingColor||n,u.fallingColor=u.options.fallingColor||'#e40a0a','number'==typeof u.options.lineThickness?Math.round(u.lineThickness):1),b=Math.round(g)%2==1?-.5:0;if(0<m.length)for(var y=!!(5<x&&u.bevelEnabled),v=!1,f=null,M=null,o=0;o<m.length;o++){var k,T,P,w,C,S,A,_=m[o].getTime?m[o].x.getTime():m[o].x;'number'!=typeof m[o].y?(0<o&&!v&&u.connectNullData&&(k=u.options.nullDataLineDashType||!m[o-1].lineDashType?u.nullDataLineDashType:m[o-1].lineDashType),v=!0):(_=t.axisX.convertValueToPixel(_),P=0===u.dataPointEOs[o].cumulativeSum?l:t.axisY.convertValueToPixel(u.dataPointEOs[o].cumulativeSum),w=0===u.dataPointEOs[o].cumulativeSumYStartValue?l:t.axisY.convertValueToPixel(u.dataPointEOs[o].cumulativeSumYStartValue),_=t.axisX.reversed?_+t.plotType.totalDataSeries*x/2-(t.previousDataSeriesCount+c)*x<<0:_-t.plotType.totalDataSeries*x/2+(t.previousDataSeriesCount+c)*x<<0,T=t.axisX.reversed?_-x<<0:_+x<<0,A=(w<P&&(C=P,P=w,w=C),t.axisY.reversed&&(C=P,P=w,w=C),u.dataPointIds[o]),this._eventManager.objectMap[A]={id:A,objectType:'dataPoint',dataSeriesIndex:p,dataPointIndex:o,x1:_,y1:P,x2:T,y2:w},S=m[o].color||(0<m[o].y?u.risingColor:u.fallingColor),S=(U(i,_,P,T,w,S,0,S,y,y,!1,!1,u.fillOpacity),n=H(A),Et&&U(this._eventManager.ghostCtx,_,P,T,w,n,0,null,!1,!1,!1,!1),S=_,A=void 0!==m[o].isIntermediateSum&&!0===m[o].isIntermediateSum||void 0!==m[o].isCumulativeSum&&!0===m[o].isCumulativeSum?0<m[o].y?P:w:0<m[o].y?w:P,0<o&&f&&(v&&!u.connectNullData||(v&&i.setLineDash&&i.setLineDash(Ut(k,g)),i.beginPath(),i.moveTo(f,M-b),i.lineTo(S,A-b),0<g&&i.stroke(),Et&&(s.beginPath(),s.moveTo(f,M-b),s.lineTo(S,A-b),0<g)&&s.stroke())),v=!1,f=T,M=0<m[o].y?P:w,m[o].lineDashType||u.options.lineDashType||'shortDash'),A=m[o].lineColor||u.options.lineColor||'#9e9e9e',i.strokeStyle=A,i.lineWidth=g,i.setLineDash&&(A=Ut(S,g),i.setLineDash(A)),(m[o].indexLabel||u.indexLabel||m[o].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:'waterfall',dataPoint:m[o],dataSeries:u,point:{x:_+(T-_)/2,y:0<=m[o].y?P:w},direction:m[o].y<0===t.axisY.reversed?1:-1,bounds:{x1:_,y1:Math.min(P,w),x2:T,y2:Math.max(P,w)},color:n}))}}return Et&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation='source-atop',t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Ot.fadeInAnimation,easingFunction:Ot.easing.easeInQuad,animationBase:0}}};function k(t,e,i,a,s,n,o,l,r){var h;i<0||(void 0===l&&(l=1),Et||(h=Number((o%(2*Math.PI)).toFixed(8)),Number((n%(2*Math.PI)).toFixed(8))===h&&(o-=1e-4)),t.save(),t.globalAlpha=l,'pie'===s?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,i,n,o,!1),t.fillStyle=a,t.strokeStyle='white',t.lineWidth=2,t.closePath(),t.fill()):'doughnut'===s&&(t.beginPath(),t.arc(e.x,e.y,i,n,o,!1),0<=r&&t.arc(e.x,e.y,r*i,o,n,!0),t.closePath(),t.fillStyle=a,t.strokeStyle='white',t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore())}function O(t,e,i,a,s){return null!=t&&(t=parseFloat(t.toString())*(0<=t.toString().indexOf('%')?e/100:1),void 0!==a&&(t=Math.min(a,t),void 0!==s)&&(t=Math.max(s,t)),!isNaN(t))&&t<=e&&0<=t?t:void 0===i?e:i}r.prototype.renderPie=function(t){var T=this,e=t.dataSeriesIndexes.length;if(!(e<=0)){for(var P,e=t.dataSeriesIndexes[0],w=this.data[e],C=w.dataPoints,S=10,A=this.plotArea,_=w.dataPointEOs,B=2,Y=1.3,m=20/180*Math.PI,F=6,L={x:(A.x2+A.x1)/2,y:(A.y2+A.y1)/2},i=0,a=!1,s=0;s<C.length;s++)i+=Math.abs(C[s].y),!(a=!a&&void 0!==C[s].indexLabel&&null!==C[s].indexLabel&&0<C[s].indexLabel.toString().length?!0:a)&&void 0!==C[s].label&&null!==C[s].label&&0<C[s].label.toString().length&&(a=!0);if(0!==i){var a=a||void 0!==w.indexLabel&&null!==w.indexLabel&&0<w.indexLabel.toString().length,I='inside'!==w.indexLabelPlacement&&a?.75*Math.min(A.width,A.height)/2:.92*Math.min(A.width,A.height)/2,V=(w.radius&&(I=O(w.radius,I)),void 0!==w.innerRadius&&null!==w.innerRadius?O(w.innerRadius,I):.7*I),W=(w.radius=I,'doughnut'===w.type&&(w.innerRadius=V),Math.min(V/I,(I-1)/I));if(this.pieDoughnutClickHandler=function(t){var e;T.isAnimating||(Nt(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&(e=t.dataPointIndex,t=t.dataPoint,this.dataPointIds[e],t.exploded?t.exploded=!1:t.exploded=!0,1<this.dataPoints.length)&&T._animator.animate(0,500,function(t){M(t),v()})},w&&C){for(var n=0,o=0,l=0,r=0,h=0;h<C.length;h++){var d=C[h],x=w.dataPointIds[h],c=(_[h].id=x,_[h].objectType='dataPoint',_[h].dataPointIndex=h,_[h].dataSeriesIndex=0,_[h]),p=null,u=T.getPercentAndTotal(w,d),u=((w.indexLabelFormatter||d.indexLabelFormatter)&&(p={chart:T.options,dataSeries:w,dataPoint:d,total:u.total,percent:u.percent}),d.indexLabelFormatter?d.indexLabelFormatter(p):d.indexLabel?T.replaceKeywordsWithValue(d.indexLabel,d,w,h):w.indexLabelFormatter?w.indexLabelFormatter(p):w.indexLabel?T.replaceKeywordsWithValue(w.indexLabel,d,w,h):d.label||'');(T._eventManager.objectMap[x]=c).center={x:L.x,y:L.y},c.y=d.y,c.radius=I,c.percentInnerRadius=W,c.indexLabelText=u,c.indexLabelPlacement=w.indexLabelPlacement,c.indexLabelLineColor=d.indexLabelLineColor||w.options.indexLabelLineColor||d.color||w._colorSet[h%w._colorSet.length],c.indexLabelLineThickness=(Nt(d.indexLabelLineThickness)?w:d).indexLabelLineThickness,c.indexLabelLineDashType=d.indexLabelLineDashType||w.indexLabelLineDashType,c.indexLabelFontColor=d.indexLabelFontColor||w.indexLabelFontColor,c.indexLabelFontStyle=d.indexLabelFontStyle||w.indexLabelFontStyle,c.indexLabelFontWeight=d.indexLabelFontWeight||w.indexLabelFontWeight,c.indexLabelFontSize=(Nt(d.indexLabelFontSize)?w:d).indexLabelFontSize,c.indexLabelFontFamily=d.indexLabelFontFamily||w.indexLabelFontFamily,c.indexLabelBackgroundColor=d.indexLabelBackgroundColor||w.options.indexLabelBackgroundColor||w.indexLabelBackgroundColor,c.indexLabelMaxWidth=d.indexLabelMaxWidth||w.indexLabelMaxWidth||.33*A.width,c.indexLabelWrap=(void 0!==d.indexLabelWrap?d:w).indexLabelWrap,c.startAngle=0===h?w.startAngle?w.startAngle/180*Math.PI:0:_[h-1].endAngle,c.startAngle=(c.startAngle+2*Math.PI)%(2*Math.PI),c.endAngle=c.startAngle+2*Math.PI/i*Math.abs(d.y);p=((c.endAngle+c.startAngle)/2+2*Math.PI)%(2*Math.PI);c.midAngle=p,c.midAngle>Math.PI/2-m&&c.midAngle<Math.PI/2+m?((0===n||_[l].midAngle>c.midAngle)&&(l=h),n++):c.midAngle>3*Math.PI/2-m&&c.midAngle<3*Math.PI/2+m&&((0===o||_[r].midAngle>c.midAngle)&&(r=h),o++),p>Math.PI/2&&p<=3*Math.PI/2?c.hemisphere='left':c.hemisphere='right',c.indexLabelTextBlock=new jt(T.plotArea.ctx,{fontSize:c.indexLabelFontSize,fontFamily:c.indexLabelFontFamily,fontColor:c.indexLabelFontColor,fontStyle:c.indexLabelFontStyle,fontWeight:c.indexLabelFontWeight,horizontalAlign:'left',backgroundColor:c.indexLabelBackgroundColor,maxWidth:c.indexLabelMaxWidth,maxHeight:c.indexLabelWrap?5*c.indexLabelFontSize:1.5*c.indexLabelFontSize,text:c.indexLabelText,padding:0,textBaseline:'top'}),c.indexLabelTextBlock.measureText()}for(var g=0,f=0,b=!1,h=0;h<C.length;h++){c=_[(l+h)%C.length];1<n&&c.midAngle>Math.PI/2-m&&c.midAngle<Math.PI/2+m&&(g<=n/2&&!b?(c.hemisphere='right',g++):(c.hemisphere='left',b=!0))}for(b=!1,h=0;h<C.length;h++){c=_[(r+h)%C.length];1<o&&c.midAngle>3*Math.PI/2-m&&c.midAngle<3*Math.PI/2+m&&(f<=o/2&&!b?(c.hemisphere='left',f++):(c.hemisphere='right',b=!0))}}y(),y(),y(),y(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(t){for(var e=T.plotArea.ctx,i=(e.clearRect(A.x1,A.y1,A.width,A.height),e.fillStyle=T.backgroundColor,e.fillRect(A.x1,A.y1,A.width,A.height),_[0].startAngle+2*Math.PI*t),a=0;a<C.length;a++){var s=0===a?_[a].startAngle:n,n=s+(_[a].endAngle-_[a].startAngle),o=!1,l=(i<n&&(n=i,o=!0),C[a].color||w._colorSet[a%w._colorSet.length]);if(s<n&&k(T.plotArea.ctx,_[a].center,_[a].radius,l,w.type,s,n,w.fillOpacity,_[a].percentInnerRadius),o)break}v()},function(){T.disableToolTip=!1,T._animator.animate(0,T.animatedRender?500:0,function(t){M(t),v()})})}}function M(t){var e=T.plotArea.ctx;e.clearRect(A.x1,A.y1,A.width,A.height),e.fillStyle=T.backgroundColor,e.fillRect(A.x1,A.y1,A.width,A.height);for(var i=0;i<C.length;i++){var a,s,n,o=_[i].startAngle,l=_[i].endAngle;o<l&&(s=.07*I*Math.cos(_[i].midAngle),n=.07*I*Math.sin(_[i].midAngle),a=!1,C[i].exploded?(1e-9<Math.abs(_[i].center.x-(L.x+s))||1e-9<Math.abs(_[i].center.y-(L.y+n)))&&(_[i].center.x=L.x+s*t,_[i].center.y=L.y+n*t,a=!0):(0<Math.abs(_[i].center.x-L.x)||0<Math.abs(_[i].center.y-L.y))&&(_[i].center.x=L.x+s*(1-t),_[i].center.y=L.y+n*(1-t),a=!0),a&&((s={}).dataSeries=w,s.dataPoint=w.dataPoints[i],s.index=i,T.toolTip.highlightObjects([s])),n=C[i].color||w._colorSet[i%w._colorSet.length],k(T.plotArea.ctx,_[i].center,_[i].radius,n,w.type,o,l,w.fillOpacity,_[i].percentInnerRadius))}for(var r=T.plotArea.ctx,h=(r.save(),r.fillStyle='black',r.strokeStyle='grey',r.textBaseline='middle',r.lineJoin='round',0),h=0;h<C.length;h++){var d,x,c=_[h];c.indexLabelText&&(c.indexLabelTextBlock.y-=c.indexLabelTextBlock.height/2,d=0,d='left'===c.hemisphere?'inside'!==w.indexLabelPlacement?-(c.indexLabelTextBlock.width+S):-c.indexLabelTextBlock.width/2:'inside'!==w.indexLabelPlacement?S:-c.indexLabelTextBlock.width/2,c.indexLabelTextBlock.x+=d,c.indexLabelTextBlock.render(!0),c.indexLabelTextBlock.x-=d,c.indexLabelTextBlock.y+=c.indexLabelTextBlock.height/2,'inside'!==c.indexLabelPlacement&&0<c.indexLabelLineThickness&&(d=c.center.x+I*Math.cos(c.midAngle),x=c.center.y+I*Math.sin(c.midAngle),r.strokeStyle=c.indexLabelLineColor,r.lineWidth=c.indexLabelLineThickness,r.setLineDash&&r.setLineDash(Ut(c.indexLabelLineDashType,c.indexLabelLineThickness)),r.beginPath(),r.moveTo(d,x),r.lineTo(c.indexLabelTextBlock.x,c.indexLabelTextBlock.y),r.lineTo(c.indexLabelTextBlock.x+('left'===c.hemisphere?-S:S),c.indexLabelTextBlock.y),r.stroke()),r.lineJoin='miter')}r.save()}function D(t,e){var i=t.indexLabelTextBlock.y,a=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,t=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2,s=e.indexLabelTextBlock.y,n=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,e=e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2;return i<s?n-t:a-e}function z(t){for(var e=null,i=1;i<C.length;i++){if(e=(t+i+_.length)%_.length,_[e].hemisphere!==_[t].hemisphere){e=null;break}if(_[e].indexLabelText&&e!==t&&(D(_[e],_[t])<0||('right'===_[t].hemisphere?_[e].indexLabelTextBlock.y>=_[t].indexLabelTextBlock.y:_[e].indexLabelTextBlock.y<=_[t].indexLabelTextBlock.y)))break;e=null}return e}function X(t,e,i){if(1e3<(i=(i||0)+1))return 0;e=e||0;var a=0,s=L.y-+P,n=L.y+ +P;if(0<=t&&t<C.length){var o=_[t];if(e<0&&o.indexLabelTextBlock.y<s||0<e&&o.indexLabelTextBlock.y>n)return 0;(e=e)<0?o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2>s&&o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2+e<s&&(e=-(s-(o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2+e))):o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2<s&&o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2+e>n&&(e=o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2+e-n);var l,r,h,d,x,c,s=o.indexLabelTextBlock.y+e,n=0,n='right'===o.hemisphere?L.x+Math.sqrt(Math.pow(P,2)-Math.pow(s-L.y,2)):L.x-Math.sqrt(Math.pow(P,2)-Math.pow(s-L.y,2)),p=L.x+I*Math.cos(o.midAngle),u=L.y+I*Math.sin(o.midAngle),n=Math.sqrt(Math.pow(n-p,2)+Math.pow(s-u,2)),p=Math.acos(I/P),e=Math.acos((P*P+I*I-n*n)/(2*I*P))<p?s-o.indexLabelTextBlock.y:0,u=function(t){for(var e=null,i=1;i<C.length;i++){if(e=(t-i+_.length)%_.length,_[e].hemisphere!==_[t].hemisphere){e=null;break}if(_[e].indexLabelText&&_[e].hemisphere===_[t].hemisphere&&e!==t&&(D(_[e],_[t])<0||('right'===_[t].hemisphere?_[e].indexLabelTextBlock.y<=_[t].indexLabelTextBlock.y:_[e].indexLabelTextBlock.y>=_[t].indexLabelTextBlock.y)))break;e=null}return e}(t),n=z(t),p=0,s=0;e<0?(a=e,null!==(l='right'===o.hemisphere?u:n)&&(h=o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2-(_[l].indexLabelTextBlock.y+_[l].indexLabelTextBlock.height/2))-(r=-e)<B&&+(s=X(l,p=-r,i+1)).toFixed(F)>+p.toFixed(F)&&(a=B<h?-(h-B):-(r-(s-p)))):0<e&&(a=e,null!==(l='right'===o.hemisphere?n:u))&&(r=e,(h=_[l].indexLabelTextBlock.y-_[l].indexLabelTextBlock.height/2-(o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2))-r<B)&&+(s=X(l,p=r,i+1)).toFixed(F)<+p.toFixed(F)&&(a=B<h?h-B:r-(p-s)),a&&(n=o.indexLabelTextBlock.y+a,u=0,u='right'===o.hemisphere?L.x+Math.sqrt(Math.pow(P,2)-Math.pow(n-L.y,2)):L.x-Math.sqrt(Math.pow(P,2)-Math.pow(n-L.y,2)),o.midAngle>Math.PI/2-m&&o.midAngle<Math.PI/2+m?(d=(t-1+_.length)%_.length,x=_[d],c=_[(t+1+_.length)%_.length],'left'===o.hemisphere&&'right'===x.hemisphere&&u>x.indexLabelTextBlock.x?u=x.indexLabelTextBlock.x-15:'right'===o.hemisphere&&'left'===c.hemisphere&&u<c.indexLabelTextBlock.x&&(u=c.indexLabelTextBlock.x+15)):o.midAngle>3*Math.PI/2-m&&o.midAngle<3*Math.PI/2+m&&(d=(t-1+_.length)%_.length,x=_[d],c=_[(t+1+_.length)%_.length],'right'===o.hemisphere&&'left'===x.hemisphere&&u<x.indexLabelTextBlock.x?u=x.indexLabelTextBlock.x+15:'left'===o.hemisphere&&'right'===c.hemisphere&&u>c.indexLabelTextBlock.x&&(u=c.indexLabelTextBlock.x-15)),o.indexLabelTextBlock.y=n,o.indexLabelTextBlock.x=u,o.indexLabelAngle=Math.atan2(o.indexLabelTextBlock.y-L.y,o.indexLabelTextBlock.x-L.x))}return a}function y(){for(var t=T.plotArea.ctx,e=(t.fillStyle='grey',t.strokeStyle='grey',t.font='16px Arial',t.textBaseline='middle',0),i=0,a=0,s=!0,i=0;i<10&&(i<1||0<a);i++){if((s=w.radius||!w.radius&&void 0!==w.innerRadius&&null!==w.innerRadius&&I-a<=V?!1:s)&&(I-=a),a=0,'inside'!==w.indexLabelPlacement){for(P=I*Y,e=0;e<C.length;e++)(n=_[e]).indexLabelTextBlock.x=L.x+P*Math.cos(n.midAngle),n.indexLabelTextBlock.y=L.y+P*Math.sin(n.midAngle),n.indexLabelAngle=n.midAngle,n.radius=I,n.percentInnerRadius=W;for(e=0;e<C.length;e++){var n=_[e],o=z(e);if(null!==o){var m=_[e],l=_[o],g=0;if((g=D(m,l)-B)<0){for(var r=0,h=0,d=0;d<C.length;d++)d!==e&&_[d].hemisphere===n.hemisphere&&(_[d].indexLabelTextBlock.y<n.indexLabelTextBlock.y?r++:h++);var l=g/(r+h||1)*h,x=-1*(g-l),c=0,p=0;'right'===n.hemisphere?(c=X(e,l),+(p=X(o,x=-1*(g-c))).toFixed(F)<+x.toFixed(F)&&+c.toFixed(F)<=+l.toFixed(F)&&X(e,-(x-p))):(c=X(o,l),+(p=X(e,x=-1*(g-c))).toFixed(F)<+x.toFixed(F)&&+c.toFixed(F)<=+l.toFixed(F)&&X(o,-(x-p)))}}}}else for(e=0;e<C.length;e++){var n=_[e],u=(P='pie'===w.type?.7*I:.8*I,L.x+P*Math.cos(n.midAngle)),b=L.y+P*Math.sin(n.midAngle);n.indexLabelTextBlock.x=u,n.indexLabelTextBlock.y=b}for(e=0;e<C.length;e++){var y,v,f=(n=_[e]).indexLabelTextBlock.measureText();0!==f.height&&0!==f.width&&(f=0,'right'===n.hemisphere?(f=A.x2-(n.indexLabelTextBlock.x+n.indexLabelTextBlock.width+S),f*=-1):f=A.x1-(n.indexLabelTextBlock.x-n.indexLabelTextBlock.width-S),(v=0)<f&&(!s&&n.indexLabelText&&(y='right'===n.hemisphere?A.x2-n.indexLabelTextBlock.x:n.indexLabelTextBlock.x-A.x1,.3*n.indexLabelTextBlock.maxWidth>y?n.indexLabelText='':n.indexLabelTextBlock.maxWidth=.85*y,.3*n.indexLabelTextBlock.maxWidth<y)&&(n.indexLabelTextBlock.x-='right'===n.hemisphere?2:-2),Math.abs(n.indexLabelTextBlock.y-n.indexLabelTextBlock.height/2-L.y)<I||Math.abs(n.indexLabelTextBlock.y+n.indexLabelTextBlock.height/2-L.y)<I)&&(9<(v=f/Math.abs(Math.cos(n.indexLabelAngle)))&&(v*=.3),a<v)&&(a=v),(f=y=0)<n.indexLabelAngle&&n.indexLabelAngle<Math.PI?(y=A.y2-(n.indexLabelTextBlock.y+n.indexLabelTextBlock.height/2+5),y*=-1):y=A.y1-(n.indexLabelTextBlock.y-n.indexLabelTextBlock.height/2-5),0<y&&(!s&&n.indexLabelText&&0===X(e,y*(v=0<n.indexLabelAngle&&n.indexLabelAngle<Math.PI?-1:1))&&X(e,2*v),Math.abs(n.indexLabelTextBlock.x-L.x)<I)&&(9<(f=y/Math.abs(Math.sin(n.indexLabelAngle)))&&(f*=.3),a<f))&&(a=f)}function M(t,e,i){for(var a=[],s=0,n=e;a.push(_[n]),n!==i;n=(n+1+C.length)%C.length);a.sort(function(t,e){return t.y-e.y});for(n=0;n<a.length;n++){var o=a[n];if(!(s<.7*t))break;s+=o.indexLabelTextBlock.height,o.indexLabelTextBlock.text='',o.indexLabelText='',o.indexLabelTextBlock.measureText()}}function k(){for(var t,e,i,a,s,n,o,l,r=-1,h=-1,d=0,x=!1,c=0;c<C.length;c++){var p,u,x=!1;(m=_[c]).indexLabelText&&null!==(p=z(c))&&(u=_[p],g=0,x=!((g=D(m,u))<0)||(e=u,l=o=n=s=a=i=void 0,i=(t=m).indexLabelTextBlock.x,a=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,s=t.indexLabelTextBlock.x+t.indexLabelTextBlock.width,t=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2,n=u.indexLabelTextBlock.x,o=u.indexLabelTextBlock.y-u.indexLabelTextBlock.height/2,l=u.indexLabelTextBlock.x+u.indexLabelTextBlock.width,e=u.indexLabelTextBlock.y+u.indexLabelTextBlock.height/2,s<n-S)||l+S<i||e+S<a||t<o-S||(p!==(r=r<0?c:r)&&(h=p,d+=-g),c%Math.max(C.length/10,3)==0)||x)&&0<d&&0<=r&&0<=h&&(M(d,r,h),h=r=-1,d=0)}0<d&&M(d,r,h)}k()}}function v(){if(T.plotArea.layoutManager.reset(),T.title&&(T.title.dockInsidePlotArea||'center'===T.title.horizontalAlign&&'center'===T.title.verticalAlign)&&T.title.render(),T.subtitles)for(var t=0;t<T.subtitles.length;t++){var e=T.subtitles[t];(e.dockInsidePlotArea||'center'===e.horizontalAlign&&'center'===e.verticalAlign)&&e.render()}T.legend&&(T.legend.dockInsidePlotArea||'center'===T.legend.horizontalAlign&&'center'===T.legend.verticalAlign)&&(T.legend.setLayout(),T.legend.render())}};function Yt(t,e,i,a){void 0===i&&(i=1),Math.round(e.y4-e.y1)<=0||(t.save(),t.globalAlpha=i,t.beginPath(),t.moveTo(Math.round(e.x1),Math.round(e.y1)),t.lineTo(Math.round(e.x2),Math.round(e.y2)),t.lineTo(Math.round(e.x3),Math.round(e.y3)),t.lineTo(Math.round(e.x4),Math.round(e.y4)),'undefined'!==e.x5&&(t.lineTo(Math.round(e.x5),Math.round(e.y5)),t.lineTo(Math.round(e.x6),Math.round(e.y6))),t.closePath(),t.fillStyle=a||e.color,t.fill(),t.globalAplha=1,t.restore())}function l(t,e){l.base.constructor.call(this,'Legend','legend',e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName='legend',this.width=0,this.height=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=W(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function S(t,e,i,a){S.base.constructor.call(this,'DataSeries','data',e,i,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=i,this.noDataPointsInPlotArea=0,this.id=a,this.chart._eventManager.objectMap[a]={id:a,objectType:'dataSeries',dataSeriesIndex:i};var s=e.dataPoints?e.dataPoints.length:0;this.dataPointEOs=[];for(var n=0;n<s;n++)this.dataPointEOs[n]={};this.dataPointIds=[],this.plotUnit=[],this.axisX=null,this.axisY=null,this.optionsName='data',this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function _(t,e,i,a,s,n){if(_.base.constructor.call(this,'Axis',e,i,a,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.maxWidth=0,this.maxHeight=0,this.intervalStartPosition=0,this.labels=[],this.dataSeries=[],this._labels=null,this._ticks=null,this._stripLineLabels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,'axisX'===s?('left'===n||'bottom'===n?(this.optionsName='axisX',Nt(this.chart.sessionVariables.axisX[a])&&(this.chart.sessionVariables.axisX[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX[a]):(this.optionsName='axisX2',Nt(this.chart.sessionVariables.axisX2[a])&&(this.chart.sessionVariables.axisX2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[a]),this.options.interval||(this.intervalType=null)):'left'===n||'bottom'===n?(this.optionsName='axisY',Nt(this.chart.sessionVariables.axisY[a])&&(this.chart.sessionVariables.axisY[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY[a]):(this.optionsName='axisY2',Nt(this.chart.sessionVariables.axisY2[a])&&(this.chart.sessionVariables.axisY2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[a]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),'axisX'!==(this.type=s)||i&&void 0!==i.gridThickness||(this.gridThickness=0),this._position=n,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&this.labelAngle<270?this.labelAngle-=180:270<=this.labelAngle&&this.labelAngle<=360&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new h(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(var o=0;o<this.options.stripLines.length;o++)this.stripLines.push(new d(this.chart,this.options.stripLines[o],o,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new x(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged('viewportMinimum')&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged('viewportMinimum')||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged('viewportMaximum')&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged('viewportMaximum')||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges('viewportMinimum'),this.trackChanges('viewportMaximum')}function h(t,e,i,a){if(h.base.constructor.call(this,'ScaleBreaks','scaleBreaks',e,null,a),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.axis=a,this.optionsName='scaleBreaks',this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],'string'==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+'%'):'number'!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(var s=0;s<this.options.customBreaks.length;s++)this.customBreaks.push(new G(this.chart,'customBreaks',this.options.customBreaks[s],s,++this.chart._eventManager.lastObjectId,this)),'number'==typeof this.customBreaks[s].startValue&&'number'==typeof this.customBreaks[s].endValue&&this.customBreaks[s].endValue!==this.customBreaks[s].startValue&&this._appliedBreaks.push(this.customBreaks[s]);this._appliedBreaks.sort(function(t,e){return t.startValue-e.startValue});for(s=0;s<this._appliedBreaks.length-1;s++)this._appliedBreaks[s].endValue>=this._appliedBreaks[s+1].startValue&&(this._appliedBreaks[s].endValue=Math.max(this._appliedBreaks[s].endValue,this._appliedBreaks[s+1].endValue),window.console&&window.console.log('CanvasJS Error: Breaks '+s+' and '+(s+1)+' are overlapping.'),this._appliedBreaks.splice(s,2),s--)}}function G(t,e,i,a,s,n){G.base.constructor.call(this,'Break',e,i,a,n),this.id=s,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=n,this.optionsName=e,this.isOptionsInArray=!0,this.type=(i.type?this:n).type,this.fillOpacity=(Nt(i.fillOpacity)?n:this).fillOpacity,this.lineThickness=(Nt(i.lineThickness)?n:this).lineThickness,this.color=(i.color?this:n).color,this.lineColor=(i.lineColor?this:n).lineColor,this.lineDashType=(i.lineDashType?this:n).lineDashType,!Nt(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!Nt(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),'number'==typeof this.startValue&&'number'==typeof this.endValue&&this.endValue<this.startValue&&(a=this.startValue,this.startValue=this.endValue,this.endValue=a),this.spacing=(void 0===i.spacing?n:i).spacing,'string'==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+'%'):'number'!=typeof this.options.spacing&&(this.spacing=n.spacing),this.size=n.parent.logarithmic?1:0}function d(t,e,i,a,s){d.base.constructor.call(this,'StripLine','stripLines',e,i,s),this.id=a,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=s,this.optionsName='stripLines',this.isOptionsInArray=!0,this._thicknessType='pixel',null!==this.startValue&&null!==this.endValue&&(this.value=s.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function x(t,e,i){x.base.constructor.call(this,'Crosshair','crosshair',e,null,i),this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName='crosshair',this._thicknessType='pixel'}function a(t,e){a.base.constructor.call(this,'ToolTip','toolTip',e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentSeriesIndex=-1,this.currentDataPointIndex=-1,this._prevX=NaN,this._prevY=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName='toolTip',this._initialize()}function s(t){this.chart=t,this.lastObjectId=0;var e=this;this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=M(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext('2d');this.mouseoveredObjectMaps=[]}function c(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}r.prototype.renderFunnel=function(D){var a=this,t=D.dataSeriesIndexes.length;if(!(t<=0)){for(var t=D.dataSeriesIndexes[0],c=this.data[t],y=c.dataPoints,p=this.plotArea,u=.025*p.width,t=.01*p.width,e=0,z=p.height-2*u,X=Math.min(p.width-2*t,2.8*p.height),m=!1,i=0;i<y.length;i++)((m=!(m=!m&&void 0!==y[i].indexLabel&&null!==y[i].indexLabel&&0<y[i].indexLabel.toString().length?!0:m)&&void 0!==y[i].label&&null!==y[i].label&&0<y[i].label.toString().length?!0:m)||'function'!=typeof c.indexLabelFormatter)&&'function'!=typeof y[i].indexLabelFormatter||(m=!0);m=m||void 0!==c.indexLabel&&null!==c.indexLabel&&0<c.indexLabel.toString().length,'inside'!==c.indexLabelPlacement&&m||(t=(p.width-.75*X)/2);var Y=p.x1+t,O=p.x2-t,v=p.y1+u,f=p.y2-u,s=D.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=c.length&&c.dataPoints&&c.visible&&0!==y.length){var M,n,l,t=75*X/100,E=30*(O-t)/100,D=('funnel'===c.type?(M=Nt(c.options.neckHeight)?.35*z:c.neckHeight,n=Nt(c.options.neckWidth)?.25*t:c.neckWidth,M='string'==typeof M&&M.match(/%$/)?(M=parseInt(M))*z/100:parseInt(M),n='string'==typeof n&&n.match(/%$/)?(n=parseInt(n))*t/100:parseInt(n),z<M?M=z:M<=0&&(M=0),t<n?n=t-.5:n<=0&&(n=0)):'pyramid'===c.type&&(n=M=0,c.reversed?c.reversed=!1:c.reversed=!0),Y+t/2),R=Y,N=Y+t,r=c.reversed?f:v,k=D-n/2,H=D+n/2,h=c.reversed?v+M:f-M,d=c.reversed?v:f,X=c.valueRepresents||'height',o=[],x=[],g=[],b=[],U=v,T=(h-r)/(k-R),j=-T,P=('area'===X?function(){for(var t,e=R,i=N,a=(o=v,((t=f-M)-o)*(i-e+(H-k))/2),s=(a=Math.abs(a),H-k),n=t-o,o=s*(t-f),l=(o=Math.abs(o),a+o),r=[],h=0,d=0;d<y.length;d++){if(void 0===y[d].y)return-1;y[d].y='number'==typeof y[d].y?y[d].y:0,h+=Math.abs(y[d].y)}if(0===h)return-1;r[0]=0;for(var x,c,p,u,m=0,g=(p=i-e,!1),d=0;d<y.length;d++){var b;c=Math.abs(y[d].y)*l/h,g?(x=0==Number(s.toFixed(3))?0:c/s,r.push(x)):(b=T*T*p*p-4*Math.abs(T)*c)<0?(m=m+(x=n-m)+(c-=(p+(u=s))*(n-m)/2)/u,g=!0,r.push(x+=0==u?0:c/u)):(x=(Math.abs(T)*p-Math.sqrt(b))/2,u=p-2*x/Math.abs(T),n<(m+=x)&&(x=n-(m-=x),x+=(c-=(p+(u=s))*(n-m)/2)/u,m=m+(n-m)+c/u,g=!0),p=u,r.push(x))}return r}:function(){for(var t=0,e=[],i=0;i<y.length;i++){if(void 0===y[i].y)return-1;y[i].y='number'==typeof y[i].y?y[i].y:0,t+=Math.abs(y[i].y)}if(0===t)return-1;for(i=e[0]=0;i<y.length;i++)e.push(Math.abs(y[i].y)*z/t);return e})();if(-1!==P){if(c.reversed){b.push(U);for(w=P.length-1;0<w;w--)U+=P[w],b.push(U)}else for(var w=0;w<P.length;w++)U+=P[w],b.push(U);if(c.reversed)for(w=0;w<P.length;w++)b[w]<h?(o.push(k),x.push(H),l=w):(o.push((b[w]-r+T*R)/T),x.push((b[w]-r+j*N)/j));else for(var w=0;w<P.length;w++)b[w]<h?(o.push((b[w]-r+T*R)/T),x.push((b[w]-r+j*N)/j),l=w):(o.push(k),x.push(H));for(w=0;w<P.length-1;w++){var K=c.reversed?y[y.length-1-w].color?y[y.length-1-w].color:c._colorSet[(y.length-1-w)%c._colorSet.length]:y[w].color||c._colorSet[w%c._colorSet.length];w===l?g.push({x1:o[w],y1:b[w],x2:x[w],y2:b[w],x3:H,y3:h,x4:x[w+1],y4:b[w+1],x5:o[w+1],y5:b[w+1],x6:k,y6:h,id:w,height:b[w+1]-b[w],color:K}):g.push({x1:o[w],y1:b[w],x2:x[w],y2:b[w],x3:x[w+1],y3:b[w+1],x4:o[w+1],y4:b[w+1],id:w,height:b[w+1]-b[w],color:K})}var q,C=2,S=[],G=!1,A=[],J=[],Q=!1,Z=0;Ht(A);for(w=0;w<y.length;w++)y[w].exploded&&(Q=!0,c.reversed?A.push(y.length-1-w):A.push(w));if(s.clearRect(p.x1,p.y1,p.width,p.height),s.fillStyle=a.backgroundColor,s.fillRect(p.x1,p.y1,p.width,p.height),m&&c.visible){if(c&&y){for(var $,tt,et,it,at,st,nt,ot,_,B=[],lt=[],rt=null,F=0;F<y.length;F++)_=Dt(void 0!==(_=g[F]).x5?(_.y2+_.y4)/2:(_.y2+_.y3)/2).x2+1,B[F]=O-_-E;for(var ht=.5*E,F=0,dt=y.length-1;F<y.length||0<=dt;F++,dt--){st=(I=c.reversed?y[dt]:y[F]).color||(c.reversed?c._colorSet[(y.length-1-F)%c._colorSet.length]:c._colorSet[F%c._colorSet.length]),$=I.indexLabelPlacement||c.indexLabelPlacement||'outside',tt=I.indexLabelBackgroundColor||c.indexLabelBackgroundColor||(Et?'transparent':null),ut=I.indexLabelFontColor||c.indexLabelFontColor||'#979797',et=(Nt(I.indexLabelFontSize)?c:I).indexLabelFontSize,it=I.indexLabelFontStyle||c.indexLabelFontStyle||'normal',pt=I.indexLabelFontFamily||c.indexLabelFontFamily||'arial',at=I.indexLabelFontWeight||c.indexLabelFontWeight||'normal',st=I.indexLabelLineColor||c.options.indexLabelLineColor||st,nt='number'==typeof I.indexLabelLineThickness?I.indexLabelLineThickness:'number'==typeof c.indexLabelLineThickness?c.indexLabelLineThickness:2,ot=I.indexLabelLineDashType||c.indexLabelLineDashType||'solid';var xt=void 0!==I.indexLabelWrap?I.indexLabelWrap:void 0===c.indexLabelWrap||c.indexLabelWrap,L=c.dataPointIds[F],ct={id:L,objectType:'dataPoint',dataPointIndex:F,dataSeriesIndex:0,funnelSection:g[c.reversed?y.length-1-F:F]},I=(a._eventManager.objectMap[L]=ct,'inside'===c.indexLabelPlacement&&(B[F]=F!==l?c.reversed?g[F].x2-g[F].x1:g[F].x3-g[F].x4:g[F].x3-g[F].x6,B[F]<20)&&(B[F]=F!==l&&c.reversed?g[F].x3-g[F].x4:g[F].x2-g[F].x1,B[F]/=2),L=I.indexLabelMaxWidth||(c.options.indexLabelMaxWidth?c.indexLabelMaxWidth:B[F]),(B[F]<L||L<0)&&(L=B[F]),lt[F]='inside'===c.indexLabelPlacement&&g[F].height,ct=a.getPercentAndTotal(c,I),(c.indexLabelFormatter||I.indexLabelFormatter)&&(rt={chart:a.options,dataSeries:c,dataPoint:I,total:ct.total,percent:ct.percent}),ct=I.indexLabelFormatter?I.indexLabelFormatter(rt):I.indexLabel?a.replaceKeywordsWithValue(I.indexLabel,I,c,F):c.indexLabelFormatter?c.indexLabelFormatter(rt):c.indexLabel?a.replaceKeywordsWithValue(c.indexLabel,I,c,F):I.label||'',nt<=0&&(nt=0),L<1e3&&1e3-L<ht&&(L+=1e3-L),s.roundRect||Rt(s),new jt(s,{fontSize:et,fontFamily:pt,fontColor:ut,fontStyle:it,fontWeight:at,horizontalAlign:$,backgroundColor:tt,maxWidth:L,maxHeight:!1===lt[F]?xt?4.28571429*et:1.5*et:lt[F],text:ct,padding:C})),pt=(I.measureText(),I.height<I.maxHeight?I.height:I.maxHeight),ut=I.width<I.maxWidth?I.width:I.maxWidth;S.push({textBlock:I,id:c.reversed?dt:F,isDirty:!1,lineColor:st,lineThickness:nt,lineDashType:ot,height:pt,width:ut})}}Bt();for(var mt,gt,bt,yt,vt,ft,Mt=[],kt=!1,Tt=0,Pt=O-N-E/2,Pt=!c.options.indexLabelMaxWidth||c.indexLabelMaxWidth>Pt?Pt:c.indexLabelMaxWidth,V=S.length-1;0<=V;V--)ft=y[S[V].id],yt=(bt=S[V]).textBlock,gt=(mt=W(V)<g.length?S[W(V)]:null)?mt.textBlock:null,vt=bt.height,mt&&yt.y+vt+C>gt.y&&(kt=!0),Tt=ft.indexLabelMaxWidth||Pt,Mt.push(Tt=Pt<Tt||Tt<0?Pt:Tt);if(kt)for(var wt,Ct,V=S.length-1;0<=V;V--)Ct=g[V],S[V].textBlock.maxWidth=Mt[Mt.length-(V+1)],S[V].textBlock.measureText(),S[V].textBlock.x=O-Pt,vt=S[V].textBlock.height<S[V].textBlock.maxHeight?S[V].textBlock.height:S[V].textBlock.maxHeight,wt=S[V].textBlock.width<S[V].textBlock.maxWidth?S[V].textBlock.width:S[V].textBlock.maxWidth,S[V].height=vt,S[V].width=wt,wt=void 0!==Ct.x5?(Ct.y2+Ct.y4)/2:(Ct.y2+Ct.y3)/2,S[V].textBlock.y=wt-S[V].height/2,c.reversed?(S[V].textBlock.y+S[V].height>r+u&&(S[V].textBlock.y=r+u-S[V].height),S[V].textBlock.y<d-u&&(S[V].textBlock.y=d-u)):(S[V].textBlock.y<r-u&&(S[V].textBlock.y=r-u),S[V].textBlock.y+S[V].height>d+u&&(S[V].textBlock.y=d+u-S[V].height));if('inside'!==c.indexLabelPlacement){Ft();for(w=0;w<y.length;w++)S[w].isDirty||(Z=S[w].textBlock.x+S[w].width,(q=(O-Z)/2)<(e=0==w?q:e)&&(e=q));for(w=0;w<g.length;w++)g[w].x1+=e,g[w].x2+=e,g[w].x3+=e,g[w].x4+=e,g[w].x5&&(g[w].x5+=e,g[w].x6+=e),S[w].textBlock.x+=e}}for(w=0;w<g.length;w++){var St=g[w];Yt(s,St,c.fillOpacity),J.push(St.y1)}if(Xt(s),m&&c.visible&&('inside'===c.indexLabelPlacement||a.animationEnabled||Vt(s),a.animationEnabled||zt()),!m)for(var At,_t,w=0;w<y.length;w++)_t={id:At=c.dataPointIds[w],objectType:'dataPoint',dataPointIndex:w,dataSeriesIndex:0,funnelSection:g[c.reversed?y.length-1-w:w]},a._eventManager.objectMap[At]=_t;return(!a.animationEnabled&&Q||a.animationEnabled&&!a.animatedRender)&&It(a,-1,0),this.funnelPyramidClickHandler=function(t){var e;G||a.isAnimating||(Nt(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&0<=(t=c.reversed?y.length-1-t.dataPointIndex:t.dataPointIndex)&&(e=t,'funnel'!==c.type&&'pyramid'!==c.type||(c.reversed?y[y.length-1-e].exploded?y[y.length-1-e].exploded=!1:y[y.length-1-e].exploded=!0:y[e].exploded?y[e].exploded=!1:y[e].exploded=!0),It(a,t,500))},{source:s,dest:this.plotArea.ctx,animationCallback:function(t,e){Ot.fadeInAnimation(t,e),1<=t&&(It(a,-1,500),Xt(a.plotArea.ctx||a.ctx))},easingFunction:Ot.easing.easeInQuad,animationBase:0}}}}function Bt(){var t,e,i,a,s,n;if('inside'!==c.indexLabelPlacement)for(var o=0;o<g.length;o++)0==S[o].textBlock.text.length?S[o].isDirty=!0:(i=void 0!==(t=g[o]).x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,e=c.reversed?void 0!==t.x5&&h<i?Dt(i).x2+1:(t.x2+t.x3)/2+1:void 0!==t.x5?i<h?Dt(i).x2+1:(t.x4+t.x3)/2+1:(t.x2+t.x3)/2+1,S[o].textBlock.x=e+E,S[o].textBlock.y=i-S[o].height/2,c.reversed?(S[o].textBlock.y+S[o].height>r+u&&(S[o].textBlock.y=r+u-S[o].height),S[o].textBlock.y<d-u&&(S[o].textBlock.y=d-u)):(S[o].textBlock.y<r-u&&(S[o].textBlock.y=r-u),S[o].textBlock.y+S[o].height>d+u&&(S[o].textBlock.y=d+u-S[o].height)));else for(o=0;o<g.length;o++)0!=S[o].textBlock.text.length&&(a=(t=g[o]).height,s=S[o].height,n=S[o].width,s<=a)?(e=o!=l?(t.x4+t.x3)/2-n/2:(t.x5+t.x4)/2-n/2,i=o!=l?(t.y1+t.y3)/2-s/2:(t.y1+t.y4)/2-s/2,S[o].textBlock.x=e,S[o].textBlock.y=i):S[o].isDirty=!0}function Ft(){for(var t,e,i,a,s,n,o=0;o<2;o++){for(var l=S.length-1;0<=l&&((s=0<=Wt(l)?S[Wt(l)]:null)&&s.textBlock,i=(s=S[l]).textBlock,a=(n=W(l)<g.length?S[W(l)]:null)?n.textBlock:null,t=+s.height.toFixed(6),e=+i.y.toFixed(6),!(!s.isDirty&&n&&e+t+C>+a.y.toFixed(6)&&(n=r(l,-(s=i.y+t+C-a.y)))<s&&(0<n&&(s-=n),r(W(l),s)!=s)));l--);(function(){var t,e,i,a,s,n,o=0;!function(t,e){for(var i,a,s=1;s<e;s++){i=s*t;for(var n=S.length-1;0<=n;n--)S[n].isDirty||S[n].textBlock.y<i&&S[n].textBlock.y+S[n].height>i&&((a=W(n))>=S.length-1||S[n].textBlock.y+S[n].height+C>S[a].textBlock.y&&(S[n].textBlock.y+S[n].height-i>i-S[n].textBlock.y?S[n].textBlock.y=1+i:S[n].textBlock.y=i-S[n].height-1))}}(f-v+2*u,1);for(var l=g.length-1;0<l;l--)if(!S[l].isDirty){if((i=Wt(l))<0&&S[i=0].isDirty)break;if(S[l].textBlock.y<S[i].textBlock.y+S[i].height){for(t=t||l,a=l,n=0;S[a].textBlock.y<S[i].textBlock.y+S[i].height+C;){if(e=e||S[a].textBlock.y+S[a].height,n=(n+=S[a].height)+C,(a=i)<=0){n+=S[a=0].height;break}if((i=Wt(a))<0){n+=S[a=0].height;break}}if(a!=l){s=S[a].textBlock.y,o=function(t,e,i){for(var a=[],s=0,n=0,t=Math.abs(t),o=i;o<=e;o++)a.push(g[o]);a.sort(function(t,e){return t.height-e.height});for(o=0;o<a.length;o++){var l=a[o];if(!(s<t))break;n++,s+=S[l.id].height+C,S[l.id].textBlock.text='',S[l.id].indexLabelText='',S[l.id].isDirty=!0,S[l.id].textBlock.measureText()}return n}(n-(e-s),t,a),l=a;break}}}})()}function r(t,e){var i,a,s,n;return t<0||t>=S.length?0:((n=S[t].textBlock).height,e<0?(e*=-1)<=(s=Lt(i=Wt(t),t))?(n.y-=e,e):(a=e-s,0==t?(0<s&&(n.y-=s),s):(0<(i=s+r(i,-a))&&(n.y-=i),i)):e<=(s=Lt(t,i=W(t)))?(n.y+=e,e):(a=e-s,t==g.length-1?(0<s&&(n.y+=s),s):(0<(e=s+r(i,a))&&(n.y+=e),e)))}}function Lt(t,e){t=t<0?c.reversed?d-u:r-u:S[t].textBlock.y+S[t].height+C,e=e<g.length?S[e].textBlock.y:c.reversed?r+u:d+u;return e-t}function It(o,l,t){var e,i,a=[],s=u,n=[];if(-1!==l&&(0<=A.indexOf(l)?(i=A.indexOf(l),A.splice(i,1)):(A.push(l),A=A.sort(function(t,e){return t-e}))),0===A.length)a=J;else for(var r=u*(1!=A.length||0!=A[0]&&A[0]!=g.length-1?2:1)/function(){for(var t=0,e=0;e<g.length-1;e++)(0<=A.indexOf(e)||0<=A.indexOf(e+1))&&t++;return t}(),h=0;h<g.length;h++){if(1==A.length&&0==A[0]){if(0===h){a.push(J[h]),e=s;continue}}else 0===h&&(e=-1*s);a.push(J[h]+e),(0<=A.indexOf(h)||h<g.length&&0<=A.indexOf(h+1))&&(e+=r)}var d=function(){for(var t=[],e=0;e<g.length;e++)t.push(a[e]-g[e].y1);return t}(),x={startTime:(new Date).getTime(),duration:t||500,easingFunction:function(t,e,i,a){return Ot.easing.easeOutQuart(t,e,i,a)},changeSection:function(t){for(var e,i,a=0;a<g.length;a++)i=d[a],e=g[a],i=i*t,void 0===n[a]&&(n[a]=0),n<0&&(n*=-1),e.y1+=i-n[a],e.y2+=i-n[a],e.y3+=i-n[a],e.y4+=i-n[a],e.y5&&(e.y5+=i-n[a],e.y6+=i-n[a]),n[a]=i}};o._animator.animate(0,t,function(t){var e=l,i=o.plotArea.ctx||o.ctx,a=x,s=(G=!0,i);s.clearRect(p.x1,p.y1,p.x2-p.x1,p.y2-p.y1),s.fillStyle=o.backgroundColor,s.fillRect(p.x1,p.y1,p.width,p.height),a.changeSection(t,e),(a={}).dataSeries=c,a.dataPoint=c.reversed?c.dataPoints[y.length-1-e]:c.dataPoints[e],a.index=c.reversed?y.length-1-e:e,o.toolTip.highlightObjects([a]);for(var n=0;n<g.length;n++)Yt(i,g[n],c.fillOpacity);Xt(i),m&&('inside'!==c.indexLabelPlacement?Vt(i):Bt(),zt(i)),1<=t&&(G=!1)},null,Ot.easing.easeOutQuart)}function Vt(t){for(var e,i,a,s,n=0;n<g.length;n++)s=S[n].lineThickness%2==1?.5:0,e=Dt(i=((g[n].y2+g[n].y4)/2<<0)+s).x2-1,a=S[n].textBlock.x,s=(S[n].textBlock.y+S[n].height/2<<0)+s,S[n].isDirty||0==S[n].lineThickness||(t.strokeStyle=S[n].lineColor,t.lineWidth=S[n].lineThickness,t.setLineDash&&t.setLineDash(Ut(S[n].lineDashType,S[n].lineThickness)),t.beginPath(),t.moveTo(e,i),t.lineTo(a,s),t.stroke())}function Wt(t){for(var e=t-1;-1<=e&&-1!=e&&S[e].isDirty;e--);return e}function W(t){for(var e=t+1;e<=g.length&&e!=g.length&&S[e].isDirty;e++);return e}function Dt(t){for(var e,i,a=0;a<y.length;a++)if(g[a].y1<t&&g[a].y4>t){i=g[a];break}return i?{x1:e=i.y6?t>i.y6?(i.x6,i.x5,i.x6,i.y5,i.y6,i.y6,i.x3+(i.x4-i.x3)/(i.y4-i.y3)*(t-i.y3)):(i.x1,i.x6,i.x1,i.y6,i.y1,i.y1,i.x2+(i.x3-i.x2)/(i.y3-i.y2)*(t-i.y2)):(i.x1,i.x4,i.x1,i.y4,i.y1,i.y1,i.x2+(i.x3-i.x2)/(i.y3-i.y2)*(t-i.y2)),x2:e}:-1}function zt(t){for(var e=0;e<g.length;e++)S[e].isDirty||(t&&(S[e].textBlock.ctx=t),S[e].textBlock.render(!0))}function Xt(t){if(a.plotArea.layoutManager.reset(),t.roundRect||Rt(t),a.title&&(a.title.dockInsidePlotArea||'center'===a.title.horizontalAlign&&'center'===a.title.verticalAlign)&&(a.title.ctx=t,a.title.render()),a.subtitles)for(var e=0;e<a.subtitles.length;e++){var i=a.subtitles[e];(i.dockInsidePlotArea||'center'===i.horizontalAlign&&'center'===i.verticalAlign)&&(a.subtitles.ctx=t,i.render())}a.legend&&(a.legend.dockInsidePlotArea||'center'===a.legend.horizontalAlign&&'center'===a.legend.verticalAlign)&&(a.legend.ctx=t,a.legend.setLayout(),a.legend.render()),Kt.fNg&&Kt.fNg(a)}},r.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},r.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,r.prototype.set=function(t,e,i){i=void 0===i||i,'options'===t?(this.options=e,i&&this.render()):r.base.set.call(this,t,e,i)},r.prototype.exportChart=function(t){var e=(t=void 0===t?{}:t).format||'png',i=t.fileName||this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL('image/'+e);V(this.canvas,e,i)},r.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),e=document.createElement('iframe'),i=(e.setAttribute('class','canvasjs-chart-print-frame'),e.setAttribute('style','position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;'),e.style.height=this.height+'px',this._canvasJSContainer.appendChild(e),this),a=e.contentWindow||e.contentDocument.document||e.contentDocument;a.document.open(),a.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+t+'"/><body/></html>'),a.document.close(),setTimeout(function(){a.focus(),a.print(),setTimeout(function(){i._canvasJSContainer.removeChild(e)},1e3)},500)},r.prototype.getPercentAndTotal=function(t,e){var i,a=null,s=null;if(0<=t.type.indexOf('stacked'))a=0,(i=e.x.getTime?e.x.getTime():e.x)in t.plotUnit.yTotals&&(a=t.plotUnit.yTotals[i],s=isNaN(e.y)?0:e.y/a*100);else if('pie'===t.type||'doughnut'===t.type||'funnel'===t.type||'pyramid'===t.type){for(var a=0,n=0;n<t.dataPoints.length;n++)isNaN(t.dataPoints[n].y)||(a+=t.dataPoints[n].y);s=isNaN(e.y)?0:e.y/a*100}return{percent:s,total:a}},r.prototype.replaceKeywordsWithValue=function(t,a,s,n,o){var l=this;if(o=void 0===o?0:o,(0<=s.type.indexOf('stacked')||'pie'===s.type||'doughnut'===s.type||'funnel'===s.type||'pyramid'===s.type)&&(0<=t.indexOf('#percent')||0<=t.indexOf('#total'))){var e=this.getPercentAndTotal(s,a),i=isNaN(e.total)?'#total':e.total,r=isNaN(e.percent)?'#percent':e.percent;do{var h='';if(s.percentFormatString)h=s.percentFormatString;else{var h='#,##0.',d=Math.max(Math.ceil(Math.log(1/Math.abs(r))/Math.LN10),2);!isNaN(d)&&isFinite(d)||(d=2);for(var x=0;x<d;x++)h+='#';s.percentFormatString=h}}while(0<=(t=(t=t.replace('#percent',X(r,h,l._cultureInfo))).replace('#total',X(i,s.yValueFormatString||'#,##0.########',l._cultureInfo))).indexOf('#percent')||0<=t.indexOf('#total'))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(t){if('"'===t[0]&&'"'===t[t.length-1]||'\''===t[0]&&'\''===t[t.length-1])return t.slice(1,t.length-1);var t=(t=I(t.slice(1,t.length-1))).replace('#index',o),e=null;try{var i=t.match(/(.*?)\s*\[\s*(.*?)\s*\]/);i&&0<i.length&&(e=I(i[2]),t=I(i[1]))}catch(t){}i=null;if('color'===t)return'waterfall'===s.type?a.color||(0<a.y?s.risingColor:s.fallingColor):'error'===s.type?s.color||s._colorSet[e%s._colorSet.length]:a.color||s.color||s._colorSet[n%s._colorSet.length];if(a.hasOwnProperty(t))i=a;else{if(!s.hasOwnProperty(t))return'';i=s}i=i[t];return null!==e&&(i=i[e]),'x'===t?'dateTime'===s.axisX.valueType||'dateTime'===s.xValueType||a.x&&a.x.getTime?l.plotInfo.plotTypes[0].plotUnits[0].axisX&&!l.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?Y(i,a.xValueFormatString||s.xValueFormatString||(s.xValueFormatString=l.axisX&&l.axisX.autoValueFormatString?l.axisX.autoValueFormatString:'DD MMM YY'),l._cultureInfo):void 0:X(i,a.xValueFormatString||s.xValueFormatString||(s.xValueFormatString='#,##0.########'),l._cultureInfo):'y'===t?X(i,a.yValueFormatString||s.yValueFormatString||(s.yValueFormatString='#,##0.########'),l._cultureInfo):'z'===t?X(i,a.zValueFormatString||s.zValueFormatString||(s.zValueFormatString='#,##0.########'),l._cultureInfo):i})},b(l,C),l.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),i=null,a=0,s=0,n=0,o=0,l=this.markerMargin=this.chart.options.legend&&!Nt(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize,r=(this.height=0,[]),h=[];'top'===this.verticalAlign||'bottom'===this.verticalAlign?(this.orientation='horizontal',i=this.verticalAlign,n=this.maxWidth=null!==this.maxWidth?this.maxWidth:e.width,o=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*e.height):'center'===this.verticalAlign&&(this.orientation='vertical',i=this.horizontalAlign,n=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*e.width,o=this.maxHeight=null!==this.maxHeight?this.maxHeight:e.height),this.errorMarkerColor=[];for(var d=0;d<this.dataSeries.length;d++){var x=this.dataSeries[d];if(x.dataPoints&&x.dataPoints.length){if('pie'!==x.type&&'doughnut'!==x.type&&'funnel'!==x.type&&'pyramid'!==x.type){var c=x.legendMarkerType=x.legendMarkerType||('line'!==x.type&&'stepLine'!==x.type&&'spline'!==x.type&&'scatter'!==x.type&&'bubble'!==x.type||!x.markerType?'error'===x.type&&x._linkedSeries?x._linkedSeries.legendMarkerType||S.getDefaultLegendMarker(x._linkedSeries.type):S.getDefaultLegendMarker(x.type):x.markerType),p=x.legendText||(this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:x,dataPoint:null}):x.name),u=x.legendMarkerColor=x.legendMarkerColor||x.markerColor||('error'!==x.type||Nt(x.whiskerColor)?x._colorSet[0]:x.whiskerColor),m=x.markerSize||'line'!==x.type&&'stepLine'!==x.type&&'spline'!==x.type?.75*this.lineHeight:0,g=x.legendMarkerBorderColor||x.markerBorderColor,b=x.legendMarkerBorderThickness||(x.markerBorderThickness?Math.max(1,Math.round(.2*m)):0),y=(x._colorSet[0],'error'===x.type&&this.errorMarkerColor.push(u),{markerType:c,markerColor:u,text:p=this.chart.replaceKeywordsWithValue(p,x.dataPoints[0],x,d),textBlock:null,chartType:x.type,markerSize:m,lineColor:x._colorSet[0],dataSeriesIndex:x.index,dataPointIndex:null,markerBorderColor:g,markerBorderThickness:b});r.push(y)}else for(var v=0;v<x.dataPoints.length;v++){var f=x.dataPoints[v],c=f.legendMarkerType||x.legendMarkerType||S.getDefaultLegendMarker(x.type),p=f.legendText||x.legendText||(this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:x,dataPoint:f}):f.name||'DataPoint: '+(v+1)),u=f.legendMarkerColor||x.legendMarkerColor||f.color||x.color||x._colorSet[v%x._colorSet.length],m=.75*this.lineHeight,g=f.legendMarkerBorderColor||x.legendMarkerBorderColor||f.markerBorderColor||x.markerBorderColor,b=f.legendMarkerBorderThickness||x.legendMarkerBorderThickness||(f.markerBorderThickness||x.markerBorderThickness?Math.max(1,Math.round(.2*m)):0),y={markerType:c,markerColor:u,text:p=this.chart.replaceKeywordsWithValue(p,f,x,v),textBlock:null,chartType:x.type,markerSize:m,dataSeriesIndex:d,dataPointIndex:v,markerBorderColor:g,markerBorderThickness:b};(f.showInLegend||x.showInLegend&&!1!==f.showInLegend)&&r.push(y)}y=null}}if(!0===this.reversed&&r.reverse(),0<r.length){var M=null,k=0,T=0,P=0,w=0,T=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,n):this.itemMaxWidth=Math.min(this.itemWidth,n):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,n):this.itemMaxWidth=n;T-=(m=0===m?.75*this.lineHeight:m)+l;for(d=0;d<r.length;d++){var C=T;'line'!==(y=r[d]).chartType&&'spline'!==y.chartType&&'stepLine'!==y.chartType||(C-=.1*this.lineHeight*2),o<=0||void 0===o||C<=0||void 0===C||('horizontal'===this.orientation?(y.textBlock=new jt(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:this.itemWrap?o:this.lineHeight,angle:0,text:y.text,horizontalAlign:'left',fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:'middle'}),y.textBlock.measureText(),null!==this.itemWidth&&(y.textBlock.width=this.itemWidth-(m+l+('line'===y.chartType||'spline'===y.chartType||'stepLine'===y.chartType?.1*this.lineHeight*2:0))),(!M||M.width+Math.round(y.textBlock.width+m+l+(0===M.width?0:this.horizontalSpacing)+('line'===y.chartType||'spline'===y.chartType||'stepLine'===y.chartType?.1*this.lineHeight*2:0))>n)&&(h.push(M={items:[],width:0}),this.height+=P,P=0),P=Math.max(P,y.textBlock.height)):(y.textBlock=new jt(this.ctx,{x:0,y:0,maxWidth:T,maxHeight:!0===this.itemWrap?o:1.5*this.fontSize,angle:0,text:y.text,horizontalAlign:'left',fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:'middle'}),y.textBlock.measureText(),null!==this.itemWidth&&(y.textBlock.width=this.itemWidth-(m+l+('line'===y.chartType||'spline'===y.chartType||'stepLine'===y.chartType?.1*this.lineHeight*2:0))),this.height<o-this.lineHeight?h.push(M={items:[],width:0}):(M=h[k],k=(k+1)%h.length),this.height+=y.textBlock.height),y.textBlock.x=M.width,y.textBlock.y=0,M.width+=Math.round(y.textBlock.width+m+l+(0===M.width?0:this.horizontalSpacing)+('line'===y.chartType||'spline'===y.chartType||'stepLine'===y.chartType?.1*this.lineHeight*2:0)),M.items.push(y),this.width=Math.max(M.width,this.width),w=y.textBlock.width+(m+l+('line'===y.chartType||'spline'===y.chartType||'stepLine'===y.chartType?.1*this.lineHeight*2:0)))}this.itemWidth=w,!1===this.itemWrap?this.height=h.length*this.lineHeight:this.height+=P,this.height=Math.min(o,this.height),this.width=Math.min(n,this.width)}'top'===this.verticalAlign?(s='left'===this.horizontalAlign?e.x1:'right'===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y1):'center'===this.verticalAlign?(s='left'===this.horizontalAlign?e.x1:'right'===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y1+e.height/2-this.height/2):'bottom'===this.verticalAlign&&(s='left'===this.horizontalAlign?e.x1:'right'===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y2-this.height),this.items=r;for(d=0;d<this.items.length;d++)(y=r[d]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[y.id]={id:y.id,objectType:'legendItem',legendItemIndex:d,dataSeriesIndex:y.dataSeriesIndex,dataPointIndex:y.dataPointIndex};this.markerSize=m,this.rows=h,0<r.length&&t.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:s,y1:a,x2:s+this.width,y2:a+this.height}},l.prototype.render=function(){for(var t=this.bounds.x1,e=this.bounds.y1,i=this.markerMargin,a=this.maxWidth,s=this.maxHeight,n=this.markerSize,o=this.rows,l=((0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,e,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),0),r=0;r<o.length;r++){for(var h=o[r],d=0,x=0;x<h.items.length;x++){var c,p,u=h.items[x],m=u.textBlock.x+t+(0===x?.2*n:this.horizontalSpacing),g=e+l,b=m,y=(this.chart.data[u.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,e,a,Math.max(s-s%this.lineHeight,0)),this.ctx.clip(),'line'!==u.chartType&&'stepLine'!==u.chartType&&'spline'!==u.chartType||(this.ctx.strokeStyle=u.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(m-.1*this.lineHeight,g+this.lineHeight/2),this.ctx.lineTo(m+.85*this.lineHeight,g+this.lineHeight/2),this.ctx.stroke(),b-=.1*this.lineHeight),'error'===u.chartType&&(this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=n/8,this.ctx.beginPath(),y=m-.08*this.lineHeight+.1*this.lineHeight,c=g+.15*this.lineHeight,p=(v=.7*this.lineHeight)+.02*this.lineHeight,this.ctx.moveTo(y,c),this.ctx.lineTo(y+v,c),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(y+v/2,c),this.ctx.lineTo(y+v/2,c+p),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(y,c+p),this.ctx.lineTo(y+v,c+p),this.ctx.stroke(),this.errorMarkerColor.shift()),'error'===u.chartType||'line'===u.chartType||'spline'===u.chartType?u.markerSize/2:u.markerSize),v=(z.drawMarker(m+n/2,g+this.lineHeight/2,this.ctx,u.markerType,y,u.markerColor,u.markerBorderColor,u.markerBorderThickness),u.textBlock.x=m+i+n,'line'!==u.chartType&&'stepLine'!==u.chartType&&'spline'!==u.chartType||(u.textBlock.x=u.textBlock.x+.1*this.lineHeight),u.textBlock.y=Math.round(g+this.lineHeight/2),u.textBlock.render(!0),this.ctx.restore(),d=0<x?Math.max(d,u.textBlock.height):u.textBlock.height,this.chart.data[u.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),H(u.id));this.ghostCtx.fillStyle=v,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(b,u.textBlock.y-this.lineHeight/2,u.textBlock.x+u.textBlock.width-b,u.textBlock.height),u.x1=this.chart._eventManager.objectMap[u.id].x1=b,u.y1=this.chart._eventManager.objectMap[u.id].y1=u.textBlock.y-this.lineHeight/2,u.x2=this.chart._eventManager.objectMap[u.id].x2=u.textBlock.x+u.textBlock.width,u.y2=this.chart._eventManager.objectMap[u.id].y2=u.textBlock.y+u.textBlock.height-this.lineHeight/2}l+=d}},b(S,C),S.prototype.getDefaultAxisPlacement=function(){var t=this.type;return'column'===t||'line'===t||'stepLine'===t||'spline'===t||'area'===t||'stepArea'===t||'splineArea'===t||'stackedColumn'===t||'stackedLine'===t||'bubble'===t||'scatter'===t||'stackedArea'===t||'stackedColumn100'===t||'stackedLine100'===t||'stackedArea100'===t||'candlestick'===t||'ohlc'===t||'rangeColumn'===t||'rangeArea'===t||'rangeSplineArea'===t||'boxAndWhisker'===t||'waterfall'===t?'normal':'bar'===t||'stackedBar'===t||'stackedBar100'===t||'rangeBar'===t?'xySwapped':'pie'===t||'doughnut'===t||'funnel'===t||'pyramid'===t?'none':('error'!==t&&window.console.log('Unknown Chart Type: '+t),null)},S.getDefaultLegendMarker=function(t){return'column'===t||'stackedColumn'===t||'stackedLine'===t||'bar'===t||'stackedBar'===t||'stackedBar100'===t||'bubble'===t||'scatter'===t||'stackedColumn100'===t||'stackedLine100'===t||'stepArea'===t||'candlestick'===t||'ohlc'===t||'rangeColumn'===t||'rangeBar'===t||'rangeArea'===t||'rangeSplineArea'===t||'boxAndWhisker'===t||'waterfall'===t?'square':'line'===t||'stepLine'===t||'spline'===t||'pie'===t||'doughnut'===t?'circle':'area'===t||'splineArea'===t||'stackedArea'===t||'stackedArea100'===t||'funnel'===t||'pyramid'===t?'triangle':'error'===t?'none':(window.console.log('Unknown Chart Type: '+t),null)},S.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var i,a,s={dataPoint:null,distance:1/0,index:NaN},n=0,o=1,l=1/0,r=0,h=0,d=0;for('none'!==this.chart.plotInfo.axisPlacement&&(d=this.axisX.logarithmic?1<(a=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/a*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(a=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/a*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(i=0<o?d+n:d-n)&&i<this.dataPoints.length){var x=this.dataPoints[i],c=this.axisX.logarithmic?x.x>t?x.x/t:t/x.x:Math.abs(x.x-t);if(c<s.distance&&(s.dataPoint=x,s.distance=c,s.index=i),c<=l?l=c:0<o?r++:h++,1e3<r&&1e3<h)break}else if(d-n<0&&d+n>=this.dataPoints.length)break;o=-1===o?(n++,1):-1}return!e&&s.dataPoint.x===t||e&&null!==s.dataPoint?s:null},S.prototype.getDataPointAtXY=function(t,e,i){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;i=i||!1;var a,s,n,o=[],l=0,r=1,h=!1,d=1/0,x=0,c=0,p=0;for('none'!==this.chart.plotInfo.axisPlacement&&(s=(this.chart.axisX[0]||this.chart.axisX2[0]).getXValueAt({x:t,y:e}),p=this.axisX.logarithmic?1<(n=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/n*Math.log(s/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(n=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/n*(s-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(a=0<r?p+l:p-l)&&a<this.dataPoints.length){var u=this.dataPointIds[a],m=this.chart._eventManager.objectMap[u],g=this.dataPoints[a],b=null;if(m){switch(this.type){case'column':case'stackedColumn':case'stackedColumn100':case'bar':case'stackedBar':case'stackedBar100':case'rangeColumn':case'rangeBar':case'waterfall':case'error':t>=m.x1&&t<=m.x2&&e>=m.y1&&e<=m.y2&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y1-e),Math.abs(m.y2-e))}),h=!0);break;case'line':case'stepLine':case'spline':case'area':case'stepArea':case'stackedArea':case'stackedArea100':case'splineArea':case'scatter':var y=D('markerSize',g,this)||4,v=i?20:y;(b=Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)))<=v&&o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:b}),(f=Math.abs(m.x1-t))<=d?d=f:0<r?x++:c++,b<=y/2&&(h=!0);break;case'rangeArea':case'rangeSplineArea':var f,y=D('markerSize',g,this)||4,v=i?20:y;(b=Math.min(Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)),Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y2-e,2))))<=v&&o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:b}),(f=Math.abs(m.x1-t))<=d?d=f:0<r?x++:c++,b<=y/2&&(h=!0);break;case'bubble':y=m.size;(b=Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)))<=y/2&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:b}),h=!0);break;case'pie':case'doughnut':var M,k=m.center,T='doughnut'===this.type?m.percentInnerRadius*m.radius:0;(b=Math.sqrt(Math.pow(k.x-t,2)+Math.pow(k.y-e,2)))<m.radius&&T<b&&(T=e-k.y,k=t-k.x,(T=Math.atan2(T,k))<0&&(T+=2*Math.PI),T=Number(((T/Math.PI*180%360+360)%360).toFixed(12)),k=Number(((m.startAngle/Math.PI*180%360+360)%360).toFixed(12)),(M=0===(M=Number(((m.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<m.endAngle?360:M)<=k&&0!==g.y&&(M+=360,T<k)&&(T+=360),k<T)&&T<M&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:0}),h=!0);break;case'funnel':case'pyramid':var P,k=m.funnelSection;e>k.y1&&e<k.y4&&(T=k.y6?e>k.y6?(P=k.x6+(k.x5-k.x6)/(k.y5-k.y6)*(e-k.y6),k.x3+(k.x4-k.x3)/(k.y4-k.y3)*(e-k.y3)):(P=k.x1+(k.x6-k.x1)/(k.y6-k.y1)*(e-k.y1),k.x2+(k.x3-k.x2)/(k.y3-k.y2)*(e-k.y2)):(P=k.x1+(k.x4-k.x1)/(k.y4-k.y1)*(e-k.y1),k.x2+(k.x3-k.x2)/(k.y3-k.y2)*(e-k.y2)),P<t)&&t<T&&(o.push({dataPoint:g,dataPointIndex:m.dataPointIndex,dataSeries:this,distance:0}),h=!0);break;case'boxAndWhisker':(t>=m.x1-m.borderThickness/2&&t<=m.x2+m.borderThickness/2&&e>=m.y4-m.borderThickness/2&&e<=m.y1+m.borderThickness/2||Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&e>=m.y1&&e<=m.y4)&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-e),Math.abs(m.y3-e))}),h=!0);break;case'candlestick':(t>=m.x1-m.borderThickness/2&&t<=m.x2+m.borderThickness/2&&e>=m.y2-m.borderThickness/2&&e<=m.y3+m.borderThickness/2||Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&e>=m.y1&&e<=m.y4)&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-e),Math.abs(m.y3-e))}),h=!0);break;case'ohlc':(Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&e>=m.y2&&e<=m.y3||t>=m.x1&&t<=(m.x2+m.x1)/2&&e>=m.y1-m.borderThickness/2&&e<=m.y1+m.borderThickness/2||t>=(m.x1+m.x2)/2&&t<=m.x2&&e>=m.y4-m.borderThickness/2&&e<=m.y4+m.borderThickness/2)&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-e),Math.abs(m.y3-e))}),h=!0)}if(h||1e3<x&&1e3<c)break}}else if(p-l<0&&p+l>=this.dataPoints.length)break;r=-1===r?(l++,1):-1}for(var w=null,C=0;C<o.length;C++)(!w||o[C].distance<=w.distance)&&(w=o[C]);return w},S.prototype.getMarkerProperties=function(t,e,i,a){var s=this.dataPoints,n=this,o=s[t].markerColor||n.markerColor||s[t].color||n.color||n._colorSet[t%n._colorSet.length],l=s[t].markerBorderColor||n.markerBorderColor||null,r=s[t].markerBorderThickness||n.markerBorderThickness||null;return{x:e,y:i,ctx:a,type:s[t].markerType||n.markerType,size:s[t].markerSize||n.markerSize,color:o,borderColor:l,borderThickness:r}},b(_,C),_.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var i=_.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),a=Math.ceil(this.viewportMinimum/i)*i;a<e;a+=i)a<this.viewportMinimum||this.logLabelValues.push(a);this.logLabelValues.sort(N),this.createExtraLabelsForLog(t)}}},_.prototype.createLabels=function(){var t,e,i=0,a=0,s=0,n=0,o=0,l=this.interval,r=0,h=-25,d=.6*this.chart.height,x=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],c=!x.length||Nt(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex;if('axisX'!==this.type||'dateTime'!==this.valueType||this.logarithmic){if(b=this.viewportMaximum,this.labels){var p=Math.ceil(l),u=Math.ceil(this.intervalStartPosition),m=!1;for(i=u;i<this.viewportMaximum;i+=p){if(!this.labels[i]){m=!1;break}m=!0}m&&(l=this.interval=p,this.intervalStartPosition=u)}if(this.logarithmic&&!this.equidistantInterval){this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog());for(a=0,y=c;a<this.logLabelValues.length;a++)if((i=this.logLabelValues[a])<this.viewportMinimum)a++;else{for(;y<x.length&&i>x[y].endValue;y++);var g=i;y<x.length&&i>=x[y].startValue&&i<=x[y].endValue||(v=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]||null}):'axisX'===this.type&&this.labels[g]?this.labels[g]:X(g,this.valueFormatString,this.chart._cultureInfo),f=new jt(this.ctx,{x:0,y:0,maxWidth:s,maxHeight:n,angle:this.labelAngle,text:this.prefix+v+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:'left',fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:'middle',borderThickness:0}),this._labels.push({position:g,textBlock:f,effectiveHeight:null}))}}for(y=c,i=this.intervalStartPosition;i<=b;i=parseFloat(this.interval<1e-12?this.logarithmic&&this.equidistantInterval?i*Math.pow(this.logarithmBase,this.interval):i+this.interval:(this.logarithmic&&this.equidistantInterval?i*Math.pow(this.logarithmBase,this.interval):i+this.interval).toFixed(12))){for(;y<x.length&&i>x[y].endValue;y++);g=i,y<x.length&&i>=x[y].startValue&&i<=x[y].endValue||(v=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]||null}):'axisX'===this.type&&this.labels[g]?this.labels[g]:X(g,this.valueFormatString,this.chart._cultureInfo),f=new jt(this.ctx,{x:0,y:0,maxWidth:s,maxHeight:n,angle:this.labelAngle,text:this.prefix+v+this.suffix,horizontalAlign:'left',backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:'middle'}),this._labels.push({position:g,textBlock:f,effectiveHeight:null}))}}else{this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval);for(var b=E(new Date(this.viewportMaximum),this.interval,this.intervalType),y=c,i=this.intervalStartPosition;i<b;E(i,l,this.intervalType)){for(var v,f,M=i.getTime();y<x.length&&M>x[y].endValue;y++);g=M,y<x.length&&M>=x[y].startValue&&M<=x[y].endValue||(v=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(g),label:this.labels[g]||null}):'axisX'===this.type&&this.labels[g]?this.labels[g]:Y(g,this.valueFormatString,this.chart._cultureInfo),f=new jt(this.ctx,{x:0,y:0,maxWidth:s,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:n,angle:this.labelAngle,text:this.prefix+v+this.suffix,horizontalAlign:'left',fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:'middle'}),this._labels.push({position:g,textBlock:f,effectiveHeight:null,breaksLabelType:void 0}))}}'bottom'===this._position||'top'===this._position?(r=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*R(this.interval,this.intervalType),s=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(n=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):'left'!==this._position&&'right'!==this._position||(r=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*R(this.interval,this.intervalType),this.chart.panEnabled||(s=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),n=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize);for(a=0;a<this._labels.length;a++){(f=this._labels[a].textBlock).maxWidth=s,f.maxHeight=n;var k=(A=f.measureText()).height}var T=[],P=0,D=0;if(this.labelAutoFit||this.options.labelAutoFit)if(Nt(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&this.labelAngle<270?this.labelAngle-=180:270<=this.labelAngle&&this.labelAngle<=360&&(this.labelAngle-=360)),'bottom'===this._position||'top'===this._position){var y=0,s=.9*r>>0,w=0;if(!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,i=0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType)for(var C,z=(f=this._labels[i].textBlock).text.split(' '),a=0;a<z.length;a++){var S=z[a],S=(this.ctx.font=f.fontStyle+' '+f.fontWeight+' '+f.fontSize+'px '+f.fontFamily,this.ctx.measureText(S));S.width>w&&(C=i,w=S.width)}for(i=this.intervalStartPosition<this.viewportMinimum?1:0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){var A=(f=this._labels[i].textBlock).measureText();for(y=i+1;y<this._labels.length;y++)if(!this._labels[y].breaksLabelType){e=(t=this._labels[y].textBlock).measureText();break}if(T.push(f.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,T),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),f.fontSize,Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o=s*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Nt(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle){this.sessionVariables.labelMaxHeight=0===this.labelAngle?n:Math.min((o-s*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o);F=(d-(k+f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(h)))/Math.sin(Math.PI/180*Math.abs(h));if(Nt(this.options.labelWrap)){if(Nt(this.options.labelWrap))if(Nt(this.options.labelMaxWidth)){if(!Nt(e)){var _=A.width+e.width>>0,B=this.labelFontSize;if(w<s)P<_-2*s&&(P=_-2*s,2*s<=_&&_<2.2*s?(this.sessionVariables.labelMaxWidth=s,Nt(this.options.labelFontSize)&&12<B&&(B=Math.floor(12/13*B),A=f.measureText()),this.sessionVariables.labelFontSize=Nt(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):2.2*s<=_&&_<2.8*s?(this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=F,this.sessionVariables.labelFontSize=B):2.8*s<=_&&_<3.2*s?(this.sessionVariables.labelMaxWidth=Math.max(s,w),this.sessionVariables.labelWrap=!0,Nt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),A=f.measureText()),this.sessionVariables.labelFontSize=Nt(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):3.2*s<=_&&_<3.6*s?(this.sessionVariables.labelAngle=h,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=F,this.sessionVariables.labelFontSize=this.labelFontSize):3.6*s<_&&_<5*s?(Nt(this.options.labelFontSize)&&12<B&&(B=Math.floor(12/13*B),A=f.measureText()),this.sessionVariables.labelFontSize=Nt(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=F):5*s<_&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelFontSize=B,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelAngle=this.labelAngle));else if(C===i&&(0===C&&w+this._labels[C+1].textBlock.measureText().width-2*s>P||C===this._labels.length-1&&w+this._labels[C-1].textBlock.measureText().width-2*s>P||0<C&&C<this._labels.length-1&&w+this._labels[C+1].textBlock.measureText().width-2*s>P&&w+this._labels[C-1].textBlock.measureText().width-2*s>P))P=0===C?w+this._labels[C+1].textBlock.measureText().width-2*s:w+this._labels[C-1].textBlock.measureText().width-2*s,this.sessionVariables.labelFontSize=Nt(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=F;else if(0===P)for(this.sessionVariables.labelFontSize=Nt(this.options.labelFontSize)?B:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,a=0;a<this._labels.length;a++)(f=this._labels[a].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,w),F),A=f.measureText(),a<this._labels.length-1&&((t=this._labels[y=a+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,w),F),e=t.measureText(),A.width+e.width>>0>2*s)&&(this.sessionVariables.labelAngle=h)}}else this.options.labelMaxWidth<s?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=n)}else this.labelWrap?Nt(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,w),F),this.sessionVariables.labelWrap=this.labelWrap,A.width+e.width>>0>2*s&&(this.sessionVariables.labelAngle=h)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>s?h:this.sessionVariables.labelAngle):Nt(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelMaxWidth=s,A.width+e.width>>0>2*s&&(this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=F)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>s?h:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelWrap=this.labelWrap)}else{this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?n:Math.min((o-s*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o);var F=0!=this.labelAngle?(d-(k+f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):s;this.sessionVariables.labelMaxHeight=n=this.labelWrap?(d-F*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,Nt(this.options.labelWrap)?Nt(this.options.labelWrap)&&(this.labelWrap&&!Nt(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||F,this.sessionVariables.labelMaxHeight=n):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=F,this.sessionVariables.labelMaxHeight=o<.9*r?.9*r:o,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||F):(Nt(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||F,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=n)}}for(a=0;a<this._labels.length;a++)(f=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,f.fontSize=this.sessionVariables.labelFontSize,f.angle=this.labelAngle=this.sessionVariables.labelAngle,f.wrap=this.labelWrap=this.sessionVariables.labelWrap,f.maxHeight=this.sessionVariables.labelMaxHeight,f.measureText()}else for(i=0;i<this._labels.length;i++)(f=this._labels[i].textBlock).maxWidth=this.labelMaxWidth=(Nt(this.options.labelMaxWidth)?this.sessionVariables:this.options).labelMaxWidth,f.fontSize=this.labelFontSize=(Nt(this.options.labelFontSize)?this.sessionVariables:this.options).labelFontSize,f.angle=this.labelAngle=(Nt(this.options.labelAngle)?this.sessionVariables:this).labelAngle,f.wrap=this.labelWrap=(Nt(this.options.labelWrap)?this.sessionVariables:this.options).labelWrap,f.maxHeight=this.sessionVariables.labelMaxHeight,f.measureText()}else if('left'===this._position||'right'===this._position){y=0;if(s=Nt(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,n=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelAngle=Nt(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,i=0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){var L,A=(f=this._labels[i].textBlock).measureText();for(y=i+1;y<this._labels.length;y++)if(!this._labels[y].breaksLabelType){e=(t=this._labels[y].textBlock).measureText();break}T.push(f.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,T),o=s*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),f.fontSize,Math.sin(Math.PI/180*Math.abs(this.labelAngle)),Nt(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?Nt(this.options.labelWrap)?Nt(this.options.labelWrap)&&(Nt(this.options.labelMaxWidth)?Nt(e)||D<(L=A.height+e.height>>0)-2*n&&(D=L-2*n,2*n<=L&&L<2.4*n?(Nt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),A=f.measureText()),this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelFontSize=(Nt(this.options.labelFontSize)?this:this.options).labelFontSize):2.4*n<=L&&L<2.8*n?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):2.8*n<=L&&L<3.2*n?(this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelWrap=!0,Nt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),A=f.measureText()),this.sessionVariables.labelFontSize=(Nt(this.options.labelFontSize)?this:this.options).labelFontSize,this.sessionVariables.labelAngle=Nt(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):3.2*n<=L&&L<3.6*n?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):3.6*n<L&&L<10*n?(Nt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),A=f.measureText()),this.sessionVariables.labelFontSize=(Nt(this.options.labelFontSize)?this:this.options).labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelAngle=Nt(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):10*n<L&&L<50*n&&(Nt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),A=f.measureText()),this.sessionVariables.labelFontSize=(Nt(this.options.labelFontSize)?this:this.options).labelFontSize,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelAngle=Nt(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||this.sessionVariables.labelMaxWidth)):(this.labelWrap||this.labelMaxWidth?this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||this.sessionVariables.labelMaxWidth:this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=n):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?s:Math.min((o-n*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),n),Nt(this.options.labelWrap)?Nt(this.options.labelWrap)&&(this.labelWrap&&!Nt(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||s,this.sessionVariables.labelMaxHeight=0===this.labelAngle?n:o,Nt(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?n:o,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=s):(this.sessionVariables.labelMaxHeight=n,Nt(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(a=0;a<this._labels.length;a++)(f=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,f.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,f.angle=this.labelAngle=this.sessionVariables.labelAngle,f.wrap=this.labelWrap=this.sessionVariables.labelWrap,f.maxHeight=this.sessionVariables.labelMaxHeight,f.measureText()}else for(i=0;i<this._labels.length;i++)(f=this._labels[i].textBlock).maxWidth=this.labelMaxWidth=(Nt(this.options.labelMaxWidth)?this.sessionVariables:this.options).labelMaxWidth,f.fontSize=this.labelFontSize=(Nt(this.options.labelFontSize)?this.sessionVariables:this.options).labelFontSize,f.angle=this.labelAngle=(Nt(this.options.labelAngle)?this.sessionVariables:this).labelAngle,f.wrap=this.labelWrap=(Nt(this.options.labelWrap)?this.sessionVariables:this.options).labelWrap,f.maxHeight=this.sessionVariables.labelMaxHeight,f.measureText()}for(i=0;i<this.stripLines.length;i++){var I,V,W=this.stripLines[i];'outside'===W.labelPlacement?(I=this.sessionVariables.labelMaxWidth,'bottom'!==this._position&&'top'!==this._position||(V=Nt(W.options.labelWrap)?this.sessionVariables.labelMaxHeight:W.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),'left'!==this._position&&'right'!==this._position||(V=Nt(W.options.labelWrap)?this.sessionVariables.labelMaxHeight:W.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),Nt(W.labelBackgroundColor)&&(W.labelBackgroundColor='#EEEEEE')):(I='bottom'===this._position||'top'===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,V=Nt(W.options.labelWrap)||W.labelWrap?'bottom'===this._position||'top'===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,Nt(W.labelBackgroundColor)&&(Nt(W.startValue)&&0!==W.startValue?W.labelBackgroundColor=Et?'transparent':null:W.labelBackgroundColor='#EEEEEE')),f=new jt(this.ctx,{x:0,y:0,backgroundColor:W.labelBackgroundColor,borderColor:W.labelBorderColor,borderThickness:W.labelBorderThickness,cornerRadius:W.labelCornerRadius,maxWidth:W.options.labelMaxWidth||I,maxHeight:V,angle:this.labelAngle,text:W.labelFormatter?W.labelFormatter({chart:this.chart,axis:this,stripLine:W}):W.label,horizontalAlign:'left',fontSize:('outside'!==W.labelPlacement||W.options.labelFontSize?W:this).labelFontSize,fontFamily:('outside'!==W.labelPlacement||W.options.labelFontFamily?W:this).labelFontFamily,fontWeight:('outside'!==W.labelPlacement||W.options.labelFontWeight?W:this).labelFontWeight,fontColor:W.labelFontColor||W.color,fontStyle:'outside'!==W.labelPlacement||W.options.labelFontStyle?W.labelFontStyle:this.fontWeight,textBaseline:'middle'}),this._stripLineLabels.push({position:W.value,textBlock:f,effectiveHeight:null,stripLine:W})}},_.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0,i=(this._labels=[],this._stripLineLabels=[],this.chart.isNavigator?0:5);if('left'===this._position||'right'===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var a,s=(a=this._labels[e].textBlock).measureText(),n=0;t<(n=0===this.labelAngle?s.width:s.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(s.height-a.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._labels[e].effectiveWidth=n}for(e=0;e<this._stripLineLabels.length;e++)'outside'===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(s=(a=this._stripLineLabels[e].textBlock).measureText(),t<(n=(n=0)===this.labelAngle?s.width:s.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(s.height-a.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._stripLineLabels[e].effectiveWidth=n)}var o=this.title?this._titleTextBlock.measureText().height+2:0,o='inside'===this.labelPlacement?o+i:o+t+this.tickLength+i;return o},_.prototype.createLabelsAndCalculateHeight=function(){var t=0,e=(this._labels=[],this._stripLineLabels=[],0),i=this.chart.isNavigator?0:5;if(this.createLabels(),'bottom'===this._position||'top'===this._position){for(e=0;e<this._labels.length;e++){var a,s=(a=this._labels[e].textBlock).measureText(),n=0;t<(n=0===this.labelAngle?s.height:s.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(s.height-a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._labels[e].effectiveHeight=n}for(e=0;e<this._stripLineLabels.length;e++)'outside'===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(s=(a=this._stripLineLabels[e].textBlock).measureText(),t<(n=(n=0)===this.labelAngle?s.height:s.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(s.height-a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._stripLineLabels[e].effectiveHeight=n)}var o=this.title?this._titleTextBlock.measureText().height+2:0,o='inside'===this.labelPlacement?o+i:o+t+this.tickLength+i;return o},_.setLayout=function(t,e,i,a,D,s){var n,o,l,r,h=(t[0]?t:e)[0].chart,d=h.isNavigator?0:10,x=(h.ctx,h._axes);if(t&&0<t.length)for(var c=0;c<t.length;c++)t[c]&&t[c].calculateAxisParameters();if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].calculateAxisParameters();if(i&&0<i.length)for(c=0;c<i.length;c++)i[c].calculateAxisParameters();if(a&&0<a.length)for(c=0;c<a.length;c++)a[c].calculateAxisParameters();for(c=0;c<x.length;c++)if(x[c]&&x[c].scaleBreaks&&x[c].scaleBreaks._appliedBreaks.length)for(var z=x[c].scaleBreaks._appliedBreaks,p=0;p<z.length&&!(z[p].startValue>x[c].viewportMaximum);p++)z[p].endValue<x[c].viewportMinimum||(Nt(x[c].scaleBreaks.firstBreakIndex)&&(x[c].scaleBreaks.firstBreakIndex=p),z[p].startValue>=x[c].viewPortMinimum&&(x[c].scaleBreaks.lastBreakIndex=p));for(var u,m,g,p=0,b=0,X=0,y=0,Y=0,O=0,E=0,v=0,R=0,N=u=m=g=!1,c=0;c<x.length;c++)x[c]&&x[c].title&&(x[c]._titleTextBlock=new jt(x[c].ctx,{text:x[c].title,horizontalAlign:'center',fontSize:x[c].titleFontSize,fontFamily:x[c].titleFontFamily,fontWeight:x[c].titleFontWeight,fontColor:x[c].titleFontColor,fontStyle:x[c].titleFontStyle,borderColor:x[c].titleBorderColor,borderThickness:x[c].titleBorderThickness,backgroundColor:x[c].titleBackgroundColor,cornerRadius:x[c].titleCornerRadius,textBaseline:'top'}));for(c=0;c<x.length;c++)if(x[c].title)switch(x[c]._position){case'left':x[c]._titleTextBlock.maxWidth=x[c].titleMaxWidth||s.height,x[c]._titleTextBlock.maxHeight=x[c].titleWrap?.8*s.width:1.5*x[c].titleFontSize,x[c]._titleTextBlock.angle=-90;break;case'right':x[c]._titleTextBlock.maxWidth=x[c].titleMaxWidth||s.height,x[c]._titleTextBlock.maxHeight=x[c].titleWrap?.8*s.width:1.5*x[c].titleFontSize,x[c]._titleTextBlock.angle=90;break;default:x[c]._titleTextBlock.maxWidth=x[c].titleMaxWidth||s.width,x[c]._titleTextBlock.maxHeight=x[c].titleWrap?.8*s.height:1.5*x[c].titleFontSize,x[c]._titleTextBlock.angle=0}if('normal'===D){for(var f=[],H=[],M=[],U=[],j=[],K=[],q=[],G=[];p<4;){var J=0,Q=0,Z=0,$=0,k=0,T=0,tt=0,P=0,w=0,C=0,et=0,S=0;if(i&&0<i.length)for(M=[],et=0,c=0;c<i.length;c++)M.push(Math.ceil(i[c]?i[c].createLabelsAndCalculateWidth():0)),et+=M[c],tt+=i[c]&&!h.isNavigator?i[c].margin:0;else M.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(q.push(M),a&&0<a.length)for(U=[],S=0,c=0;c<a.length;c++)U.push(Math.ceil(a[c]?a[c].createLabelsAndCalculateWidth():0)),S+=U[c],P+=a[c]?a[c].margin:0;else U.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateWidth():0));if(G.push(U),n=Math.round(s.x1+et+tt),l=Math.round(s.x2-S-P>h.width-d?h.width-d:s.x2-S-P),t&&0<t.length)for(f=[],w=0,c=0;c<t.length;c++)t[c]&&(t[c].lineCoordinates={}),t[c].lineCoordinates.width=Math.abs(l-n),t[c].title&&(t[c]._titleTextBlock.maxWidth=0<t[c].titleMaxWidth&&t[c].titleMaxWidth<t[c].lineCoordinates.width?t[c].titleMaxWidth:t[c].lineCoordinates.width),f.push(Math.ceil(t[c]?t[c].createLabelsAndCalculateHeight():0)),w+=f[c],k+=t[c]&&!h.isNavigator?t[c].margin:0;else f.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(j.push(f),e&&0<e.length)for(H=[],C=0,c=0;c<e.length;c++)e[c]&&(e[c].lineCoordinates={}),e[c].lineCoordinates.width=Math.abs(l-n),e[c].title&&(e[c]._titleTextBlock.maxWidth=0<e[c].titleMaxWidth&&e[c].titleMaxWidth<e[c].lineCoordinates.width?e[c].titleMaxWidth:e[c].lineCoordinates.width),H.push(Math.ceil(e[c]?e[c].createLabelsAndCalculateHeight():0)),C+=H[c],T+=e[c]&&!h.isNavigator?e[c].margin:0;else H.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(K.push(H),t&&0<t.length)for(c=0;c<t.length;c++)t[c]&&(t[c].lineCoordinates.x1=n,l=Math.round(s.x2-S-P>h.width-d?h.width-d:s.x2-S-P),t[c]._labels&&1<t[c]._labels.length&&(V=I=0,I=t[c]._labels[1],V='dateTime'===t[c].valueType?t[c]._labels[t[c]._labels.length-2]:t[c]._labels[t[c]._labels.length-1],b=I.textBlock.width*Math.cos(Math.PI/180*Math.abs(I.textBlock.angle))+(I.textBlock.height-V.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(I.textBlock.angle)),X=V.textBlock.width*Math.cos(Math.PI/180*Math.abs(V.textBlock.angle))+(V.textBlock.height-V.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(V.textBlock.angle))),!t[c]||!t[c].labelAutoFit||Nt(_)||Nt(it)||h.isNavigator||((v=0)<t[c].labelAngle?l<it+X&&(v+=0<t[c].labelAngle?it+X-l-S:0):t[c].labelAngle<0?_-b<n&&_-b<t[c].viewportMinimum&&(R=n-(tt+t[c].tickLength+M+_-b+t[c].labelFontSize/2)):0===t[c].labelAngle&&(l<it+X&&(v=it+X/2-l-S),_-b<n)&&_-b<t[c].viewportMinimum&&(R=n-tt-t[c].tickLength-M-_+b/2),t[c].viewportMaximum===t[c].maximum&&t[c].viewportMinimum===t[c].minimum&&0<t[c].labelAngle&&0<v?l-=v:t[c].viewportMaximum===t[c].maximum&&t[c].viewportMinimum===t[c].minimum&&t[c].labelAngle<0&&0<R?n+=R:t[c].viewportMaximum===t[c].maximum&&t[c].viewportMinimum===t[c].minimum&&0===t[c].labelAngle&&(0<R&&(n+=R),0<v)&&(l-=v)),h.panEnabled?w=h.sessionVariables.axisX.height:h.sessionVariables.axisX.height=w,o=Math.round(s.y2-w-k+J),r=Math.round(s.y2),t[c].lineCoordinates.x2=l,t[c].lineCoordinates.width=l-n,t[c].lineCoordinates.y1=o,t[c].lineCoordinates.y2=o,t[c].bounds={x1:n,y1:o,x2:l,y2:r-(w+k-f[c]-J),width:l-n,height:r-o}),J+=f[c]+t[c].margin;if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].lineCoordinates.x1=Math.round(s.x1+et+tt),e[c].lineCoordinates.x2=Math.round(s.x2-S-P>h.width-d?h.width-d:s.x2-S-P),e[c].lineCoordinates.width=Math.abs(l-n),e[c]._labels&&1<e[c]._labels.length&&(V=I=0,I=e[c]._labels[1],V='dateTime'===e[c].valueType?e[c]._labels[e[c]._labels.length-2]:e[c]._labels[e[c]._labels.length-1],b=I.textBlock.width*Math.cos(Math.PI/180*Math.abs(I.textBlock.angle))+(I.textBlock.height-V.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(I.textBlock.angle)),X=V.textBlock.width*Math.cos(Math.PI/180*Math.abs(V.textBlock.angle))+(V.textBlock.height-V.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(V.textBlock.angle))),h.panEnabled?C=h.sessionVariables.axisX2.height:h.sessionVariables.axisX2.height=C,o=Math.round(s.y1),r=Math.round(s.y2+e[c].margin),e[c].lineCoordinates.y1=o+C+T-Q,e[c].lineCoordinates.y2=o,e[c].bounds={x1:n,y1:o+(C+T-H[c]-Q),x2:l,y2:r,width:l-n,height:r-o},Q+=H[c]+e[c].margin;if(i&&0<i.length)for(c=0;c<i.length;c++){var A=h.isNavigator?0:10;i[c]&&(n=Math.round((t[0]?t:e)[0].lineCoordinates.x1),A=i[c]._labels&&0<i[c]._labels.length?i[c]._labels[i[c]._labels.length-1].textBlock.height/2:d,o=Math.round(s.y1+C+T<Math.max(A,d)?Math.max(A,d):s.y1+C+T),l=Math.round((t[0]?t:e)[0].lineCoordinates.x1),A=0<t.length?0:i[c]._labels&&0<i[c]._labels.length?i[c]._labels[0].textBlock.height/2:d,r=Math.round(s.y2-w-k-A),i[c].lineCoordinates={x1:l-Z,y1:o,x2:l-Z,y2:r,height:Math.abs(r-o)},i[c].bounds={x1:n-(M[c]+Z),y1:o,x2:l,y2:r,width:l-n,height:r-o},i[c].title&&(i[c]._titleTextBlock.maxWidth=0<i[c].titleMaxWidth&&i[c].titleMaxWidth<i[c].lineCoordinates.height?i[c].titleMaxWidth:i[c].lineCoordinates.height),Z+=M[c]+i[c].margin)}if(a&&0<a.length)for(c=0;c<a.length;c++){A=0;a[c]&&(n=Math.round((t[0]?t:e)[0].lineCoordinates.x2),l=Math.round(n),A=a[c]._labels&&0<a[c]._labels.length?a[c]._labels[a[c]._labels.length-1].textBlock.height/2:0,o=Math.round(s.y1+C+T<Math.max(A,d)?Math.max(A,d):s.y1+C+T),A=!(0<t.length)&&a[c]._labels&&0<a[c]._labels.length?a[c]._labels[0].textBlock.height/2:0,r=Math.round(s.y2-(w+k+A)),a[c].lineCoordinates={x1:n+$,y1:o,x2:n+$,y2:r,height:Math.abs(r-o)},a[c].bounds={x1:n,y1:o,x2:l+(U[c]+$),y2:r,width:l-n,height:r-o},a[c].title&&(a[c]._titleTextBlock.maxWidth=0<a[c].titleMaxWidth&&a[c].titleMaxWidth<a[c].lineCoordinates.height?a[c].titleMaxWidth:a[c].lineCoordinates.height),$+=U[c]+a[c].margin)}if(t&&0<t.length)for(var _,it,c=0;c<t.length;c++)t[c]&&(t[c].calculateValueToPixelConversionParameters(),t[c].calculateBreaksSizeInValues(),t[c]._labels)&&1<t[c]._labels.length&&(_=(t[c].logarithmic?Math.log(t[c]._labels[1].position/t[c].viewportMinimum)/t[c].conversionParameters.lnLogarithmBase:t[c]._labels[1].position-t[c].viewportMinimum)*Math.abs(t[c].conversionParameters.pixelPerUnit)+t[c].lineCoordinates.x1,at=t[c]._labels[t[c]._labels.length-('dateTime'===t[c].valueType?2:1)].position,B=t[c].getApparentDifference(t[c].viewportMinimum,at),it=t[c].logarithmic?(1<B?Math.log(B)/t[c].conversionParameters.lnLogarithmBase*Math.abs(t[c].conversionParameters.pixelPerUnit):0)+t[c].lineCoordinates.x1:(0<B?B*Math.abs(t[c].conversionParameters.pixelPerUnit):0)+t[c].lineCoordinates.x1);if(e&&0<e.length)for(var at,B,c=0;c<e.length;c++)e[c].calculateValueToPixelConversionParameters(),e[c].calculateBreaksSizeInValues(),e[c]._labels&&1<e[c]._labels.length&&(_=(e[c].logarithmic?Math.log(e[c]._labels[1].position/e[c].viewportMinimum)/e[c].conversionParameters.lnLogarithmBase:e[c]._labels[1].position-e[c].viewportMinimum)*Math.abs(e[c].conversionParameters.pixelPerUnit)+e[c].lineCoordinates.x1,at=e[c]._labels[e[c]._labels.length-('dateTime'===e[c].valueType?2:1)].position,B=e[c].getApparentDifference(e[c].viewportMinimum,at),it=e[c].logarithmic?(1<B?Math.log(B)/e[c].conversionParameters.lnLogarithmBase*Math.abs(e[c].conversionParameters.pixelPerUnit):0)+e[c].lineCoordinates.x1:(0<B?B*Math.abs(e[c].conversionParameters.pixelPerUnit):0)+e[c].lineCoordinates.x1);for(c=0;c<x.length;c++)'axisY'===x[c].type&&(x[c].calculateValueToPixelConversionParameters(),x[c].calculateBreaksSizeInValues());if(0<p){if(t&&0<t.length)for(c=0;c<t.length;c++)N=j[p-1][c]===j[p][c];else N=!0;if(e&&0<e.length)for(c=0;c<e.length;c++)u=K[p-1][c]===K[p][c];else u=!0;if(i&&0<i.length)for(c=0;c<i.length;c++)m=q[p-1][c]===q[p][c];else m=!0;if(a&&0<a.length)for(c=0;c<a.length;c++)g=G[p-1][c]===G[p][c];else g=!0}if(N&&u&&m&&g)break;p++}if(t&&0<t.length)for(c=0;c<t.length;c++)t[c].calculateStripLinesThicknessInValues(),t[c].calculateBreaksInPixels();if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].calculateStripLinesThicknessInValues(),e[c].calculateBreaksInPixels();if(i&&0<i.length)for(c=0;c<i.length;c++)i[c].calculateStripLinesThicknessInValues(),i[c].calculateBreaksInPixels();if(a&&0<a.length)for(c=0;c<a.length;c++)a[c].calculateStripLinesThicknessInValues(),a[c].calculateBreaksInPixels()}else{for(var F=[],st=[],nt=[],ot=[],lt=[],rt=[],ht=[],dt=[];p<4;){var xt=0,ct=0,pt=0,ut=0,k=0,T=0,tt=0,P=0,mt=0,gt=0,bt=0,L=0;if(t&&0<t.length)for(nt=[],bt=0,c=0;c<t.length;c++)nt.push(Math.ceil(t[c]?t[c].createLabelsAndCalculateWidth():0)),bt+=nt[c],k+=t[c]&&!h.isNavigator?t[c].margin:0;else nt.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(ht.push(nt),e&&0<e.length)for(ot=[],L=0,c=0;c<e.length;c++)ot.push(Math.ceil(e[c]?e[c].createLabelsAndCalculateWidth():0)),L+=ot[c],T+=e[c]?e[c].margin:0;else ot.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(dt.push(ot),i&&0<i.length)for(c=0;c<i.length;c++)i[c].lineCoordinates={},n=Math.round(s.x1+bt+k),l=Math.round(s.x2-L-T>h.width-10?h.width-10:s.x2-L-T),i[c].labelAutoFit&&!Nt(y)&&(0<!t.length&&(n=i[c].labelAngle<0?Math.max(n,y):0===i[c].labelAngle?Math.max(n,y/2):n),0<!e.length)&&(l=0<i[c].labelAngle||0===i[c].labelAngle?l-Y/2:l),i[c].lineCoordinates.x1=n,i[c].lineCoordinates.x2=l,i[c].lineCoordinates.width=Math.abs(l-n),i[c].title&&(i[c]._titleTextBlock.maxWidth=0<i[c].titleMaxWidth&&i[c].titleMaxWidth<i[c].lineCoordinates.width?i[c].titleMaxWidth:i[c].lineCoordinates.width);if(a&&0<a.length)for(c=0;c<a.length;c++)a[c].lineCoordinates={},n=Math.round(s.x1+bt+k),l=Math.round(s.x2-L-T>a[c].chart.width-10?a[c].chart.width-10:s.x2-L-T),a[c]&&a[c].labelAutoFit&&(Nt(O)||(0<!t.length&&(n=0<a[c].labelAngle?Math.max(n,O):0===a[c].labelAngle?Math.max(n,O/2):n),0<!e.length&&(a[c].labelAngle<0||a[c].labelAngle,l-=E/2))),a[c].lineCoordinates.x1=n,a[c].lineCoordinates.x2=l,a[c].lineCoordinates.width=Math.abs(l-n),a[c].title&&(a[c]._titleTextBlock.maxWidth=0<a[c].titleMaxWidth&&a[c].titleMaxWidth<a[c].lineCoordinates.width?a[c].titleMaxWidth:a[c].lineCoordinates.width);if(i&&0<i.length)for(F=[],mt=0,c=0;c<i.length;c++)F.push(Math.ceil(i[c]?i[c].createLabelsAndCalculateHeight():0)),mt+=F[c]+i[c].margin,tt+=i[c].margin;else F.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(lt.push(F),a&&0<a.length)for(st=[],gt=0,c=0;c<a.length;c++)st.push(Math.ceil(a[c]?a[c].createLabelsAndCalculateHeight():0)),gt+=st[c],P+=a[c].margin;else st.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateHeight():0));if(rt.push(st),i&&0<i.length)for(c=0;c<i.length;c++)0<i[c]._labels.length&&(I=i[c]._labels[0],V=i[c]._labels[i[c]._labels.length-1],y=I.textBlock.width*Math.cos(Math.PI/180*Math.abs(I.textBlock.angle))+(I.textBlock.height-V.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(I.textBlock.angle)),Y=V.textBlock.width*Math.cos(Math.PI/180*Math.abs(V.textBlock.angle))+(V.textBlock.height-V.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(V.textBlock.angle)));if(a&&0<a.length)for(var I,V,c=0;c<a.length;c++)a[c]&&0<a[c]._labels.length&&(I=a[c]._labels[0],V=a[c]._labels[a[c]._labels.length-1],O=I.textBlock.width*Math.cos(Math.PI/180*Math.abs(I.textBlock.angle))+(I.textBlock.height-V.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(I.textBlock.angle)),E=V.textBlock.width*Math.cos(Math.PI/180*Math.abs(V.textBlock.angle))+(V.textBlock.height-V.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(V.textBlock.angle)));if(h.panEnabled)for(c=0;c<i.length;c++)F[c]=h.sessionVariables.axisY.height;else for(c=0;c<i.length;c++)h.sessionVariables.axisY.height=F[c];if(i&&0<i.length)for(c=i.length-1;0<=c;c--)o=Math.round(s.y2),r=Math.round(s.y2>i[c].chart.height-10?i[c].chart.height-10:s.y2),i[c].lineCoordinates.y1=o-(F[c]+i[c].margin+xt),i[c].lineCoordinates.y2=o-(F[c]+i[c].margin+xt),i[c].bounds={x1:n,y1:o-(F[c]+xt+i[c].margin),x2:l,y2:r-(xt+i[c].margin),width:l-n,height:F[c]},i[c].title&&(i[c]._titleTextBlock.maxWidth=0<i[c].titleMaxWidth&&i[c].titleMaxWidth<i[c].lineCoordinates.width?i[c].titleMaxWidth:i[c].lineCoordinates.width),xt+=F[c]+i[c].margin;if(a&&0<a.length)for(c=a.length-1;0<=c;c--)a[c]&&(o=Math.round(s.y1),r=Math.round(s.y1+(st[c]+a[c].margin+ct)),a[c].lineCoordinates.y1=r,a[c].lineCoordinates.y2=r,a[c].bounds={x1:n,y1:o+(a[c].margin+ct),x2:l,y2:r,width:l-n,height:gt},a[c].title&&(a[c]._titleTextBlock.maxWidth=0<a[c].titleMaxWidth&&a[c].titleMaxWidth<a[c].lineCoordinates.width?a[c].titleMaxWidth:a[c].lineCoordinates.width),ct+=st[c]+a[c].margin);if(t&&0<t.length)for(c=0;c<t.length;c++){A=0;if(A=t[c]._labels&&0<t[c]._labels.length?t[c]._labels[0].textBlock.fontSize/2:0,n=Math.round(s.x1+k),o=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:s.y1<Math.max(A,10)?Math.max(A,10):s.y1):s.y1<Math.max(A,10)?Math.max(A,10):s.y1,l=Math.round(s.x1+bt+k),r=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:s.y2-mt>h.height-Math.max(A,10)?h.height-Math.max(A,10):s.y2-mt):s.y2>h.height-Math.max(A,10)?h.height-Math.max(A,10):s.y2,i&&0<i.length)for(var W=0;W<i.length;W++)i[W]&&i[W].labelAutoFit&&(l=i[W].labelAngle<0?Math.max(l,y):0===i[W].labelAngle?Math.max(l,y/2):l,n=i[W].labelAngle<0||0===i[W].labelAngle?l-bt:n);if(a&&0<a.length)for(W=0;W<a.length;W++)a[W]&&a[W].labelAutoFit&&(n=(l=a[W].lineCoordinates.x1)-bt);t[c].lineCoordinates={x1:l-pt,y1:o,x2:l-pt,y2:r,height:Math.abs(r-o)},t[c].bounds={x1:l-(nt[c]+pt),y1:o,x2:l,y2:r,width:l-n,height:r-o},t[c].title&&(t[c]._titleTextBlock.maxWidth=0<t[c].titleMaxWidth&&t[c].titleMaxWidth<t[c].lineCoordinates.height?t[c].titleMaxWidth:t[c].lineCoordinates.height),t[c].calculateValueToPixelConversionParameters(),t[c].calculateBreaksSizeInValues(),pt+=nt[c]+t[c].margin}if(e&&0<e.length)for(c=0;c<e.length;c++){A=0;if(A=e[c]._labels&&0<e[c]._labels.length?e[c]._labels[0].textBlock.fontSize/2:0,n=Math.round(s.x1-k),o=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:s.y1<Math.max(A,10)?Math.max(A,10):s.y1):s.y1<Math.max(A,10)?Math.max(A,10):s.y1,l=Math.round(s.x2-L-T),r=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:s.y2-mt>h.height-Math.max(A,10)?h.height-Math.max(A,10):s.y2-mt):s.y2>h.height-Math.max(A,10)?h.height-Math.max(A,10):s.y2,i&&0<i.length)for(W=0;W<i.length;W++)i[W]&&i[W].labelAutoFit&&(l=i[W].labelAngle<0?Math.max(l,y):0===i[W].labelAngle?Math.max(l,y/2):l,n=i[W].labelAngle<0||0===i[W].labelAngle?l-L:n);if(a&&0<a.length)for(W=0;W<a.length;W++)a[W]&&a[W].labelAutoFit&&(n=(l=a[W].lineCoordinates.x2)-L);e[c].lineCoordinates={x1:l+ut,y1:o,x2:l+ut,y2:r,height:Math.abs(r-o)},e[c].bounds={x1:n,y1:o,x2:l+ot[c]+ut,y2:r,width:l-n,height:r-o},e[c].title&&(e[c]._titleTextBlock.maxWidth=0<e[c].titleMaxWidth&&e[c].titleMaxWidth<e[c].lineCoordinates.height?e[c].titleMaxWidth:e[c].lineCoordinates.height),e[c].calculateValueToPixelConversionParameters(),e[c].calculateBreaksSizeInValues(),ut+=ot[c]+e[c].margin}for(c=0;c<x.length;c++)'axisY'===x[c].type&&(x[c].calculateValueToPixelConversionParameters(),x[c].calculateBreaksSizeInValues());if(0<p){if(t&&0<t.length)for(c=0;c<t.length;c++)N=ht[p-1][c]===ht[p][c];else N=!0;if(e&&0<e.length)for(c=0;c<e.length;c++)u=dt[p-1][c]===dt[p][c];else u=!0;if(i&&0<i.length)for(c=0;c<i.length;c++)m=lt[p-1][c]===lt[p][c];else m=!0;if(a&&0<a.length)for(c=0;c<a.length;c++)g=rt[p-1][c]===rt[p][c];else g=!0}if(N&&u&&m&&g)break;p++}if(i&&0<i.length)for(c=0;c<i.length;c++)i[c].calculateStripLinesThicknessInValues(),i[c].calculateBreaksInPixels();if(a&&0<a.length)for(c=0;c<a.length;c++)a[c].calculateStripLinesThicknessInValues(),a[c].calculateBreaksInPixels();if(t&&0<t.length)for(c=0;c<t.length;c++)t[c].calculateStripLinesThicknessInValues(),t[c].calculateBreaksInPixels();if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].calculateStripLinesThicknessInValues(),e[c].calculateBreaksInPixels()}},_.render=function(t,e,i,a,s){var n=(t[0]?t:e)[0].chart,o=n.ctx,l=n._axes;if(n.alignVerticalAxes&&n.alignVerticalAxes(),o.save(),o.beginPath(),t[0]&&o.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[0].bounds.height),e[0]&&o.rect(5,e[e.length-1].bounds.y1,e[0].chart.width-10,e[0].bounds.height),o.clip(),t&&0<t.length)for(var r=0;r<t.length;r++)t[r].renderLabelsTicksAndTitle();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderLabelsTicksAndTitle();if(o.restore(),i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderLabelsTicksAndTitle();if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderLabelsTicksAndTitle();n.preparePlotArea();n=n.plotArea;if(o.save(),o.beginPath(),o.rect(n.x1,n.y1,Math.abs(n.x2-n.x1),Math.abs(n.y2-n.y1)),o.clip(),t&&0<t.length)for(r=0;r<l.length;r++)l[r].renderStripLinesOfThicknessType('value');if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderStripLinesOfThicknessType('value');if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderStripLinesOfThicknessType('value');if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderStripLinesOfThicknessType('value');if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderInterlacedColors();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderInterlacedColors();if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderInterlacedColors();if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderInterlacedColors();if(o.restore(),t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderGrid(),Et&&(t[r].createMask(),t[r].renderBreaksBackground());if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderGrid(),Et&&(e[r].createMask(),e[r].renderBreaksBackground());if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderGrid(),Et&&(i[r].createMask(),i[r].renderBreaksBackground());if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderGrid(),Et&&(a[r].createMask(),a[r].renderBreaksBackground());if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderAxisLine();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderAxisLine();if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderAxisLine();if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderAxisLine();if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderStripLinesOfThicknessType('pixel');if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderStripLinesOfThicknessType('pixel');if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderStripLinesOfThicknessType('pixel');if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderStripLinesOfThicknessType('pixel')},_.prototype.calculateStripLinesThicknessInValues=function(){for(var t,e,i=0;i<this.stripLines.length;i++)null!==this.stripLines[i].startValue&&null!==this.stripLines[i].endValue&&(e=Math.min(this.stripLines[i].startValue,this.stripLines[i].endValue),t=Math.max(this.stripLines[i].startValue,this.stripLines[i].endValue),e=this.getApparentDifference(e,t),this.logarithmic?this.stripLines[i].value*=Math.sqrt(Math.log(this.stripLines[i].endValue/this.stripLines[i].startValue)/Math.log(e)):this.stripLines[i].value+=(Math.abs(this.stripLines[i].endValue-this.stripLines[i].startValue)-e)/2,this.stripLines[i].thickness=e,this.stripLines[i]._thicknessType='value')},_.prototype.calculateBreaksSizeInValues=function(){for(var t,e='left'===this._position||'right'===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,i=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],a=this.conversionParameters.pixelPerUnit||e/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),s=this.scaleBreaks&&!Nt(this.scaleBreaks.options.spacing),n=0;n<i.length;n++)t=s||!Nt(i[n].options.spacing),i[n].spacing=O(i[n].spacing,e,8,t?.1*e:8,t?0:3)<<0,i[n].size=i[n].spacing<0?0:Math.abs(i[n].spacing/a),this.logarithmic&&(i[n].size=Math.pow(this.logarithmBase,i[n].size))},_.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&this.scaleBreaks._appliedBreaks.length<=0)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var e=0;e<t.length&&!(t[e].startValue>this.conversionParameters.maximum);e++)t[e].endValue<this.conversionParameters.minimum||(Nt(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=e),t[e].startValue>=this.conversionParameters.minimum&&(t[e].startPixel=this.convertValueToPixel(t[e].startValue),this.scaleBreaks.lastBreakIndex=e),t[e].endValue<=this.conversionParameters.maximum&&(t[e].endPixel=this.convertValueToPixel(t[e].endValue)))}},_.prototype.renderLabelsTicksAndTitle=function(){var e=this,i=!1,t=0,a=0,s=1,n=0;this.conversionParameters.pixelPerUnit,R(this.interval,this.intervalType);if(0!==this.labelAngle&&360!==this.labelAngle&&(s=1.2),void 0===this.options.interval){if('bottom'===this._position||'top'===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var o,l=[],s=0!==this.labelAngle&&360!==this.labelAngle?1:1.2,r=this.viewportMaximum,h=this.lineCoordinates.width/Math.log(this.range),d=this._labels.length-1;0<=d&&!((c=this._labels[d]).position<this.viewportMinimum);d--)c.position>this.viewportMaximum||(d===this._labels.length-1||o<Math.log(r/c.position)*h/s)&&(l.push(c),r=c.position,o=c.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||(t+=c.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));t>this.lineCoordinates.width*s&&this.labelAutoFit&&(i=!0)}if('left'===this._position||'right'===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var x,l=[],r=this.viewportMaximum,h=this.lineCoordinates.height/Math.log(this.range),d=this._labels.length-1;0<=d&&!((c=this._labels[d]).position<this.viewportMinimum);d--)c.position>this.viewportMaximum||(d===this._labels.length-1||x<Math.log(r/c.position)*h)&&(l.push(c),r=c.position,x=c.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||(a+=c.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));a>this.lineCoordinates.height*s&&this.labelAutoFit&&(i=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(t,e){return t.position-e.position});var c,p,u,m,d=0;if('bottom'===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||(p=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&'inside'!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,u=this.ctx.lineWidth%2==1?.5+(p.x<<0):p.x<<0,this.ctx.beginPath(),this.ctx.moveTo(u,p.y<<0),this.ctx.lineTo(u,p.y+this.tickLength<<0),this.ctx.stroke()),0===c.textBlock.angle?(p.x-=c.textBlock.width/2,p.y='inside'===this.labelPlacement?p.y-(this.tickLength+c.textBlock.fontSize/2):p.y+this.tickLength+c.textBlock.fontSize/2):(p.x='inside'===this.labelPlacement?this.labelAngle<0?p.x:p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):p.x-(this.labelAngle<0?c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),p.y='inside'===this.labelPlacement?this.labelAngle<0?p.y-this.tickLength-5:p.y-this.tickLength-Math.abs((this.labelAngle,c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5)):p.y+this.tickLength+Math.abs(this.labelAngle<0?c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),c.textBlock.x=p.x,c.textBlock.y=p.y);'inside'===this.labelPlacement&&this.chart.addEventListener('dataAnimationIterationEnd',function(){for(d=0;d<e._labels.length;d++){var t;(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(p=e.getPixelCoordinatesOnAxis(c.position),e.tickThickness&&(e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor,t=e.ctx.lineWidth%2==1?.5+(p.x<<0):p.x<<0,e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(t,p.y<<0),e.ctx.lineTo(t,p.y-e.tickLength<<0),e.ctx.stroke(),e.ctx.restore()))}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if('top'===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||(p=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&'inside'!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,u=this.ctx.lineWidth%2==1?.5+(p.x<<0):p.x<<0,this.ctx.beginPath(),this.ctx.moveTo(u,p.y<<0),this.ctx.lineTo(u,p.y-this.tickLength<<0),this.ctx.stroke()),0===c.textBlock.angle?(p.x-=c.textBlock.width/2,p.y='inside'===this.labelPlacement?p.y+this.labelFontSize/2+this.tickLength+5:p.y-(this.tickLength+c.textBlock.height-c.textBlock.fontSize/2)):(p.x='inside'===this.labelPlacement?0<this.labelAngle?p.x:p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):p.x+(c.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),p.y='inside'===this.labelPlacement?0<this.labelAngle?p.y+this.tickLength+5:p.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:p.y-(this.tickLength+((c.textBlock.height-c.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),c.textBlock.x=p.x,c.textBlock.y=p.y);'inside'===this.labelPlacement&&this.chart.addEventListener('dataAnimationIterationEnd',function(){for(d=0;d<e._labels.length;d++){var t;(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(p=e.getPixelCoordinatesOnAxis(c.position),e.tickThickness&&(e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor,t=this.ctx.lineWidth%2==1?.5+(p.x<<0):p.x<<0,e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(t,p.y<<0),e.ctx.lineTo(t,p.y+e.tickLength<<0),e.ctx.stroke(),e.ctx.restore()))}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if('left'===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||(p=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&'inside'!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,m=this.ctx.lineWidth%2==1?.5+(p.y<<0):p.y<<0,this.ctx.beginPath(),this.ctx.moveTo(p.x<<0,m),this.ctx.lineTo(p.x-this.tickLength<<0,m),this.ctx.stroke()),0===this.labelAngle?(c.textBlock.y=p.y,c.textBlock.x='inside'===this.labelPlacement?p.x+this.tickLength+5:p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(c.textBlock.y='inside'===this.labelPlacement?p.y:p.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c.textBlock.x='inside'===this.labelPlacement?p.x+this.tickLength+5:0<this.labelAngle?p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));'inside'===this.labelPlacement&&this.chart.addEventListener('dataAnimationIterationEnd',function(){for(d=0;d<e._labels.length;d++){var t;(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(p=e.getPixelCoordinatesOnAxis(c.position),e.tickThickness&&(e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor,t=e.ctx.lineWidth%2==1?.5+(p.y<<0):p.y<<0,e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(p.x<<0,t),e.ctx.lineTo(p.x+e.tickLength<<0,t),e.ctx.stroke(),e.ctx.restore()))}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if('right'===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||(p=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&'inside'!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,m=this.ctx.lineWidth%2==1?.5+(p.y<<0):p.y<<0,this.ctx.beginPath(),this.ctx.moveTo(p.x<<0,m),this.ctx.lineTo(p.x+this.tickLength<<0,m),this.ctx.stroke()),0===this.labelAngle?(c.textBlock.y=p.y,c.textBlock.x='inside'===this.labelPlacement?p.x-c.textBlock.width-this.tickLength-5:p.x+this.tickLength+5):(c.textBlock.y='inside'===this.labelPlacement?p.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):this.labelAngle<0?p.y:p.y-(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),c.textBlock.x='inside'===this.labelPlacement?p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?p.x+(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:p.x+this.tickLength+5));'inside'===this.labelPlacement&&this.chart.addEventListener('dataAnimationIterationEnd',function(){for(d=0;d<e._labels.length;d++){var t;(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(p=e.getPixelCoordinatesOnAxis(c.position),e.tickThickness&&(e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor,t=e.ctx.lineWidth%2==1?.5+(p.y<<0):p.y<<0,e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(p.x<<0,t),e.ctx.lineTo(p.x-e.tickLength<<0,t),e.ctx.stroke(),e.ctx.restore()))}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(n=0,'inside'===this.labelPlacement)this.chart.addEventListener('dataAnimationIterationEnd',function(){for(d=0;d<e._labels.length;d++)(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(e.ctx.save(),e.ctx.beginPath(),c.textBlock.render(!0),e.ctx.restore())},this);else for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||c.textBlock.render(!0)},_.prototype.renderInterlacedColors=function(){var t,e,i=this.chart.plotArea.ctx,a=this.chart.plotArea,s=0,n=!0;if('bottom'!==this._position&&'top'!==this._position||!this.interlacedColor){if(('left'===this._position||'right'===this._position)&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,s=0;s<this._labels.length;s++)n=!n||(e=this.getPixelCoordinatesOnAxis(this._labels[s].position),t=s+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[s+1].position),i.fillRect(a.x1,Math.min(e.y,t.y),Math.abs(a.x1-a.x2),Math.abs(t.y-e.y)),!1)}else for(i.fillStyle=this.interlacedColor,s=0;s<this._labels.length;s++)n=!n||(t=this.getPixelCoordinatesOnAxis(this._labels[s].position),e=s+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[s+1].position),i.fillRect(Math.min(e.x,t.x),a.y1,Math.abs(e.x-t.x),Math.abs(a.y1-a.y2)),!1);i.beginPath()},_.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){for(var e=this,i=0,a=0,s=!1,n=!1,o=[],l=[],r=!1,i=0;i<this.stripLines.length;i++)(p=this.stripLines[i])._thicknessType!==t||'pixel'===t&&(p.value<this.viewportMinimum||p.value>this.viewportMaximum||Nt(p.value)||isNaN(this.range))||o.push(p);for(i=0;i<this._stripLineLabels.length;i++){var h,d,x,c,p=this.stripLines[i];(h=this._stripLineLabels[i]).position<this.viewportMinimum||h.position>this.viewportMaximum||isNaN(this.range)||(c=this.getPixelCoordinatesOnAxis(h.position),'outside'===h.stripLine.labelPlacement?(p&&(this.ctx.strokeStyle=p.color,'pixel'===p._thicknessType)&&(this.ctx.lineWidth=p.thickness),'bottom'===this._position?(d=this.ctx.lineWidth%2==1?.5+(c.x<<0):c.x<<0,this.ctx.beginPath(),this.ctx.moveTo(d,c.y<<0),this.ctx.lineTo(d,c.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(c.x-=h.textBlock.width/2,c.y+=this.tickLength+h.textBlock.fontSize/2):(c.x-=this.labelAngle<0?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,c.y+=this.tickLength+Math.abs(this.labelAngle<0?h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))):'top'===this._position?(d=this.ctx.lineWidth%2==1?.5+(c.x<<0):c.x<<0,this.ctx.beginPath(),this.ctx.moveTo(d,c.y<<0),this.ctx.lineTo(d,c.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(c.x-=h.textBlock.width/2,c.y-=this.tickLength+h.textBlock.height):(c.x+=(h.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),c.y-=this.tickLength+(h.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):'left'===this._position?(x=this.ctx.lineWidth%2==1?.5+(c.y<<0):c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,x),this.ctx.lineTo(c.x-this.tickLength<<0,x),this.ctx.stroke(),0===this.labelAngle?c.x=c.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(c.y=c.y-h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c.x=0<this.labelAngle?c.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:c.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):'right'===this._position&&(x=this.ctx.lineWidth%2==1?.5+(c.y<<0):c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,x),this.ctx.lineTo(c.x+this.tickLength<<0,x),this.ctx.stroke(),0===this.labelAngle?c.x=c.x+this.tickLength+5:(c.y=this.labelAngle<0?c.y:c.y-(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),c.x=0<this.labelAngle?c.x+(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:c.x+this.tickLength+5))):(h.textBlock.angle=-90,'bottom'===this._position?(h.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth||this.chart.plotArea.height-3,h.textBlock.measureText(),c.x-h.textBlock.height>this.chart.plotArea.x1?Nt(p.startValue)?c.x-=h.textBlock.height-h.textBlock.fontSize/2:c.x-=h.textBlock.height/2-h.textBlock.fontSize/2+3:(h.textBlock.angle=90,Nt(p.startValue)?c.x+=h.textBlock.height-h.textBlock.fontSize/2:c.x+=h.textBlock.height/2-h.textBlock.fontSize/2+3),-90===h.textBlock.angle?c.y='near'===h.stripLine.labelAlign?this.chart.plotArea.y2-3:'center'===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+h.textBlock.width)/2:this.chart.plotArea.y1+h.textBlock.width+3:c.y='near'===h.stripLine.labelAlign?this.chart.plotArea.y2-h.textBlock.width-3:'center'===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-h.textBlock.width)/2:this.chart.plotArea.y1+3):'top'===this._position?(h.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth||this.chart.plotArea.height-3,h.textBlock.measureText(),c.x-h.textBlock.height>this.chart.plotArea.x1?Nt(p.startValue)?c.x-=h.textBlock.height-h.textBlock.fontSize/2:c.x-=h.textBlock.height/2-h.textBlock.fontSize/2+3:(h.textBlock.angle=90,Nt(p.startValue)?c.x+=h.textBlock.height-h.textBlock.fontSize/2:c.x+=h.textBlock.height/2-h.textBlock.fontSize/2+3),-90===h.textBlock.angle?c.y='near'===h.stripLine.labelAlign?this.chart.plotArea.y1+h.textBlock.width+3:'center'===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+h.textBlock.width)/2:this.chart.plotArea.y2-3:c.y='near'===h.stripLine.labelAlign?this.chart.plotArea.y1+3:'center'===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-h.textBlock.width)/2:this.chart.plotArea.y2-h.textBlock.width-3):'left'===this._position?(h.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth||this.chart.plotArea.width-3,h.textBlock.angle=0,h.textBlock.measureText(),!(c.y-h.textBlock.height>this.chart.plotArea.y1)&&c.y-h.textBlock.height<this.chart.plotArea.y2?c.y+=h.textBlock.fontSize/2+3:Nt(p.startValue)?c.y-=h.textBlock.height-h.textBlock.fontSize/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize+3,c.x='near'===h.stripLine.labelAlign?this.chart.plotArea.x1+3:'center'===h.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-h.textBlock.width/2:this.chart.plotArea.x2-h.textBlock.width-3):'right'===this._position&&(h.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth||this.chart.plotArea.width-3,h.textBlock.angle=0,h.textBlock.measureText(),c.y-+h.textBlock.height>this.chart.plotArea.y1?Nt(p.startValue)?c.y-=h.textBlock.height-h.textBlock.fontSize/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize/2-3:c.y-h.textBlock.height<this.chart.plotArea.y2?c.y+=h.textBlock.fontSize/2+3:Nt(p.startValue)?c.y-=h.textBlock.height-h.textBlock.fontSize/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize/2+3,c.x='near'===h.stripLine.labelAlign?this.chart.plotArea.x2-h.textBlock.width-3:'center'===h.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-h.textBlock.width/2:this.chart.plotArea.x1+3)),h.textBlock.x=c.x,h.textBlock.y=c.y,l.push(h))}if(!r){for(n=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),i=0;i<o.length;i++)(p=o[i]).showOnTop?s||(s=!0,this.chart.addEventListener('dataAnimationIterationEnd',function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),a=0;a<o.length;a++)(p=o[a]).showOnTop&&p.render();this.ctx.restore()},p)):p.render();for(i=0;i<l.length;i++)(h=l[i]).stripLine.showOnTop?n||(n=!0,this.chart.addEventListener('dataAnimationIterationEnd',function(){for(a=0;a<l.length;a++)'inside'===(h=l[a]).stripLine.labelPlacement&&h.stripLine.showOnTop&&(e.ctx.save(),e.ctx.beginPath(),e.ctx.rect(e.chart.plotArea.x1,e.chart.plotArea.y1,e.chart.plotArea.width,e.chart.plotArea.height),e.ctx.clip(),h.textBlock.render(!0),e.ctx.restore())},h.textBlock)):'inside'===h.stripLine.labelPlacement&&h.textBlock.render(!0);this.ctx.restore(),r=!0}if(r)for(n=!1,i=0;i<l.length;i++)(h=l[i]).stripLine.showOnTop?n||(n=!0,this.chart.addEventListener('dataAnimationIterationEnd',function(){for(a=0;a<l.length;a++)'outside'===(h=l[a]).stripLine.labelPlacement&&h.stripLine.showOnTop&&h.textBlock.render(!0)},h.textBlock)):'outside'===h.stripLine.labelPlacement&&h.textBlock.render(!0)}},_.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},_.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;Et?(this.maskCanvas=M(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext('2d')):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var e=0;e<t.length;e++)t[e].endValue<this.viewportMinimum||t[e].startValue>this.viewportMaximum||isNaN(this.range)||t[e].render(this.maskCtx);this.maskCtx.restore()}},_.prototype.renderCrosshair=function(t,e){this.crosshair.render(t,e)},_.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t,e,i=this.chart.ctx,a=(i.save(),this.chart.plotArea);if(i.lineWidth=this.gridThickness,i.strokeStyle=this.gridColor,i.setLineDash&&i.setLineDash(Ut(this.gridDashType,this.gridThickness)),'bottom'===this._position||'top'===this._position)for(n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(i.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[n].position),e=i.lineWidth%2==1?.5+(t.x<<0):t.x<<0,i.moveTo(e,a.y1<<0),i.lineTo(e,a.y2<<0),i.stroke());else if('left'===this._position||'right'===this._position)for(var s,n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(i.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[n].position),s=i.lineWidth%2==1?.5+(t.y<<0):t.y<<0,i.moveTo(a.x1<<0,s),i.lineTo(a.x2<<0,s),i.stroke());i.restore()}},_.prototype.renderAxisLine=function(){var t,e,i=this.chart.ctx,a=Et?this.chart._preRenderCtx:i,s=Math.ceil(this.tickThickness/(this.reversed?-2:2)),n=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(a.save(),'bottom'===this._position||'top'===this._position){if(this.lineThickness){e=this.reversed?(t=this.lineCoordinates.x2,this.lineCoordinates.x1):(t=this.lineCoordinates.x1,this.lineCoordinates.x2),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor||'black',a.setLineDash&&a.setLineDash(Ut(this.lineDashType,this.lineThickness));var o=this.lineThickness%2==1?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(a.beginPath(),this.scaleBreaks&&!Nt(this.scaleBreaks.firstBreakIndex))if(Nt(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(var l=this.scaleBreaks.firstBreakIndex;l<=this.scaleBreaks.lastBreakIndex;l++)a.moveTo(t,o),a.lineTo(this.scaleBreaks._appliedBreaks[l].startPixel+s,o),t=this.scaleBreaks._appliedBreaks[l].endPixel+n;t&&(a.moveTo(t,o),a.lineTo(e,o)),a.stroke()}}else if(('left'===this._position||'right'===this._position)&&this.lineThickness){e=this.reversed?(t=this.lineCoordinates.y1,this.lineCoordinates.y2):(t=this.lineCoordinates.y2,this.lineCoordinates.y1),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor,a.setLineDash&&a.setLineDash(Ut(this.lineDashType,this.lineThickness));var r=this.lineThickness%2==1?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0;if(a.beginPath(),this.scaleBreaks&&!Nt(this.scaleBreaks.firstBreakIndex))if(Nt(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+s;else for(l=this.scaleBreaks.firstBreakIndex;l<=this.scaleBreaks.lastBreakIndex;l++)a.moveTo(r,t),a.lineTo(r,this.scaleBreaks._appliedBreaks[l].startPixel+n),t=this.scaleBreaks._appliedBreaks[l].endPixel+s;t&&(a.moveTo(r,t),a.lineTo(r,e)),a.stroke()}Et&&(i.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),a.clearRect(0,0,this.chart.width,this.chart.height)),a.restore()},_.prototype.getPixelCoordinatesOnAxis=function(t){var e={};return'bottom'!==this._position&&'top'!==this._position||(this.conversionParameters.pixelPerUnit,e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1),'left'!==this._position&&'right'!==this._position||(this.conversionParameters.pixelPerUnit,e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2),e},_.prototype.convertPixelToValue=function(t){if(void 0===t)return null;var e,i,a=0,s=0,n=!0,o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],s='number'==typeof t?t:'left'===this._position||'right'===this._position?t.y:t.x;if(this.logarithmic){if(l=i=Math.pow(this.logarithmBase,(s-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),s<=this.conversionParameters.reference==('left'===this._position||'right'===this._position)!==this.reversed){for(e=0;e<o.length;e++)if(!(o[e].endValue<this.conversionParameters.minimum))if(n){if(o[e].startValue<this.conversionParameters.minimum){if(1<o[e].size&&this.conversionParameters.minimum*Math.pow(o[e].endValue/o[e].startValue,Math.log(i)/Math.log(o[e].size))<o[e].endValue){l=Math.pow(o[e].endValue/o[e].startValue,Math.log(i)/Math.log(o[e].size));break}l*=o[e].endValue/this.conversionParameters.minimum/Math.pow(o[e].size,Math.log(o[e].endValue/this.conversionParameters.minimum)/Math.log(o[e].endValue/o[e].startValue)),i/=Math.pow(o[e].size,Math.log(o[e].endValue/this.conversionParameters.minimum)/Math.log(o[e].endValue/o[e].startValue))}else{if(!(i>o[e].startValue/this.conversionParameters.minimum))break;if((i/=o[e].startValue/this.conversionParameters.minimum)<o[e].size){l*=Math.pow(o[e].endValue/o[e].startValue,1===o[e].size?1:Math.log(i)/Math.log(o[e].size))/i;break}l*=o[e].endValue/o[e].startValue/o[e].size,i/=o[e].size}n=!1}else{if(!(i>o[e].startValue/o[e-1].endValue))break;if((i/=o[e].startValue/o[e-1].endValue)<o[e].size){l*=Math.pow(o[e].endValue/o[e].startValue,1===o[e].size?1:Math.log(i)/Math.log(o[e].size))/i;break}l*=o[e].endValue/o[e].startValue/o[e].size,i/=o[e].size}}else for(e=o.length-1;0<=e;e--)if(!(o[e].startValue>this.conversionParameters.minimum))if(n){if(o[e].endValue>this.conversionParameters.minimum){if(1<o[e].size&&this.conversionParameters.minimum*Math.pow(o[e].endValue/o[e].startValue,Math.log(i)/Math.log(o[e].size))>o[e].startValue){l=Math.pow(o[e].endValue/o[e].startValue,Math.log(i)/Math.log(o[e].size));break}l*=o[e].startValue/this.conversionParameters.minimum*Math.pow(o[e].size,Math.log(o[e].startValue/this.conversionParameters.minimum)/Math.log(o[e].endValue/o[e].startValue))*i,i*=Math.pow(o[e].size,Math.log(this.conversionParameters.minimum/o[e].startValue)/Math.log(o[e].endValue/o[e].startValue))}else{if(!(i<o[e].endValue/this.conversionParameters.minimum))break;if((i/=o[e].endValue/this.conversionParameters.minimum)>1/o[e].size){l*=Math.pow(o[e].endValue/o[e].startValue,o[e].size<=1?1:Math.log(i)/Math.log(o[e].size))*i;break}l/=o[e].endValue/o[e].startValue/o[e].size,i*=o[e].size}n=!1}else{if(!(i<o[e].endValue/o[e+1].startValue))break;if((i/=o[e].endValue/o[e+1].startValue)>1/o[e].size){l*=Math.pow(o[e].endValue/o[e].startValue,o[e].size<=1?1:Math.log(i)/Math.log(o[e].size))*i;break}l/=o[e].endValue/o[e].startValue/o[e].size,i*=o[e].size}a=l*this.viewportMinimum}else{var l=i=(s-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit;if(s<=this.conversionParameters.reference==('left'===this._position||'right'===this._position)!==this.reversed){for(e=0;e<o.length;e++)if(!(o[e].endValue<this.conversionParameters.minimum))if(n){if(o[e].startValue<this.conversionParameters.minimum){if(o[e].size&&this.conversionParameters.minimum+i*(o[e].endValue-o[e].startValue)/o[e].size<o[e].endValue){l=o[e].size<=0?0:i*(o[e].endValue-o[e].startValue)/o[e].size;break}l+=o[e].endValue-this.conversionParameters.minimum-o[e].size*(o[e].endValue-this.conversionParameters.minimum)/(o[e].endValue-o[e].startValue),i-=o[e].size*(o[e].endValue-this.conversionParameters.minimum)/(o[e].endValue-o[e].startValue)}else{if(!(i>o[e].startValue-this.conversionParameters.minimum))break;if((i-=o[e].startValue-this.conversionParameters.minimum)<o[e].size){l+=(o[e].endValue-o[e].startValue)*(0===o[e].size?1:i/o[e].size)-i;break}l+=o[e].endValue-o[e].startValue-o[e].size,i-=o[e].size}n=!1}else{if(!(i>o[e].startValue-o[e-1].endValue))break;if((i-=o[e].startValue-o[e-1].endValue)<o[e].size){l+=(o[e].endValue-o[e].startValue)*(0===o[e].size?1:i/o[e].size)-i;break}l+=o[e].endValue-o[e].startValue-o[e].size,i-=o[e].size}}else for(e=o.length-1;0<=e;e--)if(!(o[e].startValue>this.conversionParameters.minimum))if(n){if(o[e].endValue>this.conversionParameters.minimum){if(o[e].size&&this.conversionParameters.minimum+i*(o[e].endValue-o[e].startValue)/o[e].size>o[e].startValue){l=o[e].size<=0?0:i*(o[e].endValue-o[e].startValue)/o[e].size;break}l+=o[e].startValue-this.conversionParameters.minimum+o[e].size*(this.conversionParameters.minimum-o[e].startValue)/(o[e].endValue-o[e].startValue),i+=o[e].size*(this.conversionParameters.minimum-o[e].startValue)/(o[e].endValue-o[e].startValue)}else{if(!(i<o[e].endValue-this.conversionParameters.minimum))break;if((i-=o[e].endValue-this.conversionParameters.minimum)>-1*o[e].size){l+=(o[e].endValue-o[e].startValue)*(0===o[e].size?1:i/o[e].size)+i;break}l-=o[e].endValue-o[e].startValue-o[e].size,i+=o[e].size}n=!1}else{if(!(i<o[e].endValue-o[e+1].startValue))break;if((i-=o[e].endValue-o[e+1].startValue)>-1*o[e].size){l+=(o[e].endValue-o[e].startValue)*(0===o[e].size?1:i/o[e].size)+i;break}l-=o[e].endValue-o[e].startValue-o[e].size,i+=o[e].size}a=this.conversionParameters.minimum+l}return a},_.prototype.convertValueToPixel=function(t){t=this.getApparentDifference(this.conversionParameters.minimum,t,t),t=this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:'axisX'===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5;return t},_.prototype.getApparentDifference=function(t,e,i,a){var s=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic)for(var n=Nt(i)?e/t:i,o=0;o<s.length&&!(e<s[o].startValue);o++)t>s[o].endValue||(t<=s[o].startValue&&e>=s[o].endValue?n=n/s[o].endValue*s[o].startValue*s[o].size:t>=s[o].startValue&&e>=s[o].endValue?n=n/s[o].endValue*t*Math.pow(s[o].size,Math.log(s[o].endValue/t)/Math.log(s[o].endValue/s[o].startValue)):t<=s[o].startValue&&e<=s[o].endValue?n=n/e*s[o].startValue*Math.pow(s[o].size,Math.log(e/s[o].startValue)/Math.log(s[o].endValue/s[o].startValue)):!a&&t>s[o].startValue&&e<s[o].endValue&&(n=t*Math.pow(s[o].size,Math.log(e/t)/Math.log(s[o].endValue/s[o].startValue))));else for(n=Nt(i)?Math.abs(e-t):i,o=0;o<s.length&&!(e<s[o].startValue);o++)t>s[o].endValue||(t<=s[o].startValue&&e>=s[o].endValue?n=n-s[o].endValue+s[o].startValue+s[o].size:t>s[o].startValue&&e>=s[o].endValue?n=n-s[o].endValue+t+s[o].size*(s[o].endValue-t)/(s[o].endValue-s[o].startValue):t<=s[o].startValue&&e<s[o].endValue?n=n-e+s[o].startValue+s[o].size*(e-s[o].startValue)/(s[o].endValue-s[o].startValue):!a&&t>s[o].startValue&&e<s[o].endValue&&(n=t+s[o].size*(e-t)/(s[o].endValue-s[o].startValue)));return n},_.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},_.prototype.getXValueAt=function(t){var e;return t?(e=null,'left'===this._position?e=this.convertPixelToValue(t.y):'bottom'===this._position&&(e=this.convertPixelToValue(t.x)),e):null},_.prototype.calculateValueToPixelConversionParameters=function(t){var e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i={pixelPerUnit:null,minimum:null,reference:null},a=this.lineCoordinates.width,s=this.lineCoordinates.height,n='bottom'===this._position||'top'===this._position?a:s,o=Math.abs(this.range);if(this.logarithmic)for(var l=0;l<e.length&&!(this.viewportMaximum<e[l].startValue);l++)this.viewportMinimum>e[l].endValue||(this.viewportMinimum>=e[l].startValue&&this.viewportMaximum<=e[l].endValue?n=0:this.viewportMinimum<=e[l].startValue&&this.viewportMaximum>=e[l].endValue?(o=o/e[l].endValue*e[l].startValue,0<e[l].spacing.toString().indexOf('%')?n*=1-parseFloat(e[l].spacing)/100:n-=Math.min(e[l].spacing,.1*n)):this.viewportMinimum>e[l].startValue&&this.viewportMaximum>=e[l].endValue?(o=o/e[l].endValue*this.viewportMinimum,0<e[l].spacing.toString().indexOf('%')?n*=1-parseFloat(e[l].spacing)/100*Math.log(e[l].endValue/this.viewportMinimum)/Math.log(e[l].endValue/e[l].startValue):n-=Math.min(e[l].spacing,.1*n)*Math.log(e[l].endValue/this.viewportMinimum)/Math.log(e[l].endValue/e[l].startValue)):this.viewportMinimum<=e[l].startValue&&this.viewportMaximum<e[l].endValue&&(o=o/this.viewportMaximum*e[l].startValue,0<e[l].spacing.toString().indexOf('%')?n*=1-parseFloat(e[l].spacing)/100*Math.log(this.viewportMaximum/e[l].startValue)/Math.log(e[l].endValue/e[l].startValue):n-=Math.min(e[l].spacing,.1*n)*Math.log(this.viewportMaximum/e[l].startValue)/Math.log(e[l].endValue/e[l].startValue)));else for(l=0;l<e.length&&!(this.viewportMaximum<e[l].startValue);l++)this.viewportMinimum>e[l].endValue||(this.viewportMinimum>=e[l].startValue&&this.viewportMaximum<=e[l].endValue?n=0:this.viewportMinimum<=e[l].startValue&&this.viewportMaximum>=e[l].endValue?(o=o-e[l].endValue+e[l].startValue,0<e[l].spacing.toString().indexOf('%')?n*=1-parseFloat(e[l].spacing)/100:n-=Math.min(e[l].spacing,.1*n)):this.viewportMinimum>e[l].startValue&&this.viewportMaximum>=e[l].endValue?(o=o-e[l].endValue+this.viewportMinimum,0<e[l].spacing.toString().indexOf('%')?n*=1-parseFloat(e[l].spacing)/100*(e[l].endValue-this.viewportMinimum)/(e[l].endValue-e[l].startValue):n-=Math.min(e[l].spacing,.1*n)*(e[l].endValue-this.viewportMinimum)/(e[l].endValue-e[l].startValue)):this.viewportMinimum<=e[l].startValue&&this.viewportMaximum<e[l].endValue&&(o=o-this.viewportMaximum+e[l].startValue,0<e[l].spacing.toString().indexOf('%')?n*=1-parseFloat(e[l].spacing)/100*(this.viewportMaximum-e[l].startValue)/(e[l].endValue-e[l].startValue):n-=Math.min(e[l].spacing,.1*n)*(this.viewportMaximum-e[l].startValue)/(e[l].endValue-e[l].startValue)));i.minimum=this.viewportMinimum,i.maximum=this.viewportMaximum,i.range=o,'bottom'!==this._position&&'top'!==this._position||(this.logarithmic?(i.lnLogarithmBase=Math.log(this.logarithmBase),i.pixelPerUnit=(this.reversed?-1:1)*n*i.lnLogarithmBase/Math.log(Math.abs(o))):i.pixelPerUnit=(this.reversed?-1:1)*n/Math.abs(o),i.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),'left'!==this._position&&'right'!==this._position||(this.logarithmic?(i.lnLogarithmBase=Math.log(this.logarithmBase),i.pixelPerUnit=(this.reversed?1:-1)*n*i.lnLogarithmBase/Math.log(Math.abs(o))):i.pixelPerUnit=(this.reversed?1:-1)*n/Math.abs(o),i.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=i},_.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var t,e,i,a,s=this.chart.layoutManager.getFreeSpace(),n=!1,o=!1,s=('bottom'===this._position||'top'===this._position?(this.maxWidth=s.width,this.maxHeight=s.height):(this.maxWidth=s.height,this.maxHeight=s.width),'axisX'===this.type?'xySwapped'===this.chart.plotInfo.axisPlacement?62:70:'xySwapped'===this.chart.plotInfo.axisPlacement?50:40),l=4,l=('axisX'===this.type&&(l=this.maxWidth<600?8:6),Math.max(l,Math.floor(this.maxWidth/s))),s=0;if(!Nt(this.options.viewportMinimum)&&!Nt(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!Nt(this.options.viewportMinimum)||Nt(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!Nt(this.options.viewportMaximum)||Nt(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(var r=0;r<this.scaleBreaks._appliedBreaks.length;r++)if((!Nt(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue||!Nt(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[r].startValue||!Nt(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue)&&(!Nt(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue||!Nt(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[r].endValue||!Nt(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue)){this.scaleBreaks._appliedBreaks.splice(r,1);break}if('axisX'===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(var h=0;h<this.dataSeries.length;h++)'dateTime'===this.dataSeries[h].xValueType&&(o=!0);t=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,(e=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-t==0&&(e+=s=void 0===this.options.interval?.4:this.options.interval,t-=s),this.dataInfo.minDiff!==1/0?i=this.dataInfo.minDiff:1<e-t?i=.5*Math.abs(e-t):(i=1,o&&(n=!0))}else'axisY'===this.type&&(t=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,e=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(t)||isFinite(e)?isFinite(t)?isFinite(e)||(e=t):t=e:(e=void 0===this.options.interval?-1/0:this.options.interval,t=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===t&&0===e?(e+=9,t=0):e-t==0?(e+=s=Math.min(Math.abs(.01*Math.abs(e)),5),t-=s):e<t?(s=Math.min(.01*Math.abs(this.getApparentDifference(e,t,null,!0)),5),0<=e?t=e-s:e=isFinite(t)?t+s:0):(s=Math.min(.01*Math.abs(this.getApparentDifference(t,e,null,!0)),.05),0!==e&&(e+=s),0!==t&&(t-=s)),i=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<e-t?.5*Math.abs(e-t):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<t&&(t=0),this.includeZero)&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&e<0&&(e=0);a=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?t:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?e:this.viewportMaximum,null,!0),'axisX'===this.type&&o?(this.intervalType||(+a<=l?(this.interval=1,this.intervalType='millisecond'):a/2<=l?(this.interval=2,this.intervalType='millisecond'):a/5<=l?(this.interval=5,this.intervalType='millisecond'):a/10<=l?(this.interval=10,this.intervalType='millisecond'):a/20<=l?(this.interval=20,this.intervalType='millisecond'):a/50<=l?(this.interval=50,this.intervalType='millisecond'):a/100<=l?(this.interval=100,this.intervalType='millisecond'):a/200<=l?(this.interval=200,this.intervalType='millisecond'):a/250<=l?(this.interval=250,this.intervalType='millisecond'):a/300<=l?(this.interval=300,this.intervalType='millisecond'):a/400<=l?(this.interval=400,this.intervalType='millisecond'):a/500<=l?(this.interval=500,this.intervalType='millisecond'):a/+u.secondDuration<=l?(this.interval=1,this.intervalType='second'):a/(2*u.secondDuration)<=l?(this.interval=2,this.intervalType='second'):a/(5*u.secondDuration)<=l?(this.interval=5,this.intervalType='second'):a/(10*u.secondDuration)<=l?(this.interval=10,this.intervalType='second'):a/(15*u.secondDuration)<=l?(this.interval=15,this.intervalType='second'):a/(20*u.secondDuration)<=l?(this.interval=20,this.intervalType='second'):a/(30*u.secondDuration)<=l?(this.interval=30,this.intervalType='second'):a/+u.minuteDuration<=l?(this.interval=1,this.intervalType='minute'):a/(2*u.minuteDuration)<=l?(this.interval=2,this.intervalType='minute'):a/(5*u.minuteDuration)<=l?(this.interval=5,this.intervalType='minute'):a/(10*u.minuteDuration)<=l?(this.interval=10,this.intervalType='minute'):a/(15*u.minuteDuration)<=l?(this.interval=15,this.intervalType='minute'):a/(20*u.minuteDuration)<=l?(this.interval=20,this.intervalType='minute'):a/(30*u.minuteDuration)<=l?(this.interval=30,this.intervalType='minute'):a/+u.hourDuration<=l?(this.interval=1,this.intervalType='hour'):a/(2*u.hourDuration)<=l?(this.interval=2,this.intervalType='hour'):a/(3*u.hourDuration)<=l?(this.interval=3,this.intervalType='hour'):a/(6*u.hourDuration)<=l?(this.interval=6,this.intervalType='hour'):a/+u.dayDuration<=l?(this.interval=1,this.intervalType='day'):a/(2*u.dayDuration)<=l?(this.interval=2,this.intervalType='day'):a/(4*u.dayDuration)<=l?(this.interval=4,this.intervalType='day'):a/+u.weekDuration<=l?(this.interval=1,this.intervalType='week'):a/(2*u.weekDuration)<=l?(this.interval=2,this.intervalType='week'):a/(3*u.weekDuration)<=l?(this.interval=3,this.intervalType='week'):a/+u.monthDuration<=l?(this.interval=1,this.intervalType='month'):a/(2*u.monthDuration)<=l?(this.interval=2,this.intervalType='month'):a/(3*u.monthDuration)<=l?(this.interval=3,this.intervalType='month'):a/(6*u.monthDuration)<=l?(this.interval=6,this.intervalType='month'):(this.interval=a/+u.yearDuration<=l?1:a/(2*u.yearDuration)<=l?2:a/(4*u.yearDuration)<=l?4:Math.floor(_.getNiceNumber(a/(l-1),!0)/u.yearDuration),this.intervalType='year')),null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||(this.viewportMinimum=t-i/2),null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||(this.viewportMaximum=e+i/2),n?this.autoValueFormatString='MMM DD YYYY HH:mm':'year'===this.intervalType?this.autoValueFormatString='YYYY':'month'===this.intervalType?this.autoValueFormatString='MMM YYYY':'week'===this.intervalType||'day'===this.intervalType?this.autoValueFormatString='MMM DD YYYY':'hour'===this.intervalType||'minute'===this.intervalType?this.autoValueFormatString='hh:mm TT':'second'===this.intervalType?this.autoValueFormatString='hh:mm:ss TT':'millisecond'===this.intervalType&&(this.autoValueFormatString='fff\'ms\''),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType='number',a=_.getNiceNumber(a,!1),this.options&&0<this.options.interval?this.interval=this.options.interval:this.interval=_.getNiceNumber(a/(l-1),!0),null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||('axisX'===this.type?this.viewportMinimum=t-i/2:this.viewportMinimum=Math.floor(t/this.interval)*this.interval),null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||('axisX'===this.type?this.viewportMaximum=e+i/2:this.viewportMaximum=Math.ceil(e/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options)&&void 0===this.options.interval&&(this.interval=_.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(l-1),!0))),null!==this.minimum&&null!==this.maximum||('axisX'===this.type?(t=null!==this.minimum?this.minimum:this.dataInfo.min,(e=null!==this.maximum?this.maximum:this.dataInfo.max)-t==0&&(e+=s=void 0===this.options.interval?.4:this.options.interval,t-=s),i=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<e-t?.5*Math.abs(e-t):1):'axisY'===this.type&&(t=null!==this.minimum?this.minimum:this.dataInfo.min,e=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(t)||isFinite(e)?0===t&&0===e?(e+=9,t=0):e-t==0?(e+=s=Math.min(Math.abs(.01*Math.abs(e)),5),t-=s):e<t?(s=Math.min(.01*Math.abs(this.getApparentDifference(e,t,null,!0)),5),0<=e?t=e-s:e=isFinite(t)?t+s:0):(s=Math.min(.01*Math.abs(this.getApparentDifference(t,e,null,!0)),.05),0!==e&&(e+=s),0!==t&&(t-=s)):(e=void 0===this.options.interval?-1/0:this.options.interval,t=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),i=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<e-t?.5*Math.abs(e-t):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<t&&(t=0),this.includeZero)&&(null===this.maximum||isNaN(this.maximum))&&e<0&&(e=0),a=Math.abs(this.getApparentDifference(t,e,null,!0)),'axisX'===this.type&&o?(this.valueType='dateTime',null!==this.minimum&&!isNaN(this.minimum)||(this.minimum=t-i/2),null!==this.maximum&&!isNaN(this.maximum)||(this.maximum=e+i/2)):(this.intervalType=this.valueType='number',null===this.minimum&&('axisX'===this.type?this.minimum=t-i/2:this.minimum=Math.floor(t/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&('axisX'===this.type?this.maximum=e+i/2:this.maximum=Math.ceil(e/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),Nt(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),Nt(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,'axisX'===this.type&&o?this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):this.intervalStartPosition=Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=_.generateValueFormatString(this.range,2))}},_.prototype.calculateLogarithmicAxisParameters=function(){var t,e,i,a,s=this.chart.layoutManager.getFreeSpace(),n=Math.log(this.logarithmBase),s=('bottom'===this._position||'top'===this._position?(this.maxWidth=s.width,this.maxHeight=s.height):(this.maxWidth=s.height,this.maxHeight=s.width),'axisX'===this.type?this.maxWidth<500?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3)),o=1;if(null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||(this.viewportMinimum=this.minimum),null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||(this.viewportMaximum=this.maximum),this.scaleBreaks)for(var l=0;l<this.scaleBreaks._appliedBreaks.length;l++)if((!Nt(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue||!Nt(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[l].startValue||!Nt(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue)&&(!Nt(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue||!Nt(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[l].endValue||!Nt(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue)){this.scaleBreaks._appliedBreaks.splice(l,1);break}'axisX'===this.type?(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,(i=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/e==1&&(i*=o=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=o),a=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:i/e>this.logarithmBase?i/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):'axisY'===this.type&&(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,i=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,e<=0&&!isFinite(i)?(i=void 0===this.options.interval?0:this.options.interval,e=1):e<=0?e=i:isFinite(i)||(i=e),1===e&&1===i?(i*=this.logarithmBase-1/this.logarithmBase,e=1):i/e==1?(i*=o=Math.min(i*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),e/=o):i<e?(o=Math.min(e/i*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=i?e=i/o:i=e*o):(o=Math.min(i/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==i&&(i*=o),1!==e&&(e/=o)),a=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:i/e>this.logarithmBase?i/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<e&&(e=1),this.includeZero)&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&i<1&&(i=1);var r=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?i:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum),h=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?i:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum),h=(this.intervalType='number',r=Math.pow(this.logarithmBase,_.getNiceNumber(Math.abs(Math.log(r)/n),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=_.getNiceExponent(Math.log(r)/n/(s-1),!0),t=_.getNiceNumber(h/(s-1),!0)),null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||('axisX'===this.type?this.viewportMinimum=e/Math.sqrt(a):this.viewportMinimum=Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/n/this.interval))),null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||('axisX'===this.type?this.viewportMaximum=i*Math.sqrt(a):this.viewportMaximum=Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(i)/n/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options)&&void 0===this.options.interval&&(this.interval=_.getNiceExponent(Math.ceil(Math.log(r)/n)/(s-1)),t=_.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(s-1),!0)),null!==this.minimum&&null!==this.maximum||('axisX'===this.type?(e=null!==this.minimum?this.minimum:this.dataInfo.min,(i=null!==this.maximum?this.maximum:this.dataInfo.max)/e==1&&(i*=o=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=o),a=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:i/e>this.logarithmBase?i/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):'axisY'===this.type&&(e=null!==this.minimum?this.minimum:this.dataInfo.min,i=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(i)?1===e&&1===i?(i*=this.logarithmBase,e/=this.logarithmBase):i/e==1?(i*=o=Math.pow(this.logarithmBase,this.interval),e/=o):i<e?(o=Math.min(e/i*.01,5),1<=i?e=i/o:i=e*o):(o=Math.min(i/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==i&&(i*=o),1!==e&&(e/=o)):(i=void 0===this.options.interval?0:this.options.interval,e=1),a=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:i/e>this.logarithmBase?i/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<e&&(e=1),this.includeZero)&&(null===this.maximum||isNaN(this.maximum))&&i<1&&(i=1),this.intervalType='number',null===this.minimum&&('axisX'===this.type?this.minimum=e/Math.sqrt(a):this.minimum=Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/n/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&('axisX'===this.type?this.maximum=i*Math.sqrt(a):this.maximum=Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(i)/n/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(n*this.interval)+.2)*this.interval));if(this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=s,!this.options.interval&&this.range<Math.pow(this.logarithmBase,this.viewportMaximum<8||s<3?2:3)){for(var d=Math.floor(this.viewportMinimum/t+.5)*t;d<this.viewportMinimum;)d+=t;this.equidistantInterval=!1,this.intervalStartPosition=d,this.interval=t}else this.options.interval||(r=Math.ceil(this.interval),this.range>this.interval&&(this.interval=r,h=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(n*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=h;if(!this.valueFormatString&&(this.valueFormatString='#,##0.##',this.viewportMinimum<1)){var x=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2;if(2<(x=!isNaN(x)&&isFinite(x)?x:2))for(l=0;l<x-2;l++)this.valueFormatString+='#'}},_.generateValueFormatString=function(t,e){var i='#,##0.',a=e;t<1&&(a+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),!isNaN(a)&&isFinite(a)||(a=e));for(var s=0;s<a;s++)i+='#';return i},_.getNiceExponent=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),t=t/Math.pow(10,i),t=i<0?t<=1?1:t<=5?5:10:Math.max(Math.floor(t),1);return i<-20?Number(t*Math.pow(10,i)):Number((t*Math.pow(10,i)).toFixed(20))},_.getNiceNumber=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),t=t/Math.pow(10,i),e=e?t<1.5?1:t<3?2:t<7?5:10:t<=1?1:t<=2?2:t<=5?5:10;return i<-20?Number(e*Math.pow(10,i)):Number((e*Math.pow(10,i)).toFixed(20))},_.prototype.getLabelStartPoint=function(){var t=R(this.interval,this.intervalType),t=Math.floor(this.viewportMinimum/t)*t,t=new Date(t);return'millisecond'!==this.intervalType&&('second'===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):'minute'===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):'hour'===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):'day'===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):'week'===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):'month'===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):'year'===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},b(h,C),b(G,C),G.prototype.createUserOptions=function(t){var e;void 0===t&&!this.options._isPlaceholder||(e=0,this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(Ht(this.parent[this.optionsName]),e=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options[this.optionsName][e]=this.options)},G.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var e,i,a,s,n=this.ctx,o=this.ctx.globalAlpha,t=(this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue)),l=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue),r=(this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,H(this.id),Math.max(this.spacing,3)),h=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=h,this.ctx.setLineDash&&this.ctx.setLineDash(Ut(this.lineDashType,h)),'bottom'===this.scaleBreaks.parent._position||'top'===this.scaleBreaks.parent._position){if(e=h%2==1?.5+(t.x<<0):t.x<<0,i=h%2==1?.5+(l.x<<0):l.x<<0,'top'===this.scaleBreaks.parent._position?(a=this.chart.plotArea.y1,s=this.chart.plotArea.y2+h/2+.5<<0):(a=this.chart.plotArea.y2,s=this.chart.plotArea.y1-h/2+.5<<0,r*=-1),this.bounds={x1:e-h/2,y1:a,x2:i+h/2,y2:s},this.ctx.moveTo(e,a),'straight'===this.type||'top'===this.scaleBreaks.parent._position&&r<=0||'bottom'===this.scaleBreaks.parent._position&&0<=r)this.ctx.lineTo(e,s),this.ctx.lineTo(i,s),this.ctx.lineTo(i,a);else if('wavy'===this.type){for(var d,x=e,c=.5,p=(s-(d=a))/r/3,u=0;u<p;u++)this.ctx.bezierCurveTo(x+c*r,d+r,x+c*r,d+2*r,x,d+3*r),d+=3*r,c*=-1;this.ctx.bezierCurveTo(x+c*r,d+r,x+c*r,d+2*r,x,d+3*r),x=i,c*=-1,this.ctx.lineTo(x,d);for(u=0;u<p;u++)this.ctx.bezierCurveTo(x+c*r,d-r,x+c*r,d-2*r,x,d-3*r),d-=3*r,c*=-1}else if('zigzag'===this.type){c=-1,x=e+r,p=(s-(d=a+r))/r/2;for(u=0;u<p;u++)this.ctx.lineTo(x,d),x+=2*c*r,d+=2*r,c*=-1;this.ctx.lineTo(x,d),x+=i-e;for(u=0;u<p+1;u++)this.ctx.lineTo(x,d),x+=2*c*r,d-=2*r,c*=-1;this.ctx.lineTo(x+c*r,d+r)}}else if('left'===this.scaleBreaks.parent._position||'right'===this.scaleBreaks.parent._position)if(a=h%2==1?.5+(l.y<<0):l.y<<0,s=h%2==1?.5+(t.y<<0):t.y<<0,'left'===this.scaleBreaks.parent._position?(e=this.chart.plotArea.x1,i=this.chart.plotArea.x2+h/2+.5<<0):(e=this.chart.plotArea.x2,i=this.chart.plotArea.x1-h/2+.5<<0,r*=-1),this.bounds={x1:e,y1:a-h/2,x2:i,y2:s+h/2},this.ctx.moveTo(e,a),'straight'===this.type||'left'===this.scaleBreaks.parent._position&&r<=0||'right'===this.scaleBreaks.parent._position&&0<=r)this.ctx.lineTo(i,a),this.ctx.lineTo(i,s),this.ctx.lineTo(e,s);else if('wavy'===this.type){d=a,c=.5,p=(i-(x=e))/r/3;for(u=0;u<p;u++)this.ctx.bezierCurveTo(x+r,d+c*r,x+2*r,d+c*r,x+3*r,d),x+=3*r,c*=-1;this.ctx.bezierCurveTo(x+r,d+c*r,x+2*r,d+c*r,x+3*r,d),d=s,c*=-1,this.ctx.lineTo(x,d);for(u=0;u<p;u++)this.ctx.bezierCurveTo(x-r,d+c*r,x-2*r,d+c*r,x-3*r,d),x-=3*r,c*=-1}else if('zigzag'===this.type){c=1,d=a-r,p=(i-(x=e+r))/r/2;for(u=0;u<p;u++)this.ctx.lineTo(x,d),d+=2*c*r,x+=2*r,c*=-1;this.ctx.lineTo(x,d),d+=s-a;for(u=0;u<p+1;u++)this.ctx.lineTo(x,d),d+=2*c*r,x-=2*r,c*=-1;this.ctx.lineTo(x+r,d+c*r)}0<h&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation='destination-over',this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=o,this.ctx=n}},b(d,C),d.prototype.createUserOptions=function(t){var e;void 0===t&&!this.options._isPlaceholder||(e=0,this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(Ht(this.parent.stripLines),e=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options.stripLines[e]=this.options)},d.prototype.render=function(){this.ctx.save();var t,e,i,a,s,n,o=this.parent.getPixelCoordinatesOnAxis(this.value),l=Math.abs('pixel'===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);0<l&&(t=null===this.opacity?1:this.opacity,this.ctx.strokeStyle=this.color,this.ctx.beginPath(),e=this.ctx.globalAlpha,this.ctx.globalAlpha=t,H(this.id),this.ctx.lineWidth=l,this.ctx.setLineDash&&this.ctx.setLineDash(Ut(this.lineDashType,l)),'bottom'===this.parent._position||'top'===this.parent._position?(a=i=this.ctx.lineWidth%2==1?.5+(o.x<<0):o.x<<0,s=this.chart.plotArea.y1,n=this.chart.plotArea.y2,this.bounds={x1:a-l/2,y1:s,x2:i+l/2,y2:n}):'left'!==this.parent._position&&'right'!==this.parent._position||(s=n=this.ctx.lineWidth%2==1?.5+(o.y<<0):o.y<<0,a=this.chart.plotArea.x1,i=this.chart.plotArea.x2,this.bounds={x1:a,y1:s-l/2,x2:i,y2:n+l/2}),this.ctx.moveTo(a,s),this.ctx.lineTo(i,n),this.ctx.stroke(),this.ctx.globalAlpha=e),this.ctx.restore()},b(x,C),x.prototype.render=function(t,e){var i,a=null,s=null,n=null,o=(this.valueFormatString||('dateTime'===this.parent.valueType?this.valueFormatString=this.parent.valueFormatString:(o=0,o='xySwapped'===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&this.parent.range<25?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(this.parent.range<5?2:this.parent.range<10?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(this.parent.range<5?2:this.parent.range<10?1:0),this.valueFormatString=_.generateValueFormatString(this.parent.range,o))),null===this.opacity?1:this.opacity),l=Math.abs('pixel'===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),r=this.chart.overlaidCanvasCtx,h=r.globalAlpha;if(r.globalAlpha=o,r.beginPath(),r.strokeStyle=this.color,r.lineWidth=l,r.save(),this.labelFontSize=(Nt(this.options.labelFontSize)?this.parent:this).labelFontSize,'left'===this.parent._position||'right'===this.parent._position?(this.labelMaxWidth=Nt(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=Nt(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):'top'!==this.parent._position&&'bottom'!==this.parent._position||(this.labelMaxWidth=Nt(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=Nt(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<l&&r.setLineDash&&r.setLineDash(Ut(this.lineDashType,l)),n=new jt(r,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:'',horizontalAlign:'left',fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:'middle'}),this.snapToDataPoint){var d=0,x=[];if('xySwapped'===this.chart.plotInfo.axisPlacement){var c=null;'bottom'===this.parent._position||'top'===this.parent._position?d=this.parent.dataSeries[0].axisX.convertPixelToValue({y:e}):'left'!==this.parent._position&&'right'!==this.parent._position||(d=this.parent.convertPixelToValue({y:e}));for(var p=0;p<this.parent.dataSeries.length;p++)(c=this.parent.dataSeries[p].getDataPointAtX(d,!0))&&0<=c.index&&(c.dataSeries=this.parent.dataSeries[p],null!==c.dataPoint.y)&&x.push(c);if(c=null,0===x.length)return;x.sort(function(t,e){return t.distance-e.distance});var u=Math.abs(t-this.parent.convertValueToPixel(x[0].dataPoint.y)),m=0;if('rangeBar'===x[0].dataSeries.type||'error'===x[0].dataSeries.type)for(var u=Math.abs(t-this.parent.convertValueToPixel(x[m].dataPoint.y[0])),g=0,b=0;b<x.length;b++)if(x[b].dataPoint.y&&x[b].dataPoint.y.length)for(var y=0;y<x[b].dataPoint.y.length;y++)(g=Math.abs(t-this.parent.convertValueToPixel(x[b].dataPoint.y[y])))<u&&(u=g,m=b);else(g=Math.abs(t-this.parent.convertValueToPixel(x[b].dataPoint.y)))<u&&(u=g,m=b);else if('stackedBar'===x[0].dataSeries.type)for(var u=Math.abs(t-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,v=0,m=0,b=0;b<x.length;b++)if(x[b].dataPoint.y&&x[b].dataPoint.y.length)for(y=0;y<x[b].dataPoint.y.length;y++)(g=Math.abs(t-this.parent.convertValueToPixel(x[b].dataPoint.y[y])))<u&&(u=g,m=b);else v+=x[b].dataPoint.y,(g=Math.abs(t-this.parent.convertValueToPixel(v)))<u&&(u=g,m=b);else if('stackedBar100'===x[0].dataSeries.type)for(var u=Math.abs(t-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,v=0,f=0,b=0;b<x.length;b++)if(x[b].dataPoint.y&&x[b].dataPoint.y.length)for(y=0;y<x[b].dataPoint.y.length;y++)(g=Math.abs(t-this.parent.convertValueToPixel(x[b].dataPoint.y[y])))<u&&(u=g,m=b);else{v+=x[b].dataPoint.y;var M=x[b].dataPoint.x.getTime?x[b].dataPoint.x.getTime():x[b].dataPoint.x;f=v/x[b].dataSeries.plotUnit.dataPointYSums[M]*100,(g=Math.abs(t-this.parent.convertValueToPixel(f)))<u&&(u=g,m=b)}else for(u=Math.abs(t-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,m=0,b=0;b<x.length;b++)if(x[b].dataPoint.y&&x[b].dataPoint.y.length)for(y=0;y<x[b].dataPoint.y.length;y++)(g=Math.abs(t-this.parent.convertValueToPixel(x[b].dataPoint.y[y])))<u&&(u=g,m=b);else(g=Math.abs(t-this.parent.convertValueToPixel(x[b].dataPoint.y)))<u&&(u=g,m=b);var k=x[m];if('bottom'===this.parent._position||'top'===this.parent._position){var T=0;if('rangeBar'===this.parent.dataSeries[m].type||'error'===this.parent.dataSeries[m].type){for(u=Math.abs(t-this.parent.convertValueToPixel(k.dataPoint.y[0])),g=0,b=0;b<k.dataPoint.y.length;b++)(g=Math.abs(t-this.parent.convertValueToPixel(k.dataPoint.y[b])))<u&&(u=g,T=b);a=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(k.dataPoint.y[T])<<0):this.parent.convertValueToPixel(k.dataPoint.y[T])<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y[T]}):Nt(this.options.label)?X(k.dataPoint.y[T],this.valueFormatString,this.chart._cultureInfo):this.label}else if('stackedBar'===this.parent.dataSeries[m].type){for(u=Math.abs(t-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,v=0,b=m;0<=b;b--)v+=x[b].dataPoint.y,(g=Math.abs(t-this.parent.convertValueToPixel(v)))<u&&(u=g,T=b);a=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y}):Nt(this.options.label)?X(k.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if('stackedBar100'===this.parent.dataSeries[m].type){for(u=Math.abs(t-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,v=0,f=0,b=m;0<=b;b--){v+=x[b].dataPoint.y;M=x[b].dataPoint.x.getTime?x[b].dataPoint.x.getTime():x[b].dataPoint.x;f=v/x[b].dataSeries.plotUnit.dataPointYSums[M]*100,(g=Math.abs(t-this.parent.convertValueToPixel(f)))<u&&(u=g,T=b)}a=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(f)<<0):this.parent.convertValueToPixel(f)<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f}):Nt(this.options.label)?X(f,this.valueFormatString,this.chart._cultureInfo):this.label}else a=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(k.dataPoint.y)<<0):this.parent.convertValueToPixel(k.dataPoint.y)<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y}):Nt(this.options.label)?X(k.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;w=C=a,P=this.chart.plotArea.y1,i=this.chart.plotArea.y2,this.bounds={x1:w-l/2,y1:P,x2:C+l/2,y2:i},n.x=w-n.measureText().width/2,n.x+n.width>this.chart.bounds.x2?n.x=this.chart.bounds.x2-n.width:n.x<this.chart.bounds.x1&&(n.x=this.chart.bounds.x1),n.y=this.parent.lineCoordinates.y2+n.fontSize/2+2}else if('left'===this.parent._position||'right'===this.parent._position){var P=i=s=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(k.dataPoint.x)<<0):this.parent.convertValueToPixel(k.dataPoint.x)<<0,w=this.chart.plotArea.x1,C=this.chart.plotArea.x2,S=!(this.bounds={x1:w,y1:P-l/2,x2:C,y2:i+l/2});if(this.parent.labels)for(var A=Math.ceil(this.parent.interval),b=0;b<this.parent.viewportMaximum;b+=A){if(!this.parent.labels[b]){S=!1;break}S=!0}if(S){if('axisX'===this.parent.type)for(d=this.parent.convertPixelToValue({y:e}),c=null,p=0;p<this.parent.dataSeries.length;p++)(c=this.parent.dataSeries[p].getDataPointAtX(d,!0))&&0<=c.index&&(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):(Nt(this.options.label)?c.dataPoint:this).label)}else'dateTime'===this.parent.valueType?n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):Nt(this.options.label)?Y(k.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:'number'===this.parent.valueType&&(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):Nt(this.options.label)?X(k.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);n.y=i+n.fontSize/2-n.measureText().height/2+2,n.y-n.fontSize/2<this.chart.bounds.y1?n.y=this.chart.bounds.y1+n.fontSize/2+2:n.y+n.measureText().height-n.fontSize/2>this.chart.bounds.y2&&(n.y=this.chart.bounds.y2-n.measureText().height+n.fontSize/2),'left'===this.parent._position?n.x=this.parent.lineCoordinates.x2-n.measureText().width:'right'===this.parent._position&&(n.x=this.parent.lineCoordinates.x2)}}else if('bottom'===this.parent._position||'top'===this.parent._position){d=this.parent.convertPixelToValue({x:t});for(p=0;p<this.parent.dataSeries.length;p++)(c=this.parent.dataSeries[p].getDataPointAtX(d,!0))&&0<=c.index&&(c.dataSeries=this.parent.dataSeries[p],null!==c.dataPoint.y)&&x.push(c);if(0===x.length)return;x.sort(function(t,e){return t.distance-e.distance});k=x[0],S=(w=C=a=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(k.dataPoint.x)<<0):this.parent.convertValueToPixel(k.dataPoint.x)<<0,P=this.chart.plotArea.y1,i=this.chart.plotArea.y2,!(this.bounds={x1:w-l/2,y1:P,x2:C+l/2,y2:i}));if(this.parent.labels)for(A=Math.ceil(this.parent.interval),b=0;b<this.parent.viewportMaximum;b+=A){if(!this.parent.labels[b]){S=!1;break}S=!0}if(S){if('axisX'===this.parent.type){d=this.parent.convertPixelToValue({x:t});for(c=null,p=0;p<this.parent.dataSeries.length;p++)(c=this.parent.dataSeries[p].getDataPointAtX(d,!0))&&0<=c.index&&(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):(Nt(this.options.label)?c.dataPoint:this).label)}}else'dateTime'===this.parent.valueType?n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):Nt(this.options.label)?Y(k.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:'number'===this.parent.valueType&&(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.x}):Nt(this.options.label)?X(k.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);n.x=w-n.measureText().width/2,n.x+n.width>this.chart.bounds.x2&&(n.x=this.chart.bounds.x2-n.width),n.x<this.chart.bounds.x1&&(n.x=this.chart.bounds.x1),'bottom'===this.parent._position?n.y=this.parent.lineCoordinates.y2+n.fontSize/2+2:'top'===this.parent._position&&(n.y=this.parent.lineCoordinates.y1-n.height+n.fontSize/2+2)}else if('left'===this.parent._position||'right'===this.parent._position){!Nt(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(d=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t}));for(p=0;p<this.parent.dataSeries.length;p++)(c=this.parent.dataSeries[p].getDataPointAtX(d,!0))&&0<=c.index&&(c.dataSeries=this.parent.dataSeries[p],null!==c.dataPoint.y)&&x.push(c);if(0===x.length)return;x.sort(function(t,e){return t.distance-e.distance});m=0;if('rangeColumn'===x[0].dataSeries.type||'rangeArea'===x[0].dataSeries.type||'error'===x[0].dataSeries.type||'rangeSplineArea'===x[0].dataSeries.type||'candlestick'===x[0].dataSeries.type||'ohlc'===x[0].dataSeries.type||'boxAndWhisker'===x[0].dataSeries.type)for(u=Math.abs(e-this.parent.convertValueToPixel(x[0].dataPoint.y[0])),g=0,b=0;b<x.length;b++)if(x[b].dataPoint.y&&x[b].dataPoint.y.length)for(y=0;y<x[b].dataPoint.y.length;y++)(g=Math.abs(e-this.parent.convertValueToPixel(x[b].dataPoint.y[y])))<u&&(u=g,m=b);else(g=Math.abs(e-this.parent.convertValueToPixel(x[b].dataPoint.y)))<u&&(u=g,m=b);else if('stackedColumn'===x[0].dataSeries.type||'stackedArea'===x[0].dataSeries.type)for(u=Math.abs(e-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,v=0,b=0;b<x.length;b++)if(x[b].dataPoint.y&&x[b].dataPoint.y.length)for(y=0;y<x[b].dataPoint.y.length;y++)(g=Math.abs(e-this.parent.convertValueToPixel(x[b].dataPoint.y[y])))<u&&(u=g,m=b);else v+=x[b].dataPoint.y,(g=Math.abs(e-this.parent.convertValueToPixel(v)))<u&&(u=g,m=b);else if('stackedColumn100'===x[0].dataSeries.type||'stackedArea100'===x[0].dataSeries.type)for(u=Math.abs(e-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,v=0,f=0,b=0;b<x.length;b++)if(x[b].dataPoint.y&&x[b].dataPoint.y.length)for(y=0;y<x[b].dataPoint.y.length;y++)(g=Math.abs(e-this.parent.convertValueToPixel(x[b].dataPoint.y[y])))<u&&(u=g,m=b);else{v+=x[b].dataPoint.y;M=x[b].dataPoint.x.getTime?x[b].dataPoint.x.getTime():x[b].dataPoint.x;f=v/x[b].dataSeries.plotUnit.dataPointYSums[M]*100,(g=Math.abs(e-this.parent.convertValueToPixel(f)))<u&&(u=g,m=b)}else for(u=Math.abs(e-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,b=0;b<x.length;b++)if(x[b].dataPoint.y&&x[b].dataPoint.y.length)for(y=0;y<x[b].dataPoint.y.length;y++)(g=Math.abs(e-this.parent.convertValueToPixel(x[b].dataPoint.y[y])))<u&&(u=g,m=b);else(g=Math.abs(e-this.parent.convertValueToPixel(x[b].dataPoint.y)))<u&&(u=g,m=b);k=x[m],T=0;if('rangeColumn'===this.parent.dataSeries[m].type||'rangeArea'===this.parent.dataSeries[m].type||'error'===this.parent.dataSeries[m].type||'rangeSplineArea'===this.parent.dataSeries[m].type||'candlestick'===this.parent.dataSeries[m].type||'ohlc'===this.parent.dataSeries[m].type||'boxAndWhisker'===this.parent.dataSeries[m].type){for(u=Math.abs(e-this.parent.convertValueToPixel(k.dataPoint.y[0])),g=0,b=0;b<k.dataPoint.y.length;b++)(g=Math.abs(e-this.parent.convertValueToPixel(k.dataPoint.y[b])))<u&&(u=g,T=b);s=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(k.dataPoint.y[T])<<0):this.parent.convertValueToPixel(k.dataPoint.y[T])<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y[T]}):Nt(this.options.label)?X(k.dataPoint.y[T],this.valueFormatString,this.chart._cultureInfo):this.label}else if('stackedColumn'===this.parent.dataSeries[m].type||'stackedArea'===this.parent.dataSeries[m].type){for(u=Math.abs(e-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,v=0,b=m;0<=b;b--)v+=x[b].dataPoint.y,(g=Math.abs(e-this.parent.convertValueToPixel(v)))<u&&(u=g,T=b);s=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y}):Nt(this.options.label)?X(k.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if('stackedColumn100'===this.parent.dataSeries[m].type||'stackedArea100'===this.parent.dataSeries[m].type){for(u=Math.abs(e-this.parent.convertValueToPixel(x[0].dataPoint.y)),g=0,v=0,b=m;0<=b;b--){v+=x[b].dataPoint.y;M=x[b].dataPoint.x.getTime?x[b].dataPoint.x.getTime():x[b].dataPoint.x;f=v/x[b].dataSeries.plotUnit.dataPointYSums[M]*100,(g=Math.abs(e-this.parent.convertValueToPixel(f)))<u&&(u=g,T=b)}s=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(f)<<0):this.parent.convertValueToPixel(f)<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:f}):Nt(this.options.label)?X(f,this.valueFormatString,this.chart._cultureInfo):this.label}else'waterfall'===this.parent.dataSeries[m].type?(s=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(k.dataSeries.dataPointEOs[k.index].cumulativeSum)<<0):this.parent.convertValueToPixel(k.dataSeries.dataPointEOs[k.index].cumulativeSum)<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataSeries.dataPointEOs[k.index].cumulativeSum}):Nt(this.options.label)?X(k.dataSeries.dataPointEOs[k.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(s=r.lineWidth%2==1?.5+(this.parent.convertValueToPixel(k.dataPoint.y)<<0):this.parent.convertValueToPixel(k.dataPoint.y)<<0,n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:k.dataPoint.y}):Nt(this.options.label)?X(k.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);P=i=s,w=this.chart.plotArea.x1,C=this.chart.plotArea.x2,this.bounds={x1:w,y1:P-l/2,x2:C,y2:i+l/2},n.y=i+n.fontSize/2-n.measureText().height/2+2,n.y-n.fontSize/2<this.chart.bounds.y1?n.y=this.chart.bounds.y1+n.fontSize/2+2:n.y+n.measureText().height-n.fontSize/2>this.chart.bounds.y2&&(n.y=this.chart.bounds.y2-n.measureText().height+n.fontSize/2),'left'===this.parent._position?n.x=this.parent.lineCoordinates.x2-n.measureText().width:'right'===this.parent._position&&(n.x=this.parent.lineCoordinates.x2)}x=null,'bottom'!==this.parent._position&&'top'!==this.parent._position||w>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&C<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<l&&(r.moveTo(w,P),r.lineTo(C,i),r.stroke()),r.restore(),!Nt(n.text))&&('number'==typeof n.text.valueOf()||0<n.text.length)&&n.render(!0),'left'!==this.parent._position&&'right'!==this.parent._position||i>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&P<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<l&&(r.moveTo(w,P),r.lineTo(C,i),r.stroke()),r.restore(),!Nt(n.text))&&('number'==typeof n.text.valueOf()||0<n.text.length)&&n.render(!0)}else{if('bottom'===this.parent._position||'top'===this.parent._position?(w=C=a=r.lineWidth%2==1?.5+(t<<0):t<<0,P=this.chart.plotArea.y1,i=this.chart.plotArea.y2,this.bounds={x1:w-l/2,y1:P,x2:C+l/2,y2:i}):'left'!==this.parent._position&&'right'!==this.parent._position||(P=i=s=r.lineWidth%2==1?.5+(e<<0):e<<0,w=this.chart.plotArea.x1,C=this.chart.plotArea.x2,this.bounds={x1:w,y1:P-l/2,x2:C,y2:i+l/2}),'xySwapped'===this.chart.plotInfo.axisPlacement)if('left'===this.parent._position||'right'===this.parent._position){S=!1;if(this.parent.labels)for(A=Math.ceil(this.parent.interval),b=0;b<this.parent.viewportMaximum;b+=A){if(!this.parent.labels[b]){S=!1;break}S=!0}if(S){if('axisX'===this.parent.type){d=this.parent.convertPixelToValue({y:e});for(c=null,p=0;p<this.parent.dataSeries.length;p++)(c=this.parent.dataSeries[p].getDataPointAtX(d,!0))&&0<=c.index&&(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):(Nt(this.options.label)?c.dataPoint:this).label)}}else'dateTime'===this.parent.valueType?n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):Nt(this.options.label)?Y(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:'number'===this.parent.valueType&&(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):Nt(this.options.label)?X(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);n.y=e+n.fontSize/2-n.measureText().height/2+2,n.y-n.fontSize/2<this.chart.bounds.y1?n.y=this.chart.bounds.y1+n.fontSize/2+2:n.y+n.measureText().height-n.fontSize/2>this.chart.bounds.y2&&(n.y=this.chart.bounds.y2-n.measureText().height+n.fontSize/2),'left'===this.parent._position?n.x=this.parent.lineCoordinates.x1-n.measureText().width:'right'===this.parent._position&&(n.x=this.parent.lineCoordinates.x2)}else'bottom'!==this.parent._position&&'top'!==this.parent._position||(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):Nt(this.options.label)?X(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,n.x=w-n.measureText().width/2,n.x+n.width>this.chart.bounds.x2&&(n.x=this.chart.bounds.x2-n.width),n.x<this.chart.bounds.x1&&(n.x=this.chart.bounds.x1),'bottom'===this.parent._position&&(n.y=this.parent.lineCoordinates.y2+n.fontSize/2+2),'top'===this.parent._position&&(n.y=this.parent.lineCoordinates.y1-n.height+n.fontSize/2+2));else if('bottom'===this.parent._position||'top'===this.parent._position){S=!1;if(this.parent.labels)for(A=Math.ceil(this.parent.interval),b=0;b<this.parent.viewportMaximum;b+=A){if(!this.parent.labels[b]){S=!1;break}S=!0}if(S){if('axisX'===this.parent.type){d=this.parent.convertPixelToValue({x:t});for(c=null,p=0;p<this.parent.dataSeries.length;p++)(c=this.parent.dataSeries[p].getDataPointAtX(d,!0))&&0<=c.index&&(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):(Nt(this.options.label)?c.dataPoint:this).label)}}else'dateTime'===this.parent.valueType?n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):Nt(this.options.label)?Y(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:'number'===this.parent.valueType&&(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):''}):Nt(this.options.label)?X(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);n.x=w-n.measureText().width/2,n.x+n.width>this.chart.bounds.x2&&(n.x=this.chart.bounds.x2-n.width),n.x<this.chart.bounds.x1&&(n.x=this.chart.bounds.x1),'bottom'===this.parent._position?n.y=this.parent.lineCoordinates.y2+n.fontSize/2+2:'top'===this.parent._position&&(n.y=this.parent.lineCoordinates.y1-n.height+n.fontSize/2+2)}else'left'!==this.parent._position&&'right'!==this.parent._position||(n.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):Nt(this.options.label)?X(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,n.y=e+n.fontSize/2-n.measureText().height/2+2,n.y-n.fontSize/2<this.chart.bounds.y1?n.y=this.chart.bounds.y1+n.fontSize/2+2:n.y+n.measureText().height-n.fontSize/2>this.chart.bounds.y2&&(n.y=this.chart.bounds.y2-n.measureText().height+n.fontSize/2),'left'===this.parent._position?n.x=this.parent.lineCoordinates.x2-n.measureText().width:'right'===this.parent._position&&(n.x=this.parent.lineCoordinates.x2));0<l&&(r.moveTo(w,P),r.lineTo(C,i),r.stroke()),r.restore(),!Nt(n.text)&&('number'==typeof n.text.valueOf()||0<n.text.length)&&n.render(!0)}r.globalAlpha=h},b(a,C),a.prototype._initialize=function(){var t;this.enabled&&(this.container=document.createElement('div'),this.container.setAttribute('class','canvasjs-chart-tooltip'),this.container.style.position='absolute',this.container.style.height='auto',this.container.style.boxShadow='1px 1px 2px 2px rgba(0,0,0,0.1)',this.container.style.zIndex='1000',this.container.style.pointerEvents='none',this.container.style.display='none',t=(t=(t='<div style=" width: auto;height: auto;min-width: 50px;line-height: auto;margin: 0px 0px 0px 0px;padding: 5px;font-family: Calibri, Arial, Georgia, serif;')+'font-weight: normal;font-style: '+(Et?'italic;':'normal;')+'font-size: 14px;color: #000000;text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);text-align: left;')+'border: 2px solid gray;'+(Et?'background: rgba(255,255,255,.9);':'background: rgb(255,255,255);')+'text-indent: 0px;white-space: nowrap;border-radius: 5px;-moz-user-select:none;-khtml-user-select: none;-webkit-user-select: none;-ms-user-select: none;user-select: none;',Et||(t+='filter: alpha(opacity = 90);filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color=\'#666666\');'),this.container.innerHTML=t+='} "> Sample Tooltip</div>',this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},a.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&(new Date).getTime()-this._lastUpdated<4||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,e))},a.prototype._updateToolTip=function(t,e,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===t||void 0===e){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,e=this._prevY}else this._prevX=t,this._prevY=e;var a=null,s=null,n=[],o=0;if(this.shared&&this.enabled&&'none'!==this.chart.plotInfo.axisPlacement){if('xySwapped'===this.chart.plotInfo.axisPlacement){var l=[];if(this.chart.axisX)for(var r=0;r<this.chart.axisX.length;r++){o=this.chart.axisX[r].convertPixelToValue({y:e});for(var h=null,d=0;d<this.chart.axisX[r].dataSeries.length;d++)(h=this.chart.axisX[r].dataSeries[d].getDataPointAtX(o,i))&&0<=h.index&&(h.dataSeries=this.chart.axisX[r].dataSeries[d],null!==h.dataPoint.y)&&l.push(h);h=null}if(this.chart.axisX2)for(r=0;r<this.chart.axisX2.length;r++){o=this.chart.axisX2[r].convertPixelToValue({y:e});for(h=null,d=0;d<this.chart.axisX2[r].dataSeries.length;d++)(h=this.chart.axisX2[r].dataSeries[d].getDataPointAtX(o,i))&&0<=h.index&&(h.dataSeries=this.chart.axisX2[r].dataSeries[d],null!==h.dataPoint.y)&&l.push(h);h=null}}else{l=[];if(this.chart.axisX)for(r=0;r<this.chart.axisX.length;r++){o=this.chart.axisX[r].convertPixelToValue({x:t});for(h=null,d=0;d<this.chart.axisX[r].dataSeries.length;d++)(h=this.chart.axisX[r].dataSeries[d].getDataPointAtX(o,i))&&0<=h.index&&(h.dataSeries=this.chart.axisX[r].dataSeries[d],null!==h.dataPoint.y)&&l.push(h)}if(this.chart.axisX2)for(r=0;r<this.chart.axisX2.length;r++){o=this.chart.axisX2[r].convertPixelToValue({x:t});for(h=null,d=0;d<this.chart.axisX2[r].dataSeries.length;d++)(h=this.chart.axisX2[r].dataSeries[d].getDataPointAtX(o,i))&&0<=h.index&&(h.dataSeries=this.chart.axisX2[r].dataSeries[d],null!==h.dataPoint.y)&&l.push(h)}}if(0===l.length)return;l.sort(function(t,e){return t.distance-e.distance});i=l[0];for(d=0;d<l.length;d++)l[d].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&n.push(l[d]);l=null}else{var x=this.chart.getDataPointAtXY(t,e,i);if(x)this.currentDataPointIndex=x.dataPointIndex,this.currentSeriesIndex=x.dataSeries.index;else if(Et){x=Q(t,e,this.chart._eventManager.ghostCtx);if(0<x&&void 0!==this.chart._eventManager.objectMap[x]){x=this.chart._eventManager.objectMap[x];if('legendItem'===x.objectType)return;this.currentSeriesIndex=x.dataSeriesIndex,this.currentDataPointIndex=0<=x.dataPointIndex?x.dataPointIndex:-1}else this.currentDataPointIndex=-1}else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){s=this.chart.data[this.currentSeriesIndex],h={};if(0<=this.currentDataPointIndex)a=s.dataPoints[this.currentDataPointIndex],h.dataSeries=s,h.dataPoint=a,h.index=this.currentDataPointIndex,h.distance=Math.abs(a.x-o),'waterfall'===s.type&&(h.cumulativeSumYStartValue=s.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,h.cumulativeSum=s.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||'line'!==s.type&&'stepLine'!==s.type&&'spline'!==s.type&&'area'!==s.type&&'stepArea'!==s.type&&'splineArea'!==s.type&&'stackedArea'!==s.type&&'stackedArea100'!==s.type&&'rangeArea'!==s.type&&'rangeSplineArea'!==s.type&&'candlestick'!==s.type&&'ohlc'!==s.type&&'boxAndWhisker'!==s.type)return;o=s.axisX.convertPixelToValue({x:t});(h=s.getDataPointAtX(o,i)).dataSeries=s,this.currentDataPointIndex=h.index,a=h.dataPoint}if(!Nt(h.dataPoint.y))if(h.dataSeries.axisY)if(0<h.dataPoint.y.length){for(var c=0,d=0;d<h.dataPoint.y.length;d++)h.dataPoint.y[d]<h.dataSeries.axisY.viewportMinimum?c--:h.dataPoint.y[d]>h.dataSeries.axisY.viewportMaximum&&c++;c<h.dataPoint.y.length&&c>-h.dataPoint.y.length&&n.push(h)}else'column'===s.type||'bar'===s.type?h.dataPoint.y<0?h.dataSeries.axisY.viewportMinimum<0&&h.dataSeries.axisY.viewportMaximum>=h.dataPoint.y&&n.push(h):h.dataSeries.axisY.viewportMinimum<=h.dataPoint.y&&0<=h.dataSeries.axisY.viewportMaximum&&n.push(h):'bubble'===s.type?(x=this.chart._eventManager.objectMap[s.dataPointIds[h.index]].size/2,h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum-x&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum+x&&n.push(h)):'waterfall'===s.type?(c=0,h.cumulativeSumYStartValue<h.dataSeries.axisY.viewportMinimum?c--:h.cumulativeSumYStartValue>h.dataSeries.axisY.viewportMaximum&&c++,h.cumulativeSum<h.dataSeries.axisY.viewportMinimum?c--:h.cumulativeSum>h.dataSeries.axisY.viewportMaximum&&c++,c<2&&-2<c&&n.push(h)):(0<=h.dataSeries.type.indexOf('100')||'stackedColumn'===s.type||'stackedBar'===s.type||h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum)&&n.push(h);else n.push(h)}}if(0<n.length&&(this.highlightObjects(n),this.enabled))if(null!==(a=this.getToolTipInnerHTML({entries:n}))){this.contentDiv.innerHTML=a;var p,x=!1;'none'===this.container.style.display&&(x=!0,this.container.style.display='block');try{this.contentDiv.style.background=this.backgroundColor||(Et?'rgba(255,255,255,.9)':'rgb(255,255,255)'),'waterfall'===n[0].dataSeries.type?this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor||n[0].dataPoint.color||(0<n[0].dataPoint.y?n[0].dataSeries.risingColor:n[0].dataSeries.fallingColor):'error'===n[0].dataSeries.type?this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor||n[0].dataSeries.color||n[0].dataSeries._colorSet[s.index%n[0].dataSeries._colorSet.length]:this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor||n[0].dataPoint.color||n[0].dataSeries.color||n[0].dataSeries._colorSet[n[0].index%n[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+'px':'2px',this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+'px':'5px',this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+'px':'14px',this.contentDiv.style.color=this.fontColor||'#000000',this.contentDiv.style.fontFamily=this.fontFamily||'Calibri, Arial, Georgia, serif;',this.contentDiv.style.fontWeight=this.fontWeight||'normal',this.contentDiv.style.fontStyle=this.fontStyle||(Et?'italic':'normal')}catch(t){}'pie'===n[0].dataSeries.type||'doughnut'===n[0].dataSeries.type||'funnel'===n[0].dataSeries.type||'pyramid'===n[0].dataSeries.type||'bar'===n[0].dataSeries.type||'rangeBar'===n[0].dataSeries.type||'stackedBar'===n[0].dataSeries.type||'stackedBar100'===n[0].dataSeries.type?p=t-10-this.container.clientWidth:(p=n[0].dataSeries.axisX.convertValueToPixel(n[0].dataPoint.x)-this.container.clientWidth<<0,p-=10),p<0&&(p+=this.container.clientWidth+20),p+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(p=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(a=10-(a=1!==n.length||this.shared||'line'!==n[0].dataSeries.type&&'stepLine'!==n[0].dataSeries.type&&'spline'!==n[0].dataSeries.type&&'area'!==n[0].dataSeries.type&&'stepArea'!==n[0].dataSeries.type&&'splineArea'!==n[0].dataSeries.type?'bar'===n[0].dataSeries.type||'rangeBar'===n[0].dataSeries.type||'stackedBar'===n[0].dataSeries.type||'stackedBar100'===n[0].dataSeries.type?n[0].dataSeries.axisX.convertValueToPixel(n[0].dataPoint.x):e:n[0].dataSeries.axisY.convertValueToPixel(n[0].dataPoint.y)))+this.container.clientHeight+5&&(a-=+(a+this.container.clientHeight+5)),this.fixMozTransitionDelay(p,a),!this.animationEnabled||x?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=p+'px',this.container.style.bottom=a+'px'}else this.hide(!1)}},a.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx,i=(this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save(),this.chart.plotArea),a=0;e.beginPath(),e.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),e.clip();for(var s=0;s<t.length;s++){var n,o,l,r,h=t[s],h=this.chart._eventManager.objectMap[h.dataSeries.dataPointIds[h.index]];h&&h.objectType&&'dataPoint'===h.objectType&&(o=(n=this.chart.data[h.dataSeriesIndex]).dataPoints[h.dataPointIndex],l=h.dataPointIndex,!1===o.highlightEnabled||!0!==n.highlightEnabled&&!0!==o.highlightEnabled||('line'===n.type||'stepLine'===n.type||'spline'===n.type||'scatter'===n.type||'area'===n.type||'stepArea'===n.type||'splineArea'===n.type||'stackedArea'===n.type||'stackedArea100'===n.type||'rangeArea'===n.type||'rangeSplineArea'===n.type?((r=n.getMarkerProperties(l,h.x1,h.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||'#FFFFFF',r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),z.drawMarkers([r]),void 0!==h.y2&&((r=n.getMarkerProperties(l,h.x1,h.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||'#FFFFFF',r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),z.drawMarkers([r]))):'bubble'===n.type?((r=n.getMarkerProperties(l,h.x1,h.y1,this.chart.overlaidCanvasCtx)).size=h.size,r.color='white',r.borderColor='white',e.globalAlpha=.3,z.drawMarkers([r]),e.globalAlpha=1):'column'===n.type||'stackedColumn'===n.type||'stackedColumn100'===n.type||'bar'===n.type||'rangeBar'===n.type||'stackedBar'===n.type||'stackedBar100'===n.type||'rangeColumn'===n.type||'waterfall'===n.type?U(e,h.x1,h.y1,h.x2,h.y2,'white',0,null,!1,!1,!1,!1,.3):'pie'===n.type||'doughnut'===n.type?k(e,h.center,h.radius,'white',n.type,h.startAngle,h.endAngle,.3,h.percentInnerRadius):'funnel'===n.type||'pyramid'===n.type?Yt(e,h.funnelSection,.3,'white'):'candlestick'===n.type?(e.globalAlpha=1,e.strokeStyle=h.color,e.lineWidth=2*h.borderThickness,a=e.lineWidth%2==0?0:.5,e.beginPath(),e.moveTo(h.x3-a,Math.min(h.y2,h.y3)),e.lineTo(h.x3-a,Math.min(h.y1,h.y4)),e.stroke(),e.beginPath(),e.moveTo(h.x3-a,Math.max(h.y1,h.y4)),e.lineTo(h.x3-a,Math.max(h.y2,h.y3)),e.stroke(),U(e,h.x1,Math.min(h.y1,h.y4),h.x2,Math.max(h.y1,h.y4),'transparent',2*h.borderThickness,h.color,!1,!1,!1,!1),e.globalAlpha=1):'ohlc'===n.type?(e.globalAlpha=1,e.strokeStyle=h.color,e.lineWidth=2*h.borderThickness,a=e.lineWidth%2==0?0:.5,e.beginPath(),e.moveTo(h.x3-a,h.y2),e.lineTo(h.x3-a,h.y3),e.stroke(),e.beginPath(),e.moveTo(h.x3,h.y1),e.lineTo(h.x1,h.y1),e.stroke(),e.beginPath(),e.moveTo(h.x3,h.y4),e.lineTo(h.x2,h.y4),e.stroke(),e.globalAlpha=1):'boxAndWhisker'===n.type?(e.save(),e.globalAlpha=1,e.strokeStyle=h.stemColor,e.lineWidth=2*h.stemThickness,0<h.stemThickness&&(e.beginPath(),e.moveTo(h.x3,h.y2+h.borderThickness/2),e.lineTo(h.x3,h.y1+h.whiskerThickness/2),e.stroke(),e.beginPath(),e.moveTo(h.x3,h.y4-h.whiskerThickness/2),e.lineTo(h.x3,h.y3-h.borderThickness/2),e.stroke()),e.beginPath(),U(e,h.x1-h.borderThickness/2,Math.max(h.y2+h.borderThickness/2,h.y3+h.borderThickness/2),h.x2+h.borderThickness/2,Math.min(h.y2-h.borderThickness/2,h.y3-h.borderThickness/2),'transparent',h.borderThickness,h.color,!1,!1,!1,!1),e.globalAlpha=1,e.strokeStyle=h.whiskerColor,e.lineWidth=2*h.whiskerThickness,0<h.whiskerThickness&&(e.beginPath(),e.moveTo(Math.floor(h.x3-h.whiskerLength/2),h.y4),e.lineTo(Math.ceil(h.x3+h.whiskerLength/2),h.y4),e.stroke(),e.beginPath(),e.moveTo(Math.floor(h.x3-h.whiskerLength/2),h.y1),e.lineTo(Math.ceil(h.x3+h.whiskerLength/2),h.y1),e.stroke()),e.globalAlpha=1,e.strokeStyle=h.lineColor,e.lineWidth=2*h.lineThickness,0<h.lineThickness&&(e.beginPath(),e.moveTo(h.x1,h.y5),e.lineTo(h.x2,h.y5),e.stroke()),e.restore(),e.globalAlpha=1):'error'===n.type&&L(e,h.x1,h.y1,h.x2,h.y2,'white',h.whiskerProperties,h.stemProperties,h.isXYSwapped,.3)))}e.restore(),e.globalAlpha=1,e.beginPath()},a.prototype.getToolTipInnerHTML=function(t){for(var e=t.entries,i=null,a=null,s=null,n=0,o='',l=!0,r=0;r<e.length;r++)if(e[r].dataSeries.toolTipContent||e[r].dataPoint.toolTipContent){l=!1;break}if(l&&(this.content&&'function'==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:e},i=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&'none'!==this.chart.plotInfo.axisPlacement){for(var h=null,d='',r=0;r<e.length;r++)a=e[r].dataSeries,s=e[r].dataPoint,n=e[r].index,o='',0===r&&l&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?d+=void 0!==this.chart.axisX[0].labels[s.x]?this.chart.axisX[0].labels[s.x]:'{x}':this.chart.axisX2&&0<this.chart.axisX2.length&&(d+=void 0!==this.chart.axisX2[0].labels[s.x]?this.chart.axisX2[0].labels[s.x]:'{x}'),d=this.chart.replaceKeywordsWithValue(d+='</br>',s,a,n)),null===s.toolTipContent||void 0===s.toolTipContent&&null===a.options.toolTipContent||('line'===a.type||'stepLine'===a.type||'spline'===a.type||'area'===a.type||'stepArea'===a.type||'splineArea'===a.type||'column'===a.type||'bar'===a.type||'scatter'===a.type||'stackedColumn'===a.type||'stackedColumn100'===a.type||'stackedBar'===a.type||'stackedBar100'===a.type||'stackedArea'===a.type||'stackedArea100'===a.type||'waterfall'===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+'<br/>':'X:{axisXIndex}<br/>':''),o+=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>{name}:</span>&nbsp;&nbsp;{y}'),h=a.axisXIndex):'bubble'===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+'<br/>':'X:{axisXIndex}<br/>':''),o+=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}')):'rangeColumn'===a.type||'rangeBar'===a.type||'rangeArea'===a.type||'rangeSplineArea'===a.type||'error'===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+'<br/>':'X:{axisXIndex}<br/>':''),o+=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}')):'candlestick'===a.type||'ohlc'===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+'<br/>':'X:{axisXIndex}<br/>':''),o+=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}')):'boxAndWhisker'===a.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+'<br/>':'X:{axisXIndex}<br/>':''),o+=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}')),null===i&&(i=''),!0===this.reversed?(i=this.chart.replaceKeywordsWithValue(o,s,a,n)+i,r<e.length-1&&(i='</br>'+i)):(i+=this.chart.replaceKeywordsWithValue(o,s,a,n),r<e.length-1&&(i+='</br>')));null!==i&&(i=d+i)}else{if(a=e[0].dataSeries,s=e[0].dataPoint,n=e[0].index,null===s.toolTipContent||void 0===s.toolTipContent&&null===a.options.toolTipContent)return null;'line'===a.type||'stepLine'===a.type||'spline'===a.type||'area'===a.type||'stepArea'===a.type||'splineArea'===a.type||'column'===a.type||'bar'===a.type||'scatter'===a.type||'stackedColumn'===a.type||'stackedColumn100'===a.type||'stackedBar'===a.type||'stackedBar100'===a.type||'stackedArea'===a.type||'stackedArea100'===a.type||'waterfall'===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>'+(s.label?'{label}':'{x}')+':</span>&nbsp;&nbsp;{y}'):'bubble'===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>'+(s.label?'{label}':'{x}')+':</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}'):'pie'===a.type||'doughnut'===a.type||'funnel'===a.type||'pyramid'===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>'+(s.name?'{name}:</span>&nbsp;&nbsp;':s.label?'{label}:</span>&nbsp;&nbsp;':'</span>')+'{y}'):'rangeColumn'===a.type||'rangeBar'===a.type||'rangeArea'===a.type||'rangeSplineArea'===a.type||'error'===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>'+(s.label?'{label}':'{x}')+' :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}'):'candlestick'===a.type||'ohlc'===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>'+(s.label?'{label}':'{x}')+'</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}'):'boxAndWhisker'===a.type&&(o=s.toolTipContent||a.toolTipContent||(this.content&&'function'!=typeof this.content?this.content:'<span style=\'"'+(this.options.fontColor?'':'\'color:{color};\'')+'"\'>'+(s.label?'{label}':'{x}')+'</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}')),null===i&&(i=''),i+=this.chart.replaceKeywordsWithValue(o,s,a,n)}return i},a.prototype.enableAnimation=function(){var t;this.container.style.WebkitTransition||(t=this.getContainerTransition(this.containerTransitionDuration),this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition)},a.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition='',this.container.style.MozTransition='',this.container.style.MsTransition='',this.container.style.transition='')},a.prototype.hide=function(t){this.container&&(t=void 0===t||t,this.container.style.display='none',this.currentSeriesIndex=-1,this._prevX=NaN,this._prevY=NaN,t)&&this.chart.resetOverlayedCanvas()},a.prototype.show=function(t,e,i){this._updateToolTip(t,e,i=void 0!==i&&i)},a.prototype.fixMozTransitionDelay=function(t,e){var i,a;20<this.chart._eventManager.lastObjectId?this.mozContainerTransition=this.getContainerTransition(0):(a=parseFloat(this.container.style.left),a=isNaN(a)?0:a,i=parseFloat(this.container.style.bottom),i=isNaN(i)?0:i,a=Math.sqrt(Math.pow(a-t,2)+Math.pow(i-e,2)),this.mozContainerTransition=10<a?this.getContainerTransition(.1):this.getContainerTransition(0))},a.prototype.getContainerTransition=function(t){return'left '+t+'s ease-out 0s, bottom '+t+'s ease-out 0s'},s.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],Et&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},s.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},s.prototype.mouseEventHandler=function(t){if('mousemove'===t.type||'click'===t.type){var e,i,a,s,n=[],o=Z(t);(s=this.chart.getObjectAtXY(o.x,o.y,!1))&&void 0!==this.objectMap[s]&&('dataPoint'===(s=this.objectMap[s]).objectType?(a=(i=this.chart.data[s.dataSeriesIndex]).dataPoints[s.dataPointIndex],e=s.dataPointIndex,s.eventParameter={x:o.x,y:o.y,dataPoint:a,dataSeries:i.options,dataPointIndex:e,dataSeriesIndex:i.index,chart:this.chart},s.eventContext={context:a,userContext:a,mouseover:'mouseover',mousemove:'mousemove',mouseout:'mouseout',click:'click'},n.push(s),(s=this.objectMap[i.id]).eventParameter={x:o.x,y:o.y,dataPoint:a,dataSeries:i.options,dataPointIndex:e,dataSeriesIndex:i.index,chart:this.chart},s.eventContext={context:i,userContext:i.options,mouseover:'mouseover',mousemove:'mousemove',mouseout:'mouseout',click:'click'},n.push(this.objectMap[i.id])):'legendItem'===s.objectType&&(i=this.chart.data[s.dataSeriesIndex],a=null!==s.dataPointIndex?i.dataPoints[s.dataPointIndex]:null,s.eventParameter={x:o.x,y:o.y,dataSeries:i.options,dataPoint:a,dataPointIndex:s.dataPointIndex,dataSeriesIndex:s.dataSeriesIndex,chart:this.chart},s.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:'itemmouseover',mousemove:'itemmousemove',mouseout:'itemmouseout',click:'itemclick'},n.push(s)));for(var l=[],r=0;r<this.mouseoveredObjectMaps.length;r++){for(var h=!0,d=0;d<n.length;d++)if(n[d].id===this.mouseoveredObjectMaps[r].id){h=!1;break}h?this.fireEvent(this.mouseoveredObjectMaps[r],'mouseout',t):l.push(this.mouseoveredObjectMaps[r])}this.mouseoveredObjectMaps=l;for(r=0;r<n.length;r++){for(var x=!1,d=0;d<this.mouseoveredObjectMaps.length;d++)if(n[r].id===this.mouseoveredObjectMaps[d].id){x=!0;break}x||(this.fireEvent(n[r],'mouseover',t),this.mouseoveredObjectMaps.push(n[r])),'click'===t.type?this.fireEvent(n[r],'click',t):'mousemove'===t.type&&this.fireEvent(n[r],'mousemove',t)}}},s.prototype.fireEvent=function(t,e,i){var a,s,n;t&&e&&(a=t.eventParameter,s=t.eventContext,(n=t.eventContext.userContext)&&s&&n[s[e]]&&n[s[e]].call(n,a),'mouseout'!==e?n.cursor&&n.cursor!==i.target.style.cursor&&(i.target.style.cursor=n.cursor):(i.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),'click'===e&&'dataPoint'===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],a),'click'===e)&&'dataPoint'===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],a)},c.prototype.animate=function(t,e,i,a,s){for(var n=this,o=(this.chart.isAnimating=!0,s=s||Ot.easing.linear,i&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:e,animationCallback:i,onComplete:a}),[]);0<this.animations.length;){var l=this.animations.shift(),r=(new Date).getTime(),h=0;l.startTime<=r&&(h=s(Math.min(r-l.startTime,l.duration),0,1,l.duration),h=Math.min(h,1),!isNaN(h)&&isFinite(h)||(h=1)),h<1&&o.push(l),l.animationCallback(h),1<=h&&l.onComplete&&l.onComplete()}this.animations=o,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){n.animate.call(n)}):this.chart.isAnimating=!1},c.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var Ot={yScaleAnimation:function(t,e){var i,a;0!==t&&(i=e.dest,a=e.source.canvas,e=e.animationBase,i.drawImage(a,0,0,a.width,a.height,0,e-e*t,i.canvas.width/v,t*i.canvas.height/v))},xScaleAnimation:function(t,e){var i,a;0!==t&&(i=e.dest,a=e.source.canvas,e=e.animationBase,i.drawImage(a,0,0,a.width,a.height,e-e*t,0,t*i.canvas.width/v,i.canvas.height/v))},xClipAnimation:function(t,e){var i;0!==t&&(i=e.dest,e=e.source.canvas,i.save(),0<t&&i.drawImage(e,0,0,e.width*t,e.height,0,0,e.width*t/v,e.height/v),i.restore())},fadeInAnimation:function(t,e){var i;0!==t&&(i=e.dest,e=e.source.canvas,i.save(),i.globalAlpha=t,i.drawImage(e,0,0,e.width,e.height,0,0,i.canvas.width/v,i.canvas.height/v),i.restore())},easing:{linear:function(t,e,i,a){return i*t/a+e},easeOutQuad:function(t,e,i,a){return-i*(t/=a)*(t-2)+e},easeOutQuart:function(t,e,i,a){return-i*((t=t/a-1)*t*t*t-1)+e},easeInQuad:function(t,e,i,a){return i*(t/=a)*t+e},easeInQuart:function(t,e,i,a){return i*(t/=a)*t*t*t+e}}},z={drawMarker:function(t,e,i,a,s,n,o,l){var r;i&&(r=1,i.fillStyle=n||'#000000',i.strokeStyle=o||'#000000',i.lineWidth=l||0,i.setLineDash&&i.setLineDash(Ut('solid',l)),'circle'===a?(i.moveTo(t,e),i.beginPath(),i.arc(t,e,s/2,0,2*Math.PI,!1),n&&i.fill(),l&&(o?i.stroke():(r=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle='black',i.stroke(),i.globalAlpha=r))):'square'===a?(i.beginPath(),i.rect(t-s/2,e-s/2,s,s),n&&i.fill(),l&&(o?i.stroke():(r=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle='black',i.stroke(),i.globalAlpha=r))):'triangle'===a?(i.beginPath(),i.moveTo(t-s/2,e+s/2),i.lineTo(t+s/2,e+s/2),i.lineTo(t,e-s/2),i.closePath(),n&&i.fill(),l&&(o?i.stroke():(r=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle='black',i.stroke(),i.globalAlpha=r)),i.beginPath()):'cross'===a&&(i.strokeStyle=n,i.lineWidth=l=s/4,i.beginPath(),i.moveTo(t-s/2,e-s/2),i.lineTo(t+s/2,e+s/2),i.stroke(),i.moveTo(t+s/2,e-s/2),i.lineTo(t-s/2,e+s/2),i.stroke()))},drawMarkers:function(t){for(var e=0;e<t.length;e++){var i=t[e];z.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}};return r}(),ht.Chart.version='v2.3.1 GA'}();
//# sourceMappingURL=canvasjs.min.js.map