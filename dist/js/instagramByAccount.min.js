!function(f){'use strict';f(document).ready(function(){var t,e=f('#ig'),s=e.find('#imageBox'),n=e.find('.ku-loading'),r=e.attr('data-account'),i=null==typeof e.attr('data-hidemobile')||!0===window.matchMedia('(max-width: 767px)').matches,d=void 0===r?'university_of_copenhagen':r.trim(),l='batch',a=e.attr('data-images'),g=12,o=window.matchMedia('(max-width: 480px)').matches?2:parseInt(a,10),c=f('body').prop('clientWidth'),m='<a href="https://www.instagram.com/'+d+'/" aria-label="Instagram 1" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-1.jpg" alt=""></a><a href="https://www.instagram.com/'+d+'/" aria-label="Instagram 2" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-2.jpg" alt=""></a><a href="https://www.instagram.com/'+d+'/" aria-label="Instagram 3" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-3.jpg" alt=""></a><a href="https://www.instagram.com/'+d+'/" aria-label="Instagram 4" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-4.jpg" alt=""></a><a href="https://www.instagram.com/'+d+'/" aria-label="Instagram 5" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-5.jpg" alt=""></a><a href="https://www.instagram.com/'+d+'/" aria-label="Instagram 6" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-6.jpg" alt=""></a>',p={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;','\'':'&#x27;','/':'&#x2F;','`':'&#x60;','=':'&#x3D;'};function w(){var e;f('a',s).each(function(a,t){(e=a%o==0?f('<div/>').addClass(l).appendTo(s):e).append(t)});f('.'+l).wrapInner('<div class=\'inner\'></div>'),s.rotator()}function h(){n.hide(),f(m).each(function(a,t){return s.append(f(this)),a<g-1}),s.addClass('instagram_fallback'),w()}function u(o){var a;!0!=i?(s.empty(),o&&(a='https://www.instagram.com/'+encodeURIComponent(d)+'?__a=1',f.ajax({url:a,type:'GET',crossDomain:!0}).done(function(a){console.log(a),n.hide();var i=a.graphql.user.edge_owner_to_timeline_media.edges;i?(f.each(i,function(a,t){var e=i[a].node.thumbnail_src,n=i[a].node.shortcode,r=void 0===i[a].node.edge_media_to_caption.edges[0]?a+': No caption':i[a].node.edge_media_to_caption.edges[0].node.text,r=r?(r.substring(0,50)+'...').replace(/[&<>"'`=\/]/g,function(a){return p[a]}):'';return s.append('<a tabindex="-1" href="https://www.instagram.com/p/'+n+' " target="_blank" rel="noopener" aria-label="'+r+'"><img src="'+e+'" alt="'+o+'"></a>'),a<g-1}),w()):h()}).fail(function(a,t,e){h(),console.log(a.responseText)}))):e.empty()}f.fn.rotator=function(o){o=f.extend({blocks:e.find('.'+l),speed:6e3,fadeSpeed:800},o);var s=function(t){var e=f(o.blocks,t),n=e.length,r=-1;e.fadeIn(o.fadeSpeed);var i=setInterval(function(){r++;var a=e.eq(r);r==n&&(clearInterval(i),s(t)),a.index()!=n-1&&a.fadeOut(o.fadeSpeed)},o.speed)};return this.each(function(){var a,t,e=f(this);a=e,t=f(o.blocks,a).length,f(o.blocks,a).each(function(){t--,f(this).css('zIndex',t)}),s(e)})},r?u(r):console.log('Add Instagram account to search for and number of images to display using data-account="" and data-images="" on the container'),window.onresize=function(){var a=f('body').prop('clientWidth');a!==c&&(n.show(),clearTimeout(t),t=setTimeout(function(){u(r)},200),c=a)}})}(jQuery);
//# sourceMappingURL=instagramByAccount.min.js.map