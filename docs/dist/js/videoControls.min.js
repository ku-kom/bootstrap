var lang,video,videoContainer,playPauseBtn,muteBtn,volumeBtn,hasAudio,progressBar,fullScreen,subtitles,subtitlesMenu,initialisevideo=function(){if(lang=document.documentElement.lang?document.documentElement.lang:"en",video=document.getElementById("video")){playPauseBtn=document.getElementById("play-pause-button"),muteBtn=document.getElementById("mute-button"),volumeBtn=document.getElementById("vol-control"),progressBar=document.getElementById("progress-bar"),fullScreen=document.getElementById("fullscreen-button"),subtitles=document.getElementById("captions-button"),videoContainer=document.getElementById("videocontainer"),video.controls=!1,video.muted=!0;for(var e=0;e<video.textTracks.length;e++)video.textTracks[e].mode="hidden";var r=[],t=function(e,t,n){var i=document.createElement("li"),o=i.appendChild(document.createElement("button"));return o.setAttribute("id",e),o.className="subtitles-button",0<t.length&&o.setAttribute("lang",t),o.value=n,o.setAttribute("data-state","inactive"),o.appendChild(document.createTextNode(n)),o.addEventListener("click",function(e){r.map(function(e,t,n){r[t].setAttribute("data-state","inactive")});for(var t=this.getAttribute("lang"),n=0;n<video.textTracks.length;n++)video.textTracks[n].language==t?(video.textTracks[n].mode="showing",this.setAttribute("data-state","active")):video.textTracks[n].mode="hidden";subtitlesMenu.style.display="none"}),r.push(o),i};if(video.textTracks){var n=document.createDocumentFragment();(subtitlesMenu=n.appendChild(document.createElement("ul"))).className="subtitles-menu",subtitlesMenu.appendChild(t("subtitles-off","","Off"));for(var i=0;i<video.textTracks.length;i++)subtitlesMenu.appendChild(t("subtitles-"+video.textTracks[i].language,video.textTracks[i].language,video.textTracks[i].label));videoContainer.appendChild(subtitlesMenu)}subtitles.addEventListener("click",function(e){subtitlesMenu&&(subtitlesMenu.style.display="block"==subtitlesMenu.style.display?"none":"block")}),progressBar&&(video.addEventListener("timeupdate",updateProgressBar,!1),progressBar.addEventListener("mousedown",function(){video.pause()}),progressBar.addEventListener("mouseup",function(){video.play()}),progressBar.addEventListener("change",function(){var e=video.duration*(progressBar.value/100);video.currentTime=e}),video.addEventListener("play",function(){changeButtonType(playPauseBtn,"pause")},!1)),volumeBtn&&volumeBtn.addEventListener("change",function(){setVolume()}),playPauseBtn&&video.addEventListener("pause",function(){changeButtonType(playPauseBtn,"play")},!1),video.addEventListener("ended",function(){this.pause()},!1)}},togglePlayPause=function(){video.paused||video.ended?(changeButtonType(playPauseBtn,"pause"),video.play()):(changeButtonType(playPauseBtn,"play"),video.pause())},stopPlayer=function(){video.pause(),video.currentTime=0,progressBar.value=0},setVolume=function(e){video.muted=!1,toggleMute(),video.volume=volumeBtn.value;var t=volumeBtn.value,n=parseInt((t-volumeBtn.getAttribute("min"))/(volumeBtn.getAttribute("max")-volumeBtn.getAttribute("min"))*100,10),i="background: linear-gradient(to right, #fff "+n+"%, #777 0%)";volumeBtn.setAttribute("style",i),volumeBtn.setAttribute("aria-valuenow",n)},toggleMute=function(){video.muted?(changeButtonType(muteBtn,"volume-up"),muteBtn.title="Unmute",video.muted=!1):(changeButtonType(muteBtn,"volume-off"),muteBtn.title="Mute",video.muted=!0)},replayMedia=function(){resetPlayer(),video.play()},getDuration=function(e){if(video.duration)return parseInt(video.duration/60,10)+":"+Math.round(video.duration%60)},getCurrentTime=function(e){if(void 0===video.currentTime)return"0:00";var t=parseInt(video.currentTime/60,10),n=Math.round(video.currentTime%60);return n<10&&(n="0"+n),t+":"+n},jumpSecs=function(e,t){var n;(n="-"==e?video.currentTime-t:video.currentTime+t)<0||n>video.duration||(video.currentTime=n)},updateProgressBar=function(){var e=progressBar.value,t=(100-e)/4+parseInt(e,10),n=Math.floor(100/video.duration*video.currentTime),i="background: -moz-linear-gradient(left, #901a1e 0%, #901a1e "+e+"%, #777 "+e+"%, #777 "+t+"%, #444 "+t+"%, #444 100%);background: -webkit-linear-gradient(left, #901a1e 0%, #901a1e "+e+"%, #777 "+e+"%, #777 "+t+"%, #444 "+t+"%, #444 100%);background: linear-gradient(to right, #901a1e 0%, #901a1e "+e+"%, #777 "+e+"%, #777 "+t+"%, #444 "+t+"%, #444 100%);";progressBar.setAttribute("style",i),progressBar.setAttribute("value",n),progressBar.setAttribute("aria-valuenow",n),document.querySelector(".progress-track").innerHTML=getCurrentTime()+" / "+getDuration()},changeButtonType=function(e,t){e.title=upperCaseFirst(t),e.className=t,e.setAttribute("aria-label",upperCaseFirst(t));var n=e.querySelector(".glyphicon");Array.prototype.slice.call(n.classList).forEach(function(e){e.startsWith("glyphicon-")&&n.classList.remove(e)}),n.classList.add("glyphicon-"+t)},loadVideo=function(){for(var e=0;e<arguments.length;e++){var t=arguments[e].split("."),n=t[t.length-1];if(canPlayVideo(n)){resetPlayer(),video.src=arguments[e],video.load();break}}},canPlayVideo=function(e){return""!=video.canPlayType("video/"+e)},resetPlayer=function(){progressBar.value=0,video.currentTime=0,togglePlayPause()},handleFullscreen=function(){video.requestFullscreen?video.requestFullscreen():video.mozRequestFullScreen?video.mozRequestFullScreen():video.webkitEnterFullscreen?video.webkitEnterFullscreen():video.webkitRequestFullScreen?video.webkitRequestFullScreen():video.msRequestFullscreen&&video.msRequestFullscreen()},upperCaseFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};document.addEventListener("DOMContentLoaded",function(){"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),!!document.createElement("video").canPlayType&&initialisevideo()},!1);
//# sourceMappingURL=videoControls.min.js.map