!function(){var t,e,i,a,s,n,m=!1,lt={},rt=!!document.createElement("canvas").getContext,g={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!0,animationDuration:1e3,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"KU-red",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"Left",fontSize:16,fontFamily:"Open Sans, arial",fontWeight:"normal",fontColor:"#252525",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:rt?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"left",fontSize:13,fontFamily:"Open Sans, arial",fontWeight:"normal",fontColor:"#252525",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"Open Sans, arial",fontWeight:"normal",fontColor:"#252525",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:rt?"transparent":null,borderColor:rt?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:rt?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:13,fontColor:"#252525",fontFamily:"Open Sans, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"normal",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"#252525",titleFontSize:16,titleFontFamily:"Open Sans, arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:rt?"transparent":null,titleBorderColor:rt?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"Open Sans, arial",labelFontColor:"#252525",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:rt?"transparent":null,labelBorderColor:rt?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"#b1b1b1",tickThickness:1,lineColor:"#b1b1b1",lineThickness:1,lineDashType:"solid",gridColor:"#b1b1b1",gridThickness:0,gridDashType:"solid",interlacedColor:rt?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:rt?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"Open Sans, arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:rt?"grey":null,labelBorderColor:rt?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:rt?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"#252525",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Open Sans",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:rt?"transparent":null,legendMarkerBorderThickness:0,markerType:"square",markerColor:null,markerSize:null,markerBorderColor:rt?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"Open Sans, arial",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:",",digitGroupSeparator:".",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},o={en:{}},l=rt?"Open Sans, Helvetica, sans-serif":"Arial",r=rt?"Open Sans, Charcoal, sans-serif":"Arial",b={"KU-red":["#901a1e","#a13c40","#b15f61","#c78c8e","#d8afb0"],"KU-grey":["#666","#858585","#9c9c9c","#b2b2b2","#c9c9c9","#e0e0e0"],colorSet1:["#4F81BC","#C0504E","#9BBB58","#23BFAA","#8064A1","#4AACC5","#F79647","#7F6084","#77A033","#33558B","#E59566"],colorSet2:["#6D78AD","#51CDA0","#DF7970","#4C9CA0","#AE7D99","#C9D45C","#5592AD","#DF874D","#52BCA8","#8E7AA3","#E3CB64","#C77B85","#C39762","#8DD17E","#B57952","#FCC26C"],colorSet3:["#8CA1BC","#36845C","#017E82","#8CB9D0","#708C98","#94838D","#F08891","#0366A7","#008276","#EE7757","#E5BA3A","#F2990B","#03557B","#782970"]},h={colorSet:"KU-red",backgroundColor:"#FFFFFF",title:{fontFamily:r,fontSize:18,fontColor:"#252525",fontWeight:"600",verticalAlign:"top",margin:5},subtitles:[{fontFamily:r,fontSize:12,fontColor:"#252525",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:l,indexLabelFontSize:12,indexLabelFontColor:"#252525",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:l,titleFontSize:14,titleFontColor:"#252525",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:12,labelFontColor:"grey",labelFontWeight:"normal",lineThickness:1,lineColor:"#b1b1b1",tickThickness:1,tickColor:"#b1b1b1",gridThickness:0,gridColor:"#b1b1b1",stripLines:[{labelFontFamily:l,labelFontSize:12,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:12,labelFontColor:"#666666",labelFontWeight:"normal",labelBackgroundColor:"#666666",color:"grey",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#666666",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:l,titleFontSize:14,titleFontColor:"#252525",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:12,labelFontColor:"grey",labelFontWeight:"normal",lineThickness:1,lineColor:"#b1b1b1",tickThickness:1,tickColor:"#b1b1b1",gridThickness:0,gridColor:"#b1b1b1",stripLines:[{labelFontFamily:l,labelFontSize:12,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:12,labelFontColor:"#666666",labelFontWeight:"normal",labelBackgroundColor:"#666666",color:"grey",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#666666",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:l,titleFontSize:14,titleFontColor:"#252525",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:12,labelFontColor:"grey",labelFontWeight:"normal",lineThickness:1,lineColor:"#b1b1b1",tickThickness:1,tickColor:"#b1b1b1",gridThickness:1,gridColor:"#b1b1b1",stripLines:[{labelFontFamily:l,labelFontSize:12,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:12,labelFontColor:"#666666",labelFontWeight:"normal",labelBackgroundColor:"#666666",color:"grey",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#666666",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:l,titleFontSize:14,titleFontColor:"#252525",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:12,labelFontColor:"grey",labelFontWeight:"normal",lineThickness:1,lineColor:"#b1b1b1",tickThickness:1,tickColor:"#b1b1b1",gridThickness:1,gridColor:"#b1b1b1",stripLines:[{labelFontFamily:l,labelFontSize:12,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:12,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"#666666",color:"grey",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:l,fontSize:14,fontColor:"#252525",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:l,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}},d={colorSet:"colorSet2",title:{fontFamily:l,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:l,fontSize:14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:l,indexLabelFontSize:14,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:l,titleFontSize:20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:14,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:l,labelFontSize:14,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:14,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:l,titleFontSize:20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:14,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:l,labelFontSize:14,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:14,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:l,titleFontSize:20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:14,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:l,labelFontSize:14,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:14,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:l,titleFontSize:20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:14,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:l,labelFontSize:14,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:14,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:l,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:l,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}},y={light1:h,light2:d,dark1:{colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:r,fontSize:32,fontColor:"#F5F5F5",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:r,fontSize:14,fontColor:"#F5F5F5",fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:l,indexLabelFontSize:14,indexLabelFontColor:"#F5F5F5",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:l,titleFontSize:20,titleFontColor:"#F5F5F5",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:14,labelFontColor:"#F5F5F5",labelFontWeight:"normal",lineThickness:1,lineColor:i="#FFFFFF",tickThickness:1,tickColor:"#FFFFFF",gridThickness:0,gridColor:"#FFFFFF",stripLines:[{labelFontFamily:l,labelFontSize:14,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:14,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:"#F5F5F5",color:"#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:l,titleFontSize:20,titleFontColor:"#F5F5F5",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:14,labelFontColor:"#F5F5F5",labelFontWeight:"normal",lineThickness:1,lineColor:"#FFFFFF",tickThickness:1,tickColor:"#FFFFFF",gridThickness:0,gridColor:"#FFFFFF",stripLines:[{labelFontFamily:l,labelFontSize:14,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:14,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:"#F5F5F5",color:"#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:l,titleFontSize:20,titleFontColor:"#F5F5F5",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:14,labelFontColor:"#F5F5F5",labelFontWeight:"normal",lineThickness:1,lineColor:"#FFFFFF",tickThickness:1,tickColor:"#FFFFFF",gridThickness:1,gridColor:"#FFFFFF",stripLines:[{labelFontFamily:l,labelFontSize:14,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:14,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:"#F5F5F5",color:"#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:l,titleFontSize:20,titleFontColor:"#F5F5F5",titleFontWeight:"normal",labelFontFamily:l,labelFontSize:14,labelFontColor:"#F5F5F5",labelFontWeight:"normal",lineThickness:1,lineColor:"#FFFFFF",tickThickness:1,tickColor:"#FFFFFF",gridThickness:1,gridColor:"#FFFFFF",stripLines:[{labelFontFamily:l,labelFontSize:14,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:14,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:"#F5F5F5",color:"#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:l,fontSize:14,fontColor:"#F5F5F5",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:l,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:"#F5F5F5",backgroundColor:"rgba(0, 0, 0, .7)"}},dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:l,fontSize:32,fontColor:t="#FAFAFA",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:l,fontSize:n=14,fontColor:t,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:s="#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:l,indexLabelFontSize:n,indexLabelFontColor:e="#FAFAFA",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:l,titleFontSize:20,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:l,labelFontSize:n,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:i,tickThickness:1,tickColor:i,gridThickness:0,gridColor:i,stripLines:[{labelFontFamily:l,labelFontSize:n,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:n,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:s,color:a="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:l,titleFontSize:20,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:l,labelFontSize:n,labelFontColor:e,labelFontWeight:"normal",lineThickness:1,lineColor:i,tickThickness:1,tickColor:i,gridThickness:0,gridColor:i,stripLines:[{labelFontFamily:l,labelFontSize:n,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:n,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:s,color:a,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:l,titleFontSize:20,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:l,labelFontSize:n,labelFontColor:e,labelFontWeight:"normal",lineThickness:0,lineColor:i,tickThickness:1,tickColor:i,gridThickness:1,gridColor:i,stripLines:[{labelFontFamily:l,labelFontSize:n,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:n,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:s,color:a,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:l,titleFontSize:20,titleFontColor:e,titleFontWeight:"normal",labelFontFamily:l,labelFontSize:n,labelFontColor:e,labelFontWeight:"normal",lineThickness:0,lineColor:i,tickThickness:1,tickColor:i,gridThickness:1,gridColor:i,stripLines:[{labelFontFamily:l,labelFontSize:n,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:l,labelFontSize:n,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:s,color:a,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:l,fontSize:14,fontColor:t,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:l,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:e,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:h,theme2:d,theme3:h},f={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};function M(t,e){function i(){}var a;t.prototype=(a=e.prototype,i.prototype=a,new i),(t.prototype.constructor=t).base=e.prototype}function Y(t,e,i){return"millisecond"===i?t.setMilliseconds(t.getMilliseconds()+ +e):"second"===i?t.setSeconds(t.getSeconds()+ +e):"minute"===i?t.setMinutes(t.getMinutes()+ +e):"hour"===i?t.setHours(t.getHours()+ +e):"day"===i?t.setDate(t.getDate()+ +e):"week"===i?t.setDate(t.getDate()+7*e):"month"===i?t.setMonth(t.getMonth()+ +e):"year"===i&&t.setFullYear(t.getFullYear()+ +e),t}function O(t,e){return f[e+"Duration"]*t}function B(t,e){var i=!1;for(t<0&&(i=!0,t*=-1),t=""+t,e=e||1;t.length<e;)t="0"+t;return i?"-"+t:t}function k(t){if(!t)return t;for(var e=/\s/,i=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--i)););return t.slice(0,i+1)}function ht(t){t.roundRect=function(t,e,i,a,s,n,o,l){o&&(this.fillStyle=o),l&&(this.strokeStyle=l),void 0===s&&(s=5),this.lineWidth=n,this.beginPath(),this.moveTo(t+s,e),this.lineTo(t+i-s,e),this.quadraticCurveTo(t+i,e,t+i,e+s),this.lineTo(t+i,e+a-s),this.quadraticCurveTo(t+i,e+a,t+i-s,e+a),this.lineTo(t+s,e+a),this.quadraticCurveTo(t,e+a,t,e+a-s),this.lineTo(t,e+s),this.quadraticCurveTo(t,e,t+s,e),this.closePath(),o&&this.fill(),l&&0<n&&this.stroke()}}function E(t,e){return t-e}function T(t,e,i){if(t&&e&&i){var a=i+"."+e,s="image/"+e,n=t.toDataURL(s),o=!1,i=document.createElement("a");if(i.download=a,i.href=n,"undefined"!=typeof Blob&&new Blob){for(var t=n.replace(/^data:[a-z\/]*;base64,/,""),l=atob(t),t=new ArrayBuffer(l.length),r=new Uint8Array(t),h=0;h<l.length;h++)r[h]=l.charCodeAt(h);e=new Blob([r.buffer],{type:"image/"+e});try{window.navigator.msSaveBlob(e,a),o=!0}catch(t){i.dataset.downloadurl=[s,i.download,i.href].join(":"),i.href=window.URL.createObjectURL(e)}}if(!o)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent?i.dispatchEvent(event):i.fireEvent&&i.fireEvent("onclick")}catch(t){i=window.open();i.document.write("<img src='"+n+"'></img><div>Please right click on the image and save it to your device</div>"),i.document.close()}}}function H(t){var e=((16711680&t)>>16).toString(16),i=((65280&t)>>8).toString(16),t=((255&t)>>0).toString(16);return"#"+(e=e.length<2?"0"+e:e)+(i=i.length<2?"0"+i:i)+(t=t.length<2?"0"+t:t)}function x(t){var e=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=e);i<e;i++)if(i in this&&this[i]===t)return i;return-1}function yt(t){return null==t}function dt(t){return t.indexOf||(t.indexOf=x),t}var c={},p=null;function P(t,e,i){var a=t+"_"+e+"_"+(i=i||"normal"),s=c[a];if(isNaN(s)){try{var n,o,l="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+i+";";p||(n=document.body,(p=document.createElement("span")).innerHTML="",o=document.createTextNode("Mpgyi"),p.appendChild(o),n.appendChild(p)),p.style.display="",p.setAttribute("style",l),s=Math.round(p.offsetHeight),p.style.display="none"}catch(t){s=Math.ceil(1.1*e)}s=Math.max(s,e),c[a]=s}return s}function xt(t,e){var i=[];if(i={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t=t||"solid"])for(var a=0;a<i.length;a++)i[a]*=e;else i=[];return i}function w(e,t,i,a,s){if((a=a||[]).push([e,t,i,s=s||!1]),e.addEventListener)return e.addEventListener(t,i,s),i;if(e.attachEvent){s=function(t){(t=t||window.event).preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},i.call(e,t)};return e.attachEvent("on"+t,s),s}return!1}function C(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))}function A(t,e,i){return e=e||this.width,i=i||this.height,i=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=i?12:10,Math.round(i*(t/400)))}function R(t,e,i){if(null===t)return"";if(!isFinite(t))return t;var a=(t=Number(t))<0;a&&(t*=-1);var s=i?i.decimalSeparator:".",n=i?i.digitGroupSeparator:",";e=String(e);for(var o=1,l="",r=-1,h=[],d=[],x=0,c=0,p=0,u=!1,m=0,g=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|‰|./g),b=null,y=0;g&&y<g.length;y++)if("."===(b=g[y])&&r<0)r=y;else{if("%"===b)o*=100;else{if("‰"===b){o*=1e3;continue}if(","===b[0]&&"."===b[b.length-1]){o/=Math.pow(1e3,b.length-1),r=y+b.length-1;continue}"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||(u=!0)}r<0?(h.push(b),"#"===b||"0"===b?x++:","===b&&p++):(d.push(b),"#"!==b&&"0"!==b||c++)}u&&(i=Math.floor(t),e=-Math.floor(Math.log(t)/Math.LN10+1),m=0===t?0:0===i?-(x+e):String(i).length-x,o/=Math.pow(10,m)),r<0&&(r=y);var v=((t=(t*=o).toFixed(c).split("."))[0]+"").split(""),f=(t[1]+"").split("");v&&"0"===v[0]&&v.shift();for(var M=0,k=0,T=0,P=0,w=0;0<h.length;)if("#"===(b=h.pop())||"0"===b)if(++M===x){var C=v,v=[];if("0"===b)for(var S=x-k-(C?C.length:0);0<S;)C.unshift("0"),S--;for(;0<C.length;)l=C.pop()+l,++w%P==0&&T===p&&0<C.length&&(l=n+l)}else 0<v.length?(l=v.pop()+l,k++,w++):"0"===b&&(l="0"+l,k++,w++),w%P==0&&T===p&&0<v.length&&(l=n+l);else"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||!/[eE][+-]*[0]+/.test(b)?","===b?(T++,P=w,(w=0)<v.length&&(l=n+l)):l=1<b.length&&('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])?b.slice(1,b.length-1)+l:b+l:l+=(b=(m<0?b.replace("+",""):b).replace("-","")).replace(/[0]+/,function(t){return B(m,t.length)});for(var A="",_=!1;0<d.length;)"#"===(b=d.shift())||"0"===b?0<f.length&&0!==Number(f.join(""))?(A+=f.shift(),_=!0):"0"===b&&(A+="0",_=!0):1<b.length&&('"'===b[0]&&'"'===b[b.length-1]||"'"===b[0]&&"'"===b[b.length-1])?A+=b.slice(1,b.length-1):"E"!==b[0]&&"e"!==b[0]||"0"!==b[b.length-1]||!/[eE][+-]*[0]+/.test(b)?A+=b:A+=(b=(m<0?b.replace("+",""):b).replace("-","")).replace(/[0]+/,function(t){return B(m,t.length)});return l+=(_?s:"")+A,a?"-"+l:l}var v,S,_,F,L,I,V,N=(v=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],F=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],I=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,V=/[^-+\dA-Z]/g,function(e,t,i){var a=i?i.days:S,s=i?i.months:F,n=i?i.shortDays:_,o=i?i.shortMonths:L,l=!1;if(e=e&&e.getTime?e:e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");"UTC:"===t.slice(0,4)&&(t=t.slice(4),l=!0);var i=l?"getUTC":"get",r=e[i+"Date"](),h=e[i+"Day"](),d=e[i+"Month"](),x=e[i+"FullYear"](),c=e[i+"Hours"](),p=e[i+"Minutes"](),u=e[i+"Seconds"](),m=e[i+"Milliseconds"](),g=l?0:e.getTimezoneOffset();return t.replace(v,function(t){switch(t){case"D":return r;case"DD":return B(r,2);case"DDD":return n[h];case"DDDD":return a[h];case"M":return d+1;case"MM":return B(d+1,2);case"MMM":return o[d];case"MMMM":return s[d];case"Y":return parseInt(String(x).slice(-2));case"YY":return B(String(x).slice(-2),2);case"YYY":return B(String(x).slice(-3),3);case"YYYY":return B(x,4);case"h":return c%12||12;case"hh":return B(c%12||12,2);case"H":return c;case"HH":return B(c,2);case"m":return p;case"mm":return B(p,2);case"s":return u;case"ss":return B(u,2);case"f":return String(m).slice(0,1);case"ff":return B(String(m).slice(0,2),2);case"fff":return B(String(m).slice(0,3),3);case"t":return c<12?"a":"p";case"tt":return c<12?"am":"pm";case"T":return c<12?"A":"P";case"TT":return c<12?"AM":"PM";case"K":return l?"UTC":(String(e).match(I)||[""]).pop().replace(V,"");case"z":return(0<g?"-":"+")+Math.floor(Math.abs(g)/60);case"zz":return(0<g?"-":"+")+B(Math.floor(Math.abs(g)/60),2);case"zzz":return(0<g?"-":"+")+B(Math.floor(Math.abs(g)/60),2)+B(Math.abs(g)%60,2);default:return t.slice(1,t.length-1)}})});function W(t,e,i){for(var a=i.getImageData(t*=j,e*=j,2,2).data,s=!0,n=0;n<4;n++)if(a[n]!==a[n+4]|a[n]!==a[n+8]|a[n]!==a[n+12]){s=!1;break}return s?(i=a[0],t=a[1],e=a[2],i<<16|t<<8|e):0}function D(t){var e=0,i=0,i=(t=t||window.event).offsetX||0===t.offsetX?(e=t.offsetX,t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,t.layerY):(e=t.pageX-t.target.offsetLeft,t.pageY-t.target.offsetTop);return{x:e,y:i}}function z(t,e,i){return(t in e?e:i)[t]}var u=!0,X=window.devicePixelRatio||1,U=1,j=u?X/U:1;function K(t,e,i){var a;rt&&u?(a=t.getContext("2d"),U=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1,j=X/U,t.width=e*j,t.height=i*j,X!==U&&(t.style.width=e+"px",t.style.height=i+"px",a.scale(j,j))):(t.width=e,t.height=i)}function q(t,e,i,a,s,n,o,l,r,h,d,x,c){void 0===c&&(c=1),o=o||0,l=l||"black";var p,u=e,m=a,g=i,b=s;p=15<a-e&&15<s-i?8:.35*Math.min(a-e,s-i);var y,v="rgba(255, 255, 255, .4)",f="rgba(255, 255, 255, 0.1)",n=n;t.beginPath(),t.moveTo(e,i),t.save(),t.fillStyle=n,t.globalAlpha=c,t.fillRect(e,i,a-e,s-i),t.globalAlpha=1,0<o&&(c=o%2==0?0:.5,t.beginPath(),t.lineWidth=o,t.strokeStyle=l,t.moveTo(e,i),t.rect(e-c,i-c,a-e+2*c,s-i+2*c),t.stroke()),t.restore(),!0===r&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(a-p,i+p),t.lineTo(a,i),t.closePath(),(y=t.createLinearGradient((a+e)/2,g+p,(a+e)/2,g)).addColorStop(0,n),y.addColorStop(1,v),t.fillStyle=y,t.fill(),t.restore()),!0===h&&(t.save(),t.beginPath(),t.moveTo(e,s),t.lineTo(e+p,s-p),t.lineTo(a-p,s-p),t.lineTo(a,s),t.closePath(),(y=t.createLinearGradient((a+e)/2,b-p,(a+e)/2,b)).addColorStop(0,n),y.addColorStop(1,v),t.fillStyle=y,t.fill(),t.restore()),!0===d&&(t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e+p,i+p),t.lineTo(e+p,s-p),t.lineTo(e,s),t.closePath(),(y=t.createLinearGradient(u+p,(s+i)/2,u,(s+i)/2)).addColorStop(0,n),y.addColorStop(1,f),t.fillStyle=y,t.fill(),t.restore()),!0===x&&(t.save(),t.beginPath(),t.moveTo(a,i),t.lineTo(a-p,i+p),t.lineTo(a-p,s-p),t.lineTo(a,s),(y=t.createLinearGradient(m-p,(s+i)/2,m,(s+i)/2)).addColorStop(0,n),y.addColorStop(1,f),(t.fillStyle=y).addColorStop(0,n),y.addColorStop(1,f),t.fillStyle=y,t.fill(),t.closePath(),t.restore())}function G(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(i));return e}var J=window&&window[G("mnb`uhno")]&&window[G("mnb`uhno")].href&&window[G("mnb`uhno")].href.indexOf&&(-1!==window[G("mnb`uhno")].href.indexOf(G("b`ow`rkr/bnl"))||-1!==window[G("mnb`uhno")].href.indexOf(G("gdonqhy/bnl"))||-1!==window[G("mnb`uhno")].href.indexOf(G("gheemd")))&&-1===window[G("mnb`uhno")].href.indexOf(G("gheemd"));function Q(t,e){m&&(this.canvasCount=0|this.canvasCount,window.console.log(++this.canvasCount));var i=document.createElement("canvas");return i.setAttribute("class","canvasjs-chart-canvas"),K(i,t,e),rt||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(i),i}var Z={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};function $(t,e,i){for(var a in i)e.style[a]=i[a]}function tt(t,e,i){e.getAttribute("state")||(e.style.backgroundColor=t.toolbar.backgroundColor,e.style.color=t.toolbar.fontColor,e.style.border="none",$(0,e,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),e.getAttribute("state")!==i&&(e.setAttribute("state",i),e.setAttribute("type","button"),$(0,e,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),e.setAttribute("title",t._cultureInfo[i+"Text"]),e.innerHTML="<img style='height:95%; pointer-events: none;' src='"+Z[i].image+"' alt='"+t._cultureInfo[i+"Text"]+"' />")}function et(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e]).style&&(t.style.display="inline")}function it(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function at(t,e,i,a,s){this._defaultsKey=t,this._themeOptionsKey=e,this._index=a,this.parent=s,this._eventListeners=[];s={};this.theme&&yt(e)&&yt(a)?s=yt(y[this.theme])?y.light1:y[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[e]&&(null===a?s=this.parent.themeOptions[e]:0<this.parent.themeOptions[e].length&&(a=Math.min(this.parent.themeOptions[e].length-1,a),s=this.parent.themeOptions[e][a])),this.themeOptions=s,this.options=i||{_isPlaceholder:!0},this.setOptions(this.options,s)}function st(t,e,i,a,s){this._padding=s=void 0===s?0:s,this._x1=t,this._y1=e,this._x2=i,this._y2=a,this._topOccupied=this._padding,this._bottomOccupied=this._padding,this._leftOccupied=this._padding,this._rightOccupied=this._padding}function vt(t,e){vt.base.constructor.call(this,"TextBlock",null,e,null,null),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._initialize()}function ct(t,e){ct.base.constructor.call(this,"Toolbar","toolbar",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function pt(t,e){if(pt.base.constructor.call(this,"Title","title",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="title",yt(this.options.margin)&&t.options.subtitles)for(var i=t.options.subtitles,a=0;a<i.length;a++)if((yt(i[a].horizontalAlign)&&"center"===this.horizontalAlign||i[a].horizontalAlign===this.horizontalAlign)&&(yt(i[a].verticalAlign)&&"top"===this.verticalAlign||i[a].verticalAlign===this.verticalAlign)&&!i[a].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.width=null,this.height=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function ut(t,e,i){ut.base.constructor.call(this,"Subtitle","subtitles",e,i,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.width=null,this.height=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function mt(){this.pool=[]}function gt(t){var e;t&&o[t]&&(e=o[t]),gt.base.constructor.call(this,"CultureInfo",null,e,null,null)}at.prototype.setOptions=function(t,e){if(g[this._defaultsKey]){var i,a=g[this._defaultsKey];for(i in a)"publicProperties"!==i&&a.hasOwnProperty(i)&&(t&&i in t?this[i]=t[i]:e&&i in e?this[i]=e[i]:this[i]=a[i])}else m&&window.console&&console.log("defaults not set")},at.prototype.get=function(t){var e=g[this._defaultsKey];return"options"===t?this.options&&this.options._isPlaceholder?null:this.options:e.hasOwnProperty(t)||e.publicProperties&&e.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},at.prototype.set=function(t,e,i){i=void 0===i||i;var a=g[this._defaultsKey];if("options"===t)this.createUserOptions(e);else{if(!(a.hasOwnProperty(t)||a.publicProperties&&a.publicProperties.hasOwnProperty(t)&&"readWrite"===a.publicProperties[t]))return void(window.console&&(a.publicProperties&&a.publicProperties.hasOwnProperty(t)&&"readOnly"===a.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=e}i&&(this.stockChart||this.chart||this).render()},at.prototype.addTo=function(t,e,i,a){a=void 0===a||a;var s,n=g[this._defaultsKey];n.hasOwnProperty(t)||n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&"readWrite"===n.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[t]&&(this.options[t]=[]),s=this.options[t],i=null==i?s.length:i,s.splice(i,0,e),a&&(this.chart||this).render()):window.console&&(n.publicProperties&&n.publicProperties.hasOwnProperty(t)&&"readOnly"===n.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},at.prototype.createUserOptions=function(t){var e,i;void 0===t&&!this.options._isPlaceholder||(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray?(this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]),i=(e=this.parent.options[this.optionsName]).length,this.options._isPlaceholder||(dt(e),i=e.indexOf(this.options)),this.options=void 0===t?{}:t,e[i]=this.options):(this.options=void 0===t?{}:t,this.parent.options[this.optionsName||function(t){if(t&&0!==t.length){var e=t.charAt(0).toLowerCase();return e=1<t.length?e.concat(t.slice(1)):e}}(this._defaultsKey)]=this.options))},at.prototype.remove=function(t){var e,i;t=void 0===t||t,this.isOptionsInArray?(dt(e=this.parent.options[this.optionsName]),0<=(i=e.indexOf(this.options))&&e.splice(i,1)):delete this.parent.options[this.optionsName],t&&(this.chart||this).render()},at.prototype.updateOption=function(t){!g[this._defaultsKey]&&m&&window.console&&console.log("defaults not set");var e=g[this._defaultsKey],i={},a=this[t],s=this._themeOptionsKey,n=this._index;return this.theme&&yt(s)&&yt(n)?i=yt(y[this.theme])?y.light1:y[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[s]&&(null===n?i=this.parent.themeOptions[s]:0<this.parent.themeOptions[s].length&&(n=Math.min(this.parent.themeOptions[s].length-1,n),i=this.parent.themeOptions[s][n])),this.themeOptions=i,(a=t in e?(t in this.options?this.options:i&&t in i?i:e)[t]:a)!==this[t]&&(this[t]=a,!0)},at.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this.options[t]},at.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},at.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return!(this.sessionVariables[t]===this.options[t])},at.prototype.addEventListener=function(t,e,i){t&&e&&(i=i||this,this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:i,eventHandler:e}))},at.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var i=this._eventListeners[t],a=0;a<i.length;a++)if(i[a].eventHandler===e){i[a].splice(a,1);break}},at.prototype.removeAllEventListeners=function(){this._eventListeners=[]},at.prototype.dispatchEvent=function(t,e,i){if(t&&this._eventListeners[t]){e=e||{};for(var a=this._eventListeners[t],s=0;s<a.length;s++)a[s].eventHandler.call(a[s].context,e)}"function"==typeof this[t]&&this[t].call(i||this.chart,e)},st.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},st.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},st.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},st.prototype.reset=function(){this._topOccupied=this._padding,this._bottomOccupied=this._padding,this._leftOccupied=this._padding,this._rightOccupied=this._padding},M(vt,at),vt.prototype._initialize=function(){yt(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=yt(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=yt(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=yt(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=yt(this.padding.left)?0:0|Number(this.padding.left))},vt.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var i=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+i),"middle"===this.textBaseline&&(i=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var a,s=0,n=this.topPadding;this.ctx.roundRect||ht(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,i,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor;for(var o=0;o<this._wrappedText.lines.length;o++)a=this._wrappedText.lines[o],"right"===this.horizontalAlign?s=(this.width-(this.leftPadding+this.rightPadding))/2-a.width/2+this.leftPadding:"left"===this.horizontalAlign?s=this.leftPadding:"center"===this.horizontalAlign&&(s=(this.width-(this.leftPadding+this.rightPadding))/2-a.width/2+this.leftPadding),this.ctx.fillText(a.text,s,n),n+=a.height;this.ctx.font=e,t&&this.ctx.restore()}},vt.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},vt.prototype.measureText=function(){if(this._lineHeight=P(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},vt.prototype._getLineWithWidth=function(t,e,i){if(i=i||!1,!(t=String(t)))return{text:"",width:0};var a=0,s=0,n=t.length-1;for(this.ctx.font=this._getFontString();s<=n;){var o=Math.floor((s+n)/2),l=t.substr(0,o+1);if((a=this.ctx.measureText(l).width)<e)s=o+1;else{if(!(e<a))break;n=o-1}}e<a&&1<l.length&&(l=l.substr(0,l.length-1),a=this.ctx.measureText(l).width);i=!0;return(i=l.length===t.length||" "===t[l.length]?!1:i)&&(1<(i=l.split(" ")).length&&i.pop(),l=i.join(" "),a=this.ctx.measureText(l).width),{text:l,width:a}},vt.prototype._wrapText=function(){var t=new String(k(String(this.text))),e=[],i=this.ctx.font,a=0,s=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)s=a=0;else for(;0<t.length;){var n=this.maxWidth-(this.leftPadding+this.rightPadding),o=this.maxHeight-(this.topPadding+this.bottomPadding),l=this._getLineWithWidth(t,n,!1);l.height=this._lineHeight,e.push(l);n=s,s=Math.max(s,l.width);a+=l.height,t=k(t.slice(l.text.length,t.length)),o&&o<a&&(a-=(l=e.pop()).height,s=n)}this._wrappedText={lines:e,width:s,height:a},this.width=s+(this.leftPadding+this.rightPadding),this.height=a+(this.topPadding+this.bottomPadding),this.ctx.font=i},vt.prototype._getFontString=function(){return i=null,a=t="",s=t?t+"FontStyle":"fontStyle",n=t?t+"FontWeight":"fontWeight",o=t?t+"FontSize":"fontSize",t=t?t+"FontFamily":"fontFamily",a+=(e=this)[s]?e[s]+" ":i&&i[s]?i[s]+" ":"",a+=e[n]?e[n]+" ":i&&i[n]?i[n]+" ":"",a+=e[o]?e[o]+"px ":i&&i[o]?i[o]+"px ":"",i=e[t]?e[t]+"":i&&i[t]?i[t]+"":"",a+=!rt&&i?t="'"!==(t=i.split(",")[0])[0]&&'"'!==t[0]?"'"+t+"'":t:i;var t,e,i,a,s,n,o},M(ct,at),M(pt,at),pt.prototype.setLayout=function(){var t,e,i,a,s,n,o,l,r,h;this.text&&(i=(e=(t=this.dockInsidePlotArea?this.chart.plotArea:this.chart).layoutManager.getFreeSpace()).x1,a=e.y1,h=s=0,n=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0,"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=e.width-4-n*("center"===this.horizontalAlign?2:1)),h=.5*e.height-this.margin-2,s=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=e.height-4),h=.5*e.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=e.width-4),h=.5*e.height-4)),yt(this.padding)||"number"!=typeof this.padding?yt(this.padding)||"object"!=typeof this.padding||(r=this.padding.top||this.padding.bottom||0,r+=this.padding.bottom||this.padding.top||0,r*=1.25):r=2.5*this.padding,this.wrap||(h=Math.min(h,Math.max(1.5*this.fontSize,this.fontSize+r))),h=(r=new vt(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:h,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(a=e.y1+2,l="top"):"bottom"===this.verticalAlign&&(a=e.y2-2-h.height,l="bottom"),"left"===this.horizontalAlign?i=e.x1+2:"center"===this.horizontalAlign?i=e.x1+e.width/2-h.width/2:"right"===this.horizontalAlign&&(i=e.x2-2-h.width-n),o=this.horizontalAlign,this.width=h.width,this.height=h.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(i=e.x1+2,a=e.y2-2-(this.maxWidth/2-h.width/2),s=-90,l="left",this.width=h.height,this.height=h.width):"right"===this.horizontalAlign?(i=e.x2-2,a=e.y1+2+(this.maxWidth/2-h.width/2),s=90,l="right",this.width=h.height,this.height=h.width):"center"===this.horizontalAlign&&(a=t.y1+(t.height/2-h.height/2),i=t.x1+(t.width/2-h.width/2),l="center",this.width=h.width,this.height=h.height),o="center"),r.x=i,r.y=a,r.angle=s,r.horizontalAlign=o,this._textBlock=r,t.layoutManager.registerSpace(l,{width:this.width+("left"===l||"right"===l?this.margin+2:0),height:this.height+("top"===l||"bottom"===l?this.margin+2:0)}),this.bounds={x1:i,y1:a,x2:i+this.width,y2:a+this.height},this.ctx.textBaseline="top")},pt.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},M(ut,at),ut.prototype.setLayout=pt.prototype.setLayout,ut.prototype.render=pt.prototype.render,mt.prototype.get=function(t,e){var i=null;return 0<this.pool.length?K(i=this.pool.pop(),t,e):i=Q(t,e),i},mt.prototype.release=function(t){this.pool.push(t)},M(gt,at);var nt={addTheme:function(t,e){y[t]=e},addColorSet:function(t,e){b[t]=e},addCultureInfo:function(t,e){o[t]=e},formatNumber:function(t,e,i){if(e=e||"#,##0.##",o[i=i||"en"])return R(t,e,new gt(i));throw"Unknown Culture Name"},formatDate:function(t,e,i){if(e=e||"DD MMM YYYY",o[i=i||"en"])return N(t,e,new gt(i));throw"Unknown Culture Name"}};"undefined"!=typeof module&&void 0!==module.exports?module.exports=nt:"function"==typeof define&&define.amd?define([],function(){return nt}):window.CanvasJS=nt,nt.Chart=function(){function o(t,e){return t.x-e.x}function r(t,e){this.theme=yt((e=e||{}).theme)||yt(y[e.theme])?"light1":e.theme,r.base.constructor.call(this,"Chart",null,e,null,null);var i=this;this._containerId=t,this._objectsInitialized=!1,this.ctx=null,this.overlaidCanvasCtx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.animatedRender=!1,this.disableToolTip=!1,this.canvasPool=new mt,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId,this.container?(this.container.innerHTML="",t=e=0,e=!this.options.width&&0<this.container.clientWidth?this.container.clientWidth:this.width,t=!this.options.height&&0<this.container.clientHeight?this.container.clientHeight:this.height,this.width=e,this.height=t,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==b[this.colorSet]?b[this.colorSet]:b.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",rt||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=Q(e,t),this._preRenderCanvas=Q(e,t),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",ht(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",ht(this._preRenderCtx),rt?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=Q(e,t),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=Q(e,t),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",ht(this.overlaidCanvasCtx)),this._eventManager=new s(this),this.windowResizeHandler=w(window,"resize",function(){i._updateSize()&&i.render()},this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},w(this.overlaidCanvas,"click",function(t){i._mouseEventHandler(t)},this.allDOMEventHandlers),w(this.overlaidCanvas,"mousemove",function(t){i._mouseEventHandler(t)},this.allDOMEventHandlers),w(this.overlaidCanvas,"mouseup",function(t){i._mouseEventHandler(t)},this.allDOMEventHandlers),w(this.overlaidCanvas,"mousedown",function(t){i._mouseEventHandler(t),it(i._dropdownMenu)},this.allDOMEventHandlers),w(this.overlaidCanvas,"mouseout",function(t){i._mouseEventHandler(t)},this.allDOMEventHandlers),w(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(t){i._touchEventHandler(t)},this.allDOMEventHandlers),w(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(t){i._touchEventHandler(t)},this.allDOMEventHandlers),w(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(t){i._touchEventHandler(t)},this.allDOMEventHandlers),w(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(t){i._touchEventHandler(t)},this.allDOMEventHandlers),this.toolTip=new a(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})):window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function B(t,e){for(var i,a,s,n,o,l,r=[],h=0;h<t.length;h++)0!=h?(a=0===(i=h-1)?0:i-1,s=i===t.length-1?i:i+1,l=Math.abs((t[s].x-t[a].x)/(t[s].x-t[i].x==0?.01:t[s].x-t[i].x))*(e-1)/2+1,n=(t[s].x-t[a].x)/l,o=(t[s].y-t[a].y)/l,o=t[i].x>t[a].x&&0<n||t[i].x<t[a].x&&n<0?{x:t[i].x+n/3,y:t[i].y+o/3}:{x:t[i].x,y:t[i].y+o/9},r[r.length]=o,a=0===(i=h)?0:i-1,s=i===t.length-1?i:i+1,l=Math.abs((t[s].x-t[a].x)/(t[i].x-t[a].x==0?.01:t[i].x-t[a].x))*(e-1)/2+1,o=(t[s].x-t[a].x)/l,l=(t[s].y-t[a].y)/l,l=t[i].x>t[a].x&&0<o||t[i].x<t[a].x&&o<0?{x:t[i].x-o/3,y:t[i].y-l/3}:{x:t[i].x,y:t[i].y-l/9},r[r.length]=l,r[r.length]=t[h]):r.push(t[0]);return r}function F(t,e,i,a,s,n,o,l,r,h){var d=0;h?(o.color=n,l.color=n):h=1;var x=r?Math.abs(s-i):Math.abs(a-e),d=0<o.trimLength?Math.abs(x*o.trimLength/100):Math.abs(x-o.length);r?(i+=d/2,s-=d/2):(e+=d/2,a-=d/2);x=Math.round(o.thickness)%2==1?.5:0,d=Math.round(l.thickness)%2==1?.5:0;t.save(),t.globalAlpha=h,t.strokeStyle=l.color||n,t.lineWidth=l.thickness||2,t.setLineDash&&t.setLineDash(xt(l.dashType,l.thickness)),t.beginPath(),r&&0<l.thickness?(t.moveTo(a-o.thickness/2,Math.round((i+s)/2)-d),t.lineTo(e+o.thickness/2,Math.round((i+s)/2)-d)):0<l.thickness&&(t.moveTo(Math.round((e+a)/2)-d,i+o.thickness/2),t.lineTo(Math.round((e+a)/2)-d,s-o.thickness/2)),t.stroke(),t.strokeStyle=o.color||n,t.lineWidth=o.thickness||2,t.setLineDash&&t.setLineDash(xt(o.dashType,o.thickness)),t.beginPath(),r&&0<o.thickness?(t.moveTo(a-x,i),t.lineTo(a-x,s),t.moveTo(e+x,i),t.lineTo(e+x,s)):0<o.thickness&&(t.moveTo(e,i+x),t.lineTo(a,i+x),t.moveTo(e,s-x),t.lineTo(a,s-x)),t.stroke(),t.restore()}M(r,at),r.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var e,i,a,s,n=0;n<t.length;n++)e=t[n][0],i=t[n][1],a=t[n][2],s=(s=t[n][3])||!1,e.removeEventListener?e.removeEventListener(i,a,s):e.detachEvent&&e.detachEvent("on"+i,a);for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this._canvasJSContainer=null,this.container=null,this.canvas=null,this.overlaidCanvas=null,this.toolTip.container=null,this._preRenderCanvas=null,this._breaksCanvas=null,this._zoomButton=null,this._resetButton=null,this._menuButton=null,this._dropdownMenu=null,this._toolBar=null},r.prototype._updateOptions=function(){var e,t,i,a=this;for(i in this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==b[this.colorSet]?b[this.colorSet]:b.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new gt(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&rt,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled?(this._zoomButton||(e=!1,it(this._zoomButton=document.createElement("button")),tt(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,w(this._zoomButton,"touchstart",function(t){e=!0},this.allDOMEventHandlers),w(this._zoomButton,"click",function(){a.zoomEnabled?(a.zoomEnabled=!1,a.panEnabled=!0,tt(a,a._zoomButton,"zoom")):(a.zoomEnabled=!0,a.panEnabled=!1,tt(a,a._zoomButton,"pan")),a.render()},this.allDOMEventHandlers),w(this._zoomButton,"mouseover",function(){var t;e?e=!1:(t={backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"},$(0,a._zoomButton,t),navigator.userAgent.search("MSIE")<=0&&$(0,a._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),w(this._zoomButton,"mouseout",function(){var t;e||(t={backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"},$(0,a._zoomButton,t),navigator.userAgent.search("MSIE")<=0&&$(0,a._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers)),this._resetButton||(e=!1,it(this._resetButton=document.createElement("button")),tt(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),w(this._resetButton,"touchstart",function(t){e=!0},this.allDOMEventHandlers),w(this._resetButton,"click",function(){if(a.toolTip.hide(),a.zoomEnabled||a.panEnabled?(a.zoomEnabled=!0,a.panEnabled=!1,tt(a,a._zoomButton,"pan"),a._defaultCursor="default",a.overlaidCanvas.style.cursor=a._defaultCursor):(a.zoomEnabled=!1,a.panEnabled=!1),a.sessionVariables.axisX)for(var t=0;t<a.sessionVariables.axisX.length;t++)a.sessionVariables.axisX[t].newViewportMinimum=null,a.sessionVariables.axisX[t].newViewportMaximum=null;if(a.sessionVariables.axisX2)for(t=0;t<a.sessionVariables.axisX2.length;t++)a.sessionVariables.axisX2[t].newViewportMinimum=null,a.sessionVariables.axisX2[t].newViewportMaximum=null;if(a.sessionVariables.axisY)for(t=0;t<a.sessionVariables.axisY.length;t++)a.sessionVariables.axisY[t].newViewportMinimum=null,a.sessionVariables.axisY[t].newViewportMaximum=null;if(a.sessionVariables.axisY2)for(t=0;t<a.sessionVariables.axisY2.length;t++)a.sessionVariables.axisY2[t].newViewportMinimum=null,a.sessionVariables.axisY2[t].newViewportMaximum=null;a.resetOverlayedCanvas(),it(a._zoomButton,a._resetButton),a._dispatchRangeEvent("rangeChanging","reset"),a.render(),a._dispatchRangeEvent("rangeChanged","reset"),a.syncCharts&&a.syncCharts(null,null)},this.allDOMEventHandlers),w(this._resetButton,"mouseover",function(){var t;e||(t={backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"},$(0,a._resetButton,t),navigator.userAgent.search("MSIE")<=0&&$(0,a._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers),w(this._resetButton,"mouseout",function(){var t;e||(t={backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"},$(0,a._resetButton,t),navigator.userAgent.search("MSIE")<=0&&$(0,a._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=a._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(a._zoomButton.getAttribute("state")===a._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),et(a._zoomButton,a._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))):(this.zoomEnabled=!1,this.panEnabled=!1),this._menuButton?(this.exportEnabled?et:it)(this._menuButton):this.exportEnabled&&rt&&(e=!1,this._menuButton=document.createElement("button"),tt(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),w(this._menuButton,"touchstart",function(t){e=!0},this.allDOMEventHandlers),w(this._menuButton,"click",function(){"none"===a._dropdownMenu.style.display&&(a._dropDownCloseTime&&(new Date).getTime()-a._dropDownCloseTime.getTime()<=500||(a._dropdownMenu.style.display="block",a._menuButton.blur(),a._dropdownMenu.focus()))},this.allDOMEventHandlers,!0),w(this._menuButton,"mouseover",function(){e||($(0,a._menuButton,{backgroundColor:a.toolbar.backgroundColorOnHover,color:a.toolbar.fontColorOnHover}),navigator.userAgent.search("MSIE")<=0&&$(0,a._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))},this.allDOMEventHandlers,!0),w(this._menuButton,"mouseout",function(){e||($(0,a._menuButton,{backgroundColor:a.toolbar.backgroundColor,color:a.toolbar.fontColor}),navigator.userAgent.search("MSIE")<=0&&$(0,a._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))},this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&rt&&(e=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1),t=-1!==this.theme.indexOf("dark")?"black":"#888888",this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+t,a._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),w(this._dropdownMenu,"blur",function(){it(a._dropdownMenu),a._dropDownCloseTime=new Date},this.allDOMEventHandlers,!0),(t=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",t.innerHTML=this._cultureInfo.printText,t.style.backgroundColor=this.toolbar.backgroundColor,t.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(t),w(t,"touchstart",function(t){e=!0},this.allDOMEventHandlers),w(t,"mouseover",function(){e||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},this.allDOMEventHandlers,!0),w(t,"mouseout",function(){e||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)},this.allDOMEventHandlers,!0),w(t,"click",function(){a.print(),it(a._dropdownMenu)},this.allDOMEventHandlers,!0),(t=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",t.innerHTML=this._cultureInfo.saveJPGText,t.style.backgroundColor=this.toolbar.backgroundColor,t.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(t),w(t,"touchstart",function(t){e=!0},this.allDOMEventHandlers),w(t,"mouseover",function(){e||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},this.allDOMEventHandlers,!0),w(t,"mouseout",function(){e||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)},this.allDOMEventHandlers,!0),w(t,"click",function(){T(a.canvas,"jpeg",a.exportFileName),it(a._dropdownMenu)},this.allDOMEventHandlers,!0),(t=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",t.innerHTML=this._cultureInfo.savePNGText,t.style.backgroundColor=this.toolbar.backgroundColor,t.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(t),w(t,"touchstart",function(t){e=!0},this.allDOMEventHandlers),w(t,"mouseover",function(){e||(this.style.backgroundColor=a.toolbar.backgroundColorOnHover,this.style.color=a.toolbar.fontColorOnHover)},this.allDOMEventHandlers,!0),w(t,"mouseout",function(){e||(this.style.backgroundColor=a.toolbar.backgroundColor,this.style.color=a.toolbar.fontColor)},this.allDOMEventHandlers,!0),w(t,"click",function(){T(a.canvas,"png",a.exportFileName),it(a._dropdownMenu)},this.allDOMEventHandlers,!0)),"none"!==this._toolBar.style.display&&this._zoomButton&&(this.panEnabled?tt(a,a._zoomButton,"zoom"):tt(a,a._zoomButton,"pan"),a._resetButton.getAttribute("state")!==a._cultureInfo.resetText&&tt(a,a._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},r.prototype._updateSize=function(){return function(t){var e=0,i=0;if(this.options.width?e=this.width:this.width=e=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?i=this.height:this.height=i=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width===e*j&&this.canvas.height===i*j)return!1;for(var a=0;a<t.length;a++)K(t[a],e,i);return!0}.call(this,[this.canvas,this._preRenderCanvas,this.overlaidCanvas,this._eventManager.ghostCanvas])},r.prototype._initialize=function(){this.isNavigator=!yt(this.parent)&&!yt(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new ct(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new u(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.pieDoughnutClickHandler=null,this.funnelPyramidClickHandler=null,this._updateOptions(),this.animatedRender=rt&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new st(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var t=0,e=null;if(this.options.data){for(var i=0;i<this.options.data.length;i++)if(t++,!this.options.data[i].type||0<=r._supportedChartTypes.indexOf(this.options.data[i].type)){var a=new S(this,this.options.data[i],t-1,++this._eventManager.lastObjectId);"error"===a.type&&(a.linkedDataSeriesIndex=yt(this.options.data[i].linkedDataSeriesIndex)?i-1:this.options.data[i].linkedDataSeriesIndex,(a.linkedDataSeriesIndex<0||a.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof a.linkedDataSeriesIndex||"error"===this.options.data[a.linkedDataSeriesIndex].type)&&(a.linkedDataSeriesIndex=null)),null===a.name&&(a.name="DataSeries "+t),null===a.color?1<this.options.data.length?(a._colorSet=[this._selectedColorSet[a.index%this._selectedColorSet.length]],a.color=this._selectedColorSet[a.index%this._selectedColorSet.length]):"line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"candlestick"===a.type||"ohlc"===a.type||"waterfall"===a.type||"boxAndWhisker"===a.type?a._colorSet=[this._selectedColorSet[0]]:a._colorSet=this._selectedColorSet:a._colorSet=[a.color],null===a.markerSize&&(("line"===a.type||"stepLine"===a.type||"spline"===a.type||0<=a.type.toLowerCase().indexOf("area"))&&a.dataPoints&&a.dataPoints.length<this.width/16||"scatter"===a.type)&&(a.markerSize=8),"bubble"!==a.type&&"scatter"!==a.type||!a.dataPoints||a.dataPoints.some&&!a.dataPoints.some(function(t){return t.x})||a.dataPoints.sort(o),this.data.push(a);var s,n=a.axisPlacement,e=e||n;if("normal"===n?"xySwapped"===this.plotInfo.axisPlacement?s='You cannot combine "'+a.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?s='You cannot combine "'+a.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===n?"normal"===this.plotInfo.axisPlacement?s='You cannot combine "'+a.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?s='You cannot combine "'+a.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===n?"normal"===this.plotInfo.axisPlacement?s='You cannot combine "'+a.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?s='You cannot combine "'+a.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===n&&"none"===this.plotInfo.axisPlacement&&(s='You cannot combine "'+a.type+'" with pie chart'),s&&window.console)return void window.console.log(s)}for(i=0;i<this.data.length;i++){if("none"==e&&"error"===this.data[i].type&&window.console)return void window.console.log('You cannot combine "'+a.type+'" with error chart');"error"===this.data[i].type&&(this.data[i].axisPlacement=this.plotInfo.axisPlacement=e||"normal",this.data[i]._linkedSeries=null===this.data[i].linkedDataSeriesIndex?null:this.data[this.data[i].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},r._supportedChartTypes=dt(["line","stepLine","spline","column","area","stepArea","splineArea","bar","bubble","scatter","stackedColumn","stackedColumn100","stackedBar","stackedBar100","stackedArea","stackedArea100","candlestick","ohlc","boxAndWhisker","rangeColumn","error","rangeBar","rangeArea","rangeSplineArea","pie","doughnut","funnel","pyramid","waterfall"]),r.prototype.setLayout=function(){for(var t=this._plotAreaElements,e=0;e<this.data.length;e++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[e].axisYType||"primary"===this.data[e].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var i=0;i<this.options.axisY.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[i]=new _(this,"axisY",this.options.axisY[i],i,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[i]=new _(this,"axisY",this.options.axisY[i],i,"axisY","bottom"));this.data[e].axisY=this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0],this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new _(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new _(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[e].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(i=0;i<this.options.axisY2.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[i]=new _(this,"axisY2",this.options.axisY2[i],i,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[i]=new _(this,"axisY2",this.options.axisY2[i],i,"axisY","top"));this.data[e].axisY=this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0],this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new _(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new _(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[e].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[e]);if(!this.data[e].axisXType||"primary"===this.data[e].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(i=0;i<this.options.axisX.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[i]=new _(this,"axisX",this.options.axisX[i],i,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[i]=new _(this,"axisX",this.options.axisX[i],i,"axisX","left"));this.data[e].axisX=this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0],this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new _(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new _(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[e].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(i=0;i<this.options.axisX2.length;i++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[i]=new _(this,"axisX2",this.options.axisX2[i],i,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[i]=new _(this,"axisX2",this.options.axisX2[i],i,"axisX","right"));this.data[e].axisX=this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0],this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new _(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new _(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[e].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[e])}if(this.axisY){for(i=1;i<this.axisY.length;i++)void 0===this.axisY[i].options.gridThickness&&(this.axisY[i].gridThickness=0);for(i=0;i<this.axisY.length-1;i++)void 0===this.axisY[i].options.margin&&(this.axisY[i].margin=10)}if(this.axisY2){for(i=1;i<this.axisY2.length;i++)void 0===this.axisY2[i].options.gridThickness&&(this.axisY2[i].gridThickness=0);for(i=0;i<this.axisY2.length-1;i++)void 0===this.axisY2[i].options.margin&&(this.axisY2[i].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(i=0;i<this.axisX.length;i++)void 0===this.axisX[i].options.gridThickness&&(this.axisX[i].gridThickness=0);if(this.axisX2)for(i=0;i<this.axisX2.length;i++)void 0===this.axisX2[i].options.gridThickness&&(this.axisX2[i].gridThickness=0);this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0));var a,s,n=!1;if(0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(e=0;e<this._axes.length;e++)if(null!==this._axes[e].viewportMinimum||null!==this._axes[e].viewportMaximum){n=!0;break}if(n?(et(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(it(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),s=a=this,lt.fSDec&&a[G("`eeDwdouMhrudods")](G("e`u`@ohl`uhnoHuds`uhnoDoe"),function(){lt._fTWm&&lt._fTWm(s),s.axisX.length}),this._processData(),this.options.title&&(this.title=new pt(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(e=0;e<this.options.subtitles.length;e++){var o=new ut(this,this.options.subtitles[e],e);this.subtitles.push(o),o.dockInsidePlotArea?t.push(o):o.setLayout()}this.legend=new h(this,this.options.legend);for(e=0;e<this.data.length;e++)!this.data[e].showInLegend&&"pie"!==this.data[e].type&&"doughnut"!==this.data[e].type&&"funnel"!==this.data[e].type&&"pyramid"!==this.data[e].type||this.legend.dataSeries.push(this.data[e]);this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout();for(e=0;e<this._axes.length;e++)if(this._axes[e].scaleBreaks&&this._axes[e].scaleBreaks._appliedBreaks.length){rt?(this._breaksCanvas=Q(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=yt(this._preRenderCanvas)?Q(this.width,this.height):this._preRenderCanvas,this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||_.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},r.prototype.renderElements=function(){var t=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var e=0;e<this.subtitles.length;e++)this.subtitles[e].dockInsidePlotArea||this.subtitles[e].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)_.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(var i=0;i<t.length;i++)t[i].setLayout(),t[i].render();var a,s,n,o=[];this.animatedRender&&(a=Q(this.width,this.height)).getContext("2d").drawImage(this.canvas,0,0,this.width,this.height),r=this,J||(n=s=!1,void 0===g.Chart.creditHref?(r.creditHref=G("iuuqr;..b`ow`rkr/bnl."),r.creditText=G("B`ow`rKR/bnl")):(s=r.updateOption("creditText"),n=r.updateOption("creditHref")),r.creditHref&&r.creditText&&(r._creditLink||(r._creditLink=document.createElement("a"),r._creditLink.setAttribute("class","canvasjs-chart-credit"),r._creditLink.setAttribute("title","JavaScript Charts"),r._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(r.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),r._creditLink.setAttribute("tabIndex",-1),r._creditLink.setAttribute("target","_blank")),(0===r.renderCount||s||n)&&(r._creditLink.setAttribute("href",r.creditHref),r._creditLink.innerHTML=r.creditText),r._creditLink&&r.creditHref&&r.creditText?(r._creditLink.parentElement||r._canvasJSContainer.appendChild(r._creditLink),r._creditLink.style.top=r.height-14+"px"):r._creditLink.parentElement&&r._canvasJSContainer.removeChild(r._creditLink)));var l,r=this.ctx.miterLimit;this.ctx.miterLimit=3,rt&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height));for(e=0;e<this.plotInfo.plotTypes.length;e++)for(var h=this.plotInfo.plotTypes[e],d=0;d<h.plotUnits.length;d++){var x=h.plotUnits[d],c=null;x.targetCanvas=null,this.animatedRender&&(x.targetCanvas=Q(this.width,this.height),x.targetCanvasCtx=x.targetCanvas.getContext("2d"),l=x.targetCanvasCtx.miterLimit,x.targetCanvasCtx.miterLimit=3),"line"===x.type?c=this.renderLine(x):"stepLine"===x.type?c=this.renderStepLine(x):"spline"===x.type?c=this.renderSpline(x):"column"===x.type?c=this.renderColumn(x):"bar"===x.type?c=this.renderBar(x):"area"===x.type?c=this.renderArea(x):"stepArea"===x.type?c=this.renderStepArea(x):"splineArea"===x.type?c=this.renderSplineArea(x):"stackedColumn"===x.type?c=this.renderStackedColumn(x):"stackedColumn100"===x.type?c=this.renderStackedColumn100(x):"stackedBar"===x.type?c=this.renderStackedBar(x):"stackedBar100"===x.type?c=this.renderStackedBar100(x):"stackedArea"===x.type?c=this.renderStackedArea(x):"stackedArea100"===x.type?c=this.renderStackedArea100(x):"bubble"===x.type?c=this.renderBubble(x):"scatter"===x.type?c=this.renderScatter(x):"pie"===x.type||"doughnut"===x.type?this.renderPie(x):"funnel"===x.type||"pyramid"===x.type?c=this.renderFunnel(x):"candlestick"===x.type||"ohlc"===x.type?c=this.renderCandlestick(x):"rangeColumn"===x.type?c=this.renderRangeColumn(x):"error"===x.type?c=this.renderError(x):"rangeBar"===x.type?c=this.renderRangeBar(x):"rangeArea"===x.type?c=this.renderRangeArea(x):"rangeSplineArea"===x.type?c=this.renderRangeSplineArea(x):"waterfall"===x.type?c=this.renderWaterfall(x):"boxAndWhisker"===x.type&&(c=this.renderBoxAndWhisker(x));for(var p=0;p<x.dataSeriesIndexes.length;p++)this._dataInRenderedOrder.push(this.data[x.dataSeriesIndexes[p]]);this.animatedRender&&(x.targetCanvasCtx.miterLimit=l,c&&o.push(c))}this.ctx.miterLimit=r,this.animatedRender&&this._breaksCanvasCtx&&o.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(r=Q(this.width,this.height).getContext("2d"),o.push(this.renderIndexLabels(r)));var u=this;if(0<o.length)u.disableToolTip=!0,u._animator.animate(200,u.animationDuration,function(t){u.ctx.clearRect(0,0,u.width,u.height),u.ctx.drawImage(a,0,0,Math.floor(u.width*j),Math.floor(u.height*j),0,0,u.width,u.height);for(var e=0;e<o.length;e++)c=o[e],t<1&&void 0!==c.startTimePercent?t>=c.startTimePercent&&c.animationCallback(c.easingFunction(t-c.startTimePercent,0,1,1-c.startTimePercent),c):c.animationCallback(c.easingFunction(t,0,1,1),c);u.dispatchEvent("dataAnimationIterationEnd",{chart:u})},function(){o=[];for(var t=0;t<u.plotInfo.plotTypes.length;t++)for(var e=u.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++)e.plotUnits[i].targetCanvas=null;a=null,u.disableToolTip=!1});else{if(u._breaksCanvas)if(rt)u.plotArea.ctx.drawImage(u._breaksCanvas,0,0,this.width,this.height);else for(p=0;p<u._axes.length;p++)u._axes[p].createMask();0<u._indexLabels.length&&u.renderIndexLabels(),u.dispatchEvent("dataAnimationIterationEnd",{chart:u})}this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||it(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,m&&(u=this,setTimeout(function(){var t=document.getElementById("ghostCanvasCopy");t&&(K(t,u.width,u.height),t.getContext("2d").drawImage(u._eventManager.ghostCanvas,0,0))},2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx);for(p=0;p<this._axes.length;p++)this._axes[p].maskCanvas&&(delete this._axes[p].maskCanvas,delete this._axes[p].maskCtx)},r.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements()},r.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},r.prototype.categoriseDataSeries=function(){for(var t="",e=0;e<this.data.length;e++)if((t=this.data[e]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=r._supportedChartTypes.indexOf(t.type)){for(var i=null,a=!1,s=null,n=!1,o=0;o<this.plotInfo.plotTypes.length;o++)if(this.plotInfo.plotTypes[o].type===t.type){a=!0,i=this.plotInfo.plotTypes[o];break}a||(i={type:t.type,totalDataSeries:0,plotUnits:[]},this.plotInfo.plotTypes.push(i));for(o=0;o<i.plotUnits.length;o++)if(i.plotUnits[o].axisYType===t.axisYType&&i.plotUnits[o].axisXType===t.axisXType&&i.plotUnits[o].axisYIndex===t.axisYIndex&&i.plotUnits[o].axisXIndex===t.axisXIndex){n=!0,s=i.plotUnits[o];break}n||(s={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]},i.plotUnits.push(s)),i.totalDataSeries++,s.dataSeriesIndexes.push(e),t.plotUnit=s}for(e=0;e<this.plotInfo.plotTypes.length;e++)for(var i=this.plotInfo.plotTypes[e],l=0,o=0;o<i.plotUnits.length;o++)i.plotUnits[o].previousDataSeriesCount=l,l+=i.plotUnits[o].dataSeriesIndexes.length},r.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var i=e.dataPoints.length,a=0;a<i;a++)e.dataPointIds[a]=++this._eventManager.lastObjectId}},r.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],i=0;i<e.plotUnits.length;i++){var a=e.plotUnits[i];"line"===a.type||"stepLine"===a.type||"spline"===a.type||"column"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"bar"===a.type||"bubble"===a.type||"scatter"===a.type?this._processMultiseriesPlotUnit(a):"stackedColumn"===a.type||"stackedBar"===a.type||"stackedArea"===a.type?this._processStackedPlotUnit(a):"stackedColumn100"===a.type||"stackedBar100"===a.type||"stackedArea100"===a.type?this._processStacked100PlotUnit(a):"candlestick"===a.type||"ohlc"===a.type||"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type||"boxAndWhisker"===a.type?this._processMultiYPlotUnit(a):"waterfall"===a.type&&this._processSpecificPlotUnit(a)}this.calculateAutoBreaks()},r.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1))for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=0;o<t.dataSeriesIndexes.length;o++){var l,r,h,d,x,c=this.data[t.dataSeriesIndexes[o]],p=0,u=!1,m=!1;for("normal"!==c.axisPlacement&&"xySwapped"!==c.axisPlacement||(r=t.axisX.sessionVariables.newViewportMinimum||(this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0),h=t.axisX.sessionVariables.newViewportMaximum||(this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0)),(c.dataPoints[p].x&&c.dataPoints[p].x.getTime||"dateTime"===c.xValueType)&&(n=!0),p=0;p<c.dataPoints.length;p++)if(void 0===c.dataPoints[p].x&&(c.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),e=c.dataPoints[p].x.getTime?(n=!0,c.dataPoints[p].x.getTime()):c.dataPoints[p].x,i=c.dataPoints[p].y,e<s.min&&(s.min=e),e>s.max&&(s.max=e),i<a.min&&"number"==typeof i&&(a.min=i),i>a.max&&"number"==typeof i&&(a.max=i),0<p&&(t.axisX.logarithmic?((d=e/c.dataPoints[p-1].x)<1&&(d=1/d),s.minDiff>d&&1!==d&&(s.minDiff=d)):((d=e-c.dataPoints[p-1].x)<0&&(d*=-1),s.minDiff>d&&0!==d&&(s.minDiff=d)),null!==i&&null!==c.dataPoints[p-1].y&&(t.axisY.logarithmic?((x=i/c.dataPoints[p-1].y)<1&&(x=1/x),a.minDiff>x&&1!==x&&(a.minDiff=x)):((x=i-c.dataPoints[p-1].y)<0&&(x*=-1),a.minDiff>x&&0!==x&&(a.minDiff=x)))),e<r&&!u)null!==i&&(l=e);else if(!u&&(u=!0,0<p))p-=2;else{if(h<e&&!m)m=!0;else if(h<e&&m)continue;c.dataPoints[p].label&&(t.axisX.labels[e]=c.dataPoints[p].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),null!==i?(i<a.viewPortMin&&"number"==typeof i&&(a.viewPortMin=i),i>a.viewPortMax&&"number"==typeof i&&(a.viewPortMax=i)):s.viewPortMin===e&&l<e&&(s.viewPortMin=l)}c.axisX.valueType=c.xValueType=n?"dateTime":"number"}},r.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1)){for(var e,i,a,s=t.axisY.dataInfo,n=t.axisX.dataInfo,o=!1,l=[],r=[],h=1/0,d=-1/0,x=0;x<t.dataSeriesIndexes.length;x++){var c,p,u,m,g,b=this.data[t.dataSeriesIndexes[x]],y=0,v=!1,f=!1;for("normal"!==b.axisPlacement&&"xySwapped"!==b.axisPlacement||(p=t.axisX.sessionVariables.newViewportMinimum||(this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0),u=t.axisX.sessionVariables.newViewportMaximum||(this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0)),(b.dataPoints[y].x&&b.dataPoints[y].x.getTime||"dateTime"===b.xValueType)&&(o=!0),y=0;y<b.dataPoints.length;y++)if(void 0===b.dataPoints[y].x&&(b.dataPoints[y].x=y+(t.axisX.logarithmic?1:0)),e=b.dataPoints[y].x.getTime?(o=!0,b.dataPoints[y].x.getTime()):b.dataPoints[y].x,i=yt(b.dataPoints[y].y)?0:b.dataPoints[y].y,e<n.min&&(n.min=e),e>n.max&&(n.max=e),0<y&&(t.axisX.logarithmic?((m=e/b.dataPoints[y-1].x)<1&&(m=1/m),n.minDiff>m&&1!==m&&(n.minDiff=m)):((m=e-b.dataPoints[y-1].x)<0&&(m*=-1),n.minDiff>m&&0!==m&&(n.minDiff=m)),null!==i&&null!==b.dataPoints[y-1].y&&(t.axisY.logarithmic?0<i&&((g=i/b.dataPoints[y-1].y)<1&&(g=1/g),s.minDiff>g&&1!==g&&(s.minDiff=g)):((g=i-b.dataPoints[y-1].y)<0&&(g*=-1),s.minDiff>g&&0!==g&&(s.minDiff=g)))),e<p&&!v)null!==b.dataPoints[y].y&&(c=e);else if(!v&&(v=!0,0<y))y-=2;else{if(u<e&&!f)f=!0;else if(u<e&&f)continue;b.dataPoints[y].label&&(t.axisX.labels[e]=b.dataPoints[y].label),e<n.viewPortMin&&(n.viewPortMin=e),e>n.viewPortMax&&(n.viewPortMax=e),null!==b.dataPoints[y].y?(t.yTotals[e]=(t.yTotals[e]||0)+i,0<=i?l[e]?l[e]+=i:(l[e]=i,h=Math.min(i,h)):r[e]?r[e]+=i:(r[e]=i,d=Math.max(i,d))):n.viewPortMin===e&&c<e&&(n.viewPortMin=c)}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(s.dataPointYPositiveSums?(s.dataPointYPositiveSums.push.apply(s.dataPointYPositiveSums,l),s.dataPointYNegativeSums.push.apply(s.dataPointYPositiveSums,r)):(s.dataPointYPositiveSums=l,s.dataPointYNegativeSums=r)),b.axisX.valueType=b.xValueType=o?"dateTime":"number"}for(y in l)l.hasOwnProperty(y)&&(isNaN(y)||((a=l[y])<s.min&&(s.min=Math.min(a,h)),a>s.max&&(s.max=a),y<n.viewPortMin||y>n.viewPortMax||(a<s.viewPortMin&&(s.viewPortMin=Math.min(a,h)),a>s.viewPortMax&&(s.viewPortMax=a))));for(y in r)r.hasOwnProperty(y)&&(isNaN(y)||((a=r[y])<s.min&&(s.min=a),a>s.max&&(s.max=Math.max(a,d)),y<n.viewPortMin||y>n.viewPortMax||(a<s.viewPortMin&&(s.viewPortMin=a),a>s.viewPortMax&&(s.viewPortMax=Math.max(a,d)))))}},r.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1)){for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=!1,l=!1,r=[],h=0;h<t.dataSeriesIndexes.length;h++){var d,x,c,p,u,m=this.data[t.dataSeriesIndexes[h]],g=0,b=!1,y=!1;for("normal"!==m.axisPlacement&&"xySwapped"!==m.axisPlacement||(x=t.axisX.sessionVariables.newViewportMinimum||(this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0),c=t.axisX.sessionVariables.newViewportMaximum||(this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0)),(m.dataPoints[g].x&&m.dataPoints[g].x.getTime||"dateTime"===m.xValueType)&&(n=!0),g=0;g<m.dataPoints.length;g++)if(void 0===m.dataPoints[g].x&&(m.dataPoints[g].x=g+(t.axisX.logarithmic?1:0)),e=m.dataPoints[g].x.getTime?(n=!0,m.dataPoints[g].x.getTime()):m.dataPoints[g].x,i=yt(m.dataPoints[g].y)?null:m.dataPoints[g].y,e<s.min&&(s.min=e),e>s.max&&(s.max=e),0<g&&(t.axisX.logarithmic?((p=e/m.dataPoints[g-1].x)<1&&(p=1/p),s.minDiff>p&&1!==p&&(s.minDiff=p)):((p=e-m.dataPoints[g-1].x)<0&&(p*=-1),s.minDiff>p&&0!==p&&(s.minDiff=p)),yt(i)||null===m.dataPoints[g-1].y||(t.axisY.logarithmic?0<i&&((u=i/m.dataPoints[g-1].y)<1&&(u=1/u),a.minDiff>u&&1!==u&&(a.minDiff=u)):((u=i-m.dataPoints[g-1].y)<0&&(u*=-1),a.minDiff>u&&0!==u&&(a.minDiff=u)))),e<x&&!b)null!==i&&(d=e);else if(!b&&(b=!0,0<g))g-=2;else{if(c<e&&!y)y=!0;else if(c<e&&y)continue;m.dataPoints[g].label&&(t.axisX.labels[e]=m.dataPoints[g].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),null!==i?(t.yTotals[e]=(t.yTotals[e]||0)+i,0<=i?o=!0:i<0&&(l=!0),r[e]?r[e]+=Math.abs(i):r[e]=Math.abs(i)):s.viewPortMin===e&&d<e&&(s.viewPortMin=d)}m.axisX.valueType=m.xValueType=n?"dateTime":"number"}t.axisY.logarithmic?(a.max=yt(a.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(a.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),a.min=yt(a.viewPortMin)?1:Math.min(a.viewPortMin,1)):o&&!l?(a.max=yt(a.viewPortMax)?99:Math.max(a.viewPortMax,99),a.min=yt(a.viewPortMin)?1:Math.min(a.viewPortMin,1)):o&&l?(a.max=yt(a.viewPortMax)?99:Math.max(a.viewPortMax,99),a.min=yt(a.viewPortMin)?-99:Math.min(a.viewPortMin,-99)):!o&&l&&(a.max=yt(a.viewPortMax)?-1:Math.max(a.viewPortMax,-1),a.min=yt(a.viewPortMin)?-99:Math.min(a.viewPortMin,-99)),a.viewPortMin=a.min,a.viewPortMax=a.max,t.dataPointYSums=r}},r.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1))for(var e,i,a=t.axisY.dataInfo,s=t.axisX.dataInfo,n=!1,o=0;o<t.dataSeriesIndexes.length;o++){var l,r,h,d,x,c,p=this.data[t.dataSeriesIndexes[o]],u=0,m=!1,g=!1;for("normal"!==p.axisPlacement&&"xySwapped"!==p.axisPlacement||(h=t.axisX.sessionVariables.newViewportMinimum||(this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0),d=t.axisX.sessionVariables.newViewportMaximum||(this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0)),(p.dataPoints[u].x&&p.dataPoints[u].x.getTime||"dateTime"===p.xValueType)&&(n=!0),u=0;u<p.dataPoints.length;u++){if(void 0===p.dataPoints[u].x&&(p.dataPoints[u].x=u+(t.axisX.logarithmic?1:0)),e=p.dataPoints[u].x.getTime?(n=!0,p.dataPoints[u].x.getTime()):p.dataPoints[u].x,(i=p.dataPoints[u].y)&&i.length){for(var b=Math.min.apply(null,i),y=Math.max.apply(null,i),v=!0,f=0;f<i.length;f++)null===i.k&&(v=!1);v&&(m||(r=l),l=e)}if(e<s.min&&(s.min=e),e>s.max&&(s.max=e),b<a.min&&(a.min=b),y>a.max&&(a.max=y),0<u&&(t.axisX.logarithmic?((x=e/p.dataPoints[u-1].x)<1&&(x=1/x),s.minDiff>x&&1!==x&&(s.minDiff=x)):((x=e-p.dataPoints[u-1].x)<0&&(x*=-1),s.minDiff>x&&0!==x&&(s.minDiff=x)),i&&null!==i[0]&&p.dataPoints[u-1].y&&null!==p.dataPoints[u-1].y[0]&&(t.axisY.logarithmic?((c=i[0]/p.dataPoints[u-1].y[0])<1&&(c=1/c),a.minDiff>c&&1!==c&&(a.minDiff=c)):((c=i[0]-p.dataPoints[u-1].y[0])<0&&(c*=-1),a.minDiff>c&&0!==c&&(a.minDiff=c)))),!(e<h)||m)if(!m&&(m=!0,0<u))u-=2,l=r;else{if(d<e&&!g)g=!0;else if(d<e&&g)continue;if(p.dataPoints[u].label&&(t.axisX.labels[e]=p.dataPoints[u].label),e<s.viewPortMin&&(s.viewPortMin=e),e>s.viewPortMax&&(s.viewPortMax=e),s.viewPortMin===e&&i)for(f=0;f<i.length;f++)if(null===i[f]&&l<e){s.viewPortMin=l;break}null!==i?(b<a.viewPortMin&&(a.viewPortMin=b),y>a.viewPortMax&&(a.viewPortMax=y)):s.viewPortMin===e&&l<e&&(s.viewPortMin=l)}}p.axisX.valueType=p.xValueType=n?"dateTime":"number"}},r.prototype._processSpecificPlotUnit=function(g){var b=this;"waterfall"===g.type&&function(){if(g.dataSeriesIndexes&&!(g.dataSeriesIndexes.length<1))for(var t,e,i=g.axisY.dataInfo,a=g.axisX.dataInfo,s=!1,n=0;n<g.dataSeriesIndexes.length;n++){var o,l,r,h,d=b.data[g.dataSeriesIndexes[n]],x=0,c=!1,p=!1,u=0,m=0;for("normal"!==d.axisPlacement&&"xySwapped"!==d.axisPlacement||(o=g.axisX.sessionVariables.newViewportMinimum||(b.options.axisX&&b.options.axisX.viewportMinimum?b.options.axisX.viewportMinimum:b.options.axisX&&b.options.axisX.minimum?b.options.axisX.minimum:g.axisX.logarithmic?0:-1/0),l=g.axisX.sessionVariables.newViewportMaximum||(b.options.axisX&&b.options.axisX.viewportMaximum?b.options.axisX.viewportMaximum:b.options.axisX&&b.options.axisX.maximum?b.options.axisX.maximum:1/0)),(d.dataPoints[x].x&&d.dataPoints[x].x.getTime||"dateTime"===d.xValueType)&&(s=!0),x=0;x<d.dataPoints.length;x++)void 0!==d.dataPoints[x].isCumulativeSum&&!0===d.dataPoints[x].isCumulativeSum?(d.dataPointEOs[x].cumulativeSumYStartValue=0,d.dataPointEOs[x].cumulativeSum=0===x?0:d.dataPointEOs[x-1].cumulativeSum,d.dataPoints[x].y=0===x?0:d.dataPointEOs[x-1].cumulativeSum):void 0!==d.dataPoints[x].isIntermediateSum&&!0===d.dataPoints[x].isIntermediateSum?(d.dataPointEOs[x].cumulativeSumYStartValue=m,d.dataPointEOs[x].cumulativeSum=0===x?0:d.dataPointEOs[x-1].cumulativeSum,d.dataPoints[x].y=0===x?0:u,m=0===x?0:d.dataPointEOs[x-1].cumulativeSum,u=0):(e="number"!=typeof d.dataPoints[x].y?0:d.dataPoints[x].y,d.dataPointEOs[x].cumulativeSumYStartValue=0===x?0:d.dataPointEOs[x-1].cumulativeSum,d.dataPointEOs[x].cumulativeSum=0===x?e:d.dataPointEOs[x-1].cumulativeSum+e,u+=e);for(x=0;x<d.dataPoints.length;x++)if(void 0===d.dataPoints[x].x&&(d.dataPoints[x].x=x+(g.axisX.logarithmic?1:0)),t=d.dataPoints[x].x.getTime?(s=!0,d.dataPoints[x].x.getTime()):d.dataPoints[x].x,e=d.dataPoints[x].y,t<a.min&&(a.min=t),t>a.max&&(a.max=t),d.dataPointEOs[x].cumulativeSum<i.min&&(i.min=d.dataPointEOs[x].cumulativeSum),d.dataPointEOs[x].cumulativeSum>i.max&&(i.max=d.dataPointEOs[x].cumulativeSum),0<x&&(g.axisX.logarithmic?((r=t/d.dataPoints[x-1].x)<1&&(r=1/r),a.minDiff>r&&1!==r&&(a.minDiff=r)):((r=t-d.dataPoints[x-1].x)<0&&(r*=-1),a.minDiff>r&&0!==r&&(a.minDiff=r)),null!==e&&null!==d.dataPoints[x-1].y&&(g.axisY.logarithmic?((h=d.dataPointEOs[x].cumulativeSum/d.dataPointEOs[x-1].cumulativeSum)<1&&(h=1/h),i.minDiff>h&&1!==h&&(i.minDiff=h)):((h=d.dataPointEOs[x].cumulativeSum-d.dataPointEOs[x-1].cumulativeSum)<0&&(h*=-1),i.minDiff>h&&0!==h&&(i.minDiff=h)))),t<o&&!c)null!==e&&0;else if(!c&&(c=!0,0<x))x-=2;else{if(l<t&&!p)p=!0;else if(l<t&&p)continue;d.dataPoints[x].label&&(g.axisX.labels[t]=d.dataPoints[x].label),t<a.viewPortMin&&(a.viewPortMin=t),t>a.viewPortMax&&(a.viewPortMax=t),0<x&&(d.dataPointEOs[x-1].cumulativeSum<i.viewPortMin&&(i.viewPortMin=d.dataPointEOs[x-1].cumulativeSum),d.dataPointEOs[x-1].cumulativeSum>i.viewPortMax&&(i.viewPortMax=d.dataPointEOs[x-1].cumulativeSum)),d.dataPointEOs[x].cumulativeSum<i.viewPortMin&&(i.viewPortMin=d.dataPointEOs[x].cumulativeSum),d.dataPointEOs[x].cumulativeSum>i.viewPortMax&&(i.viewPortMax=d.dataPointEOs[x].cumulativeSum)}d.axisX.valueType=d.xValueType=s?"dateTime":"number"}}()},r.prototype.calculateAutoBreaks=function(){for(var t,f=this,e=!1,i=0;i<this._axes.length;i++)if(this._axes[i].scaleBreaks&&this._axes[i].scaleBreaks.autoCalculate&&1<=this._axes[i].scaleBreaks.maxNumberOfAutoBreaks){e=!0,this._axes[i].dataInfo._dataRanges=[];for(var a=0;a<100/Math.max(parseFloat(this._axes[i].scaleBreaks.collapsibleThreshold)||10,10);a++)this._axes[i].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(e){for(i=0;i<this.plotInfo.plotTypes.length;i++)for(var s=this.plotInfo.plotTypes[i],a=0;a<s.plotUnits.length;a++){var n=s.plotUnits[a];"line"===n.type||"stepLine"===n.type||"spline"===n.type||"column"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"bar"===n.type||"bubble"===n.type||"scatter"===n.type||"candlestick"===n.type||"ohlc"===n.type||"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"waterfall"===n.type||"error"===n.type||"boxAndWhisker"===n.type?function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1)){var e=t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks,i=t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(e||i)for(var a,s,n,o=t.axisY.dataInfo,l=t.axisX.dataInfo,r=l.min,h=l.max,d=o.min,x=o.max,c=l._dataRanges,p=o._dataRanges,u=0,m=0;m<t.dataSeriesIndexes.length;m++){var g,b=f.data[t.dataSeriesIndexes[m]];if(!(b.dataPoints.length<4))for(u=0;u<b.dataPoints.length;u++)if(e&&(g=(h+1-r)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,a=b.dataPoints[u].x.getTime?b.dataPoints[u].x.getTime():b.dataPoints[u].x,n=Math.floor((a-r)/g),a<c[n].min&&(c[n].min=a),a>c[n].max&&(c[n].max=a)),i){var y=(x+1-d)*Math.max(parseFloat(t.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((s="waterfall"===t.type?b.dataPointEOs[u].cumulativeSum:b.dataPoints[u].y)&&s.length)for(var v=0;v<s.length;v++)n=Math.floor((s[v]-d)/y),s[v]<p[n].min&&(p[n].min=s[v]),s[v]>p[n].max&&(p[n].max=s[v]);else yt(s)||(n=Math.floor((s-d)/y),s<p[n].min&&(p[n].min=s),s>p[n].max&&(p[n].max=s))}}}}(n):0<=n.type.indexOf("stacked")&&function(t){if(t.dataSeriesIndexes&&!(t.dataSeriesIndexes.length<1)&&t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var e,i=t.axisX.dataInfo,a=i.min,s=i.max,n=i._dataRanges,o=0,l=0;l<t.dataSeriesIndexes.length;l++){var r=f.data[t.dataSeriesIndexes[l]];if(!(r.dataPoints.length<4))for(o=0;o<r.dataPoints.length;o++){var h=(s+1-a)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100;e=r.dataPoints[o].x.getTime?r.dataPoints[o].x.getTime():r.dataPoints[o].x,h=Math.floor((e-a)/h),e<n[h].min&&(n[h].min=e),e>n[h].max&&(n[h].max=e)}}}(n)}for(i=0;i<this._axes.length;i++)if(this._axes[i].dataInfo._dataRanges){var o,l,r,h=this._axes[i].dataInfo.min,d=(this._axes[i].dataInfo.max+1-h)*Math.max(parseFloat(this._axes[i].scaleBreaks.collapsibleThreshold)||10,10)/100,x=this._axes[i].dataInfo._dataRanges,c=[];if(this._axes[i].dataInfo.dataPointYPositiveSums){var p=this._axes[i].dataInfo.dataPointYPositiveSums,u=x;for(a in p)p.hasOwnProperty(a)&&(isNaN(a)||yt(m=p[a])||(m<u[g=Math.floor((m-h)/d)].min&&(u[g].min=m),m>u[g].max&&(u[g].max=m)));delete this._axes[i].dataInfo.dataPointYPositiveSums}if(this._axes[i].dataInfo.dataPointYNegativeSums){var m,g,b=this._axes[i].dataInfo.dataPointYNegativeSums,u=x;for(a in b)b.hasOwnProperty(a)&&(isNaN(a)||yt(m=-1*b[a])||(m<u[g=Math.floor((m-h)/d)].min&&(u[g].min=m),m>u[g].max&&(u[g].max=m)));delete this._axes[i].dataInfo.dataPointYNegativeSums}for(a=0;a<x.length-1;a++)if(l=x[a].max,isFinite(l))for(;a<x.length-1;){if(o=x[a+1].min,isFinite(o)){d<(r=o-l)&&c.push({diff:r,start:l,end:o});break}a++}if(this._axes[i].scaleBreaks.customBreaks)for(a=0;a<this._axes[i].scaleBreaks.customBreaks.length;a++)for(var y=0;y<c.length;y++)(this._axes[i].scaleBreaks.customBreaks[a].startValue<=c[y].start&&c[y].start<=this._axes[i].scaleBreaks.customBreaks[a].endValue||this._axes[i].scaleBreaks.customBreaks[a].startValue<=c[y].start&&c[y].start<=this._axes[i].scaleBreaks.customBreaks[a].endValue||c[y].start<=this._axes[i].scaleBreaks.customBreaks[a].startValue&&this._axes[i].scaleBreaks.customBreaks[a].startValue<=c[y].end||c[y].start<=this._axes[i].scaleBreaks.customBreaks[a].endValue&&this._axes[i].scaleBreaks.customBreaks[a].endValue<=c[y].end)&&(c.splice(y,1),y--);c.sort(function(t,e){return e.diff-t.diff});for(a=0;a<Math.min(c.length,this._axes[i].scaleBreaks.maxNumberOfAutoBreaks);a++)t=function(t,e,i,a){{var s;return a?((s=Math.pow(Math.min(i*t/e,e/t),.2))<=1&&(s=Math.pow(t<1?1/t:Math.min(e/t,t),.25)),{startValue:t*s,endValue:e/s}):((s=.2*Math.min(i-e+t,e-t))<=0&&(s=.25*Math.min(e-t,Math.abs(t))),{startValue:t+s,endValue:e-s})}}(c[a].start,c[a].end,this._axes[i].logarithmic?this._axes[i].dataInfo.max/this._axes[i].dataInfo.min:this._axes[i].dataInfo.max-this._axes[i].dataInfo.min,this._axes[i].logarithmic),this._axes[i].scaleBreaks.autoBreaks.push(new v(this,"autoBreaks",t,a,++this._eventManager.lastObjectId,this._axes[i].scaleBreaks)),this._axes[i].scaleBreaks._appliedBreaks.push(this._axes[i].scaleBreaks.autoBreaks[this._axes[i].scaleBreaks.autoBreaks.length-1]);this._axes[i].scaleBreaks._appliedBreaks.sort(function(t,e){return t.startValue-e.startValue})}}},r.prototype.getDataPointAtXY=function(t,e,i){i=i||!1;for(var a=[],s=this._dataInRenderedOrder.length-1;0<=s;s--){var n=null;(n=this._dataInRenderedOrder[s].getDataPointAtXY(t,e,i))&&a.push(n)}for(var o=null,l=!1,r=0;r<a.length;r++)if("line"===a[r].dataSeries.type||"stepLine"===a[r].dataSeries.type||"area"===a[r].dataSeries.type||"stepArea"===a[r].dataSeries.type){var h=z("markerSize",a[r].dataPoint,a[r].dataSeries)||8;if(a[r].distance<=h/2){l=!0;break}}for(r=0;r<a.length;r++)l&&"line"!==a[r].dataSeries.type&&"stepLine"!==a[r].dataSeries.type&&"area"!==a[r].dataSeries.type&&"stepArea"!==a[r].dataSeries.type||(!o||a[r].distance<=o.distance)&&(o=a[r]);return o},r.prototype.getObjectAtXY=function(t,e,i){var a=null,i=this.getDataPointAtXY(t,e,i=i||!1);if(i)a=i.dataSeries.dataPointIds[i.dataPointIndex];else if(rt)a=W(t,e,this._eventManager.ghostCtx);else for(var s=0;s<this.legend.items.length;s++){var n=this.legend.items[s];t>=n.x1&&t<=n.x2&&e>=n.y1&&e<=n.y2&&(a=n.id)}return a},r.prototype.getAutoFontSize=A,r.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},r.prototype.clearCanvas=C,r.prototype.attachEvent=function(t){this._events.push(t)},r.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],i=t.changedTouches,a=i?i[0]:t,s=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=D(a),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":var n=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0,e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||n<300?["mouseup","click"]:["mouseup"];break;default:return}if(!(i&&1<i.length)){(s=D(a)).time=new Date;try{var o=s.y-this._lastTouchData.y,n=(s.x,this._lastTouchData.x,s.time-this._lastTouchData.time);(1<Math.abs(o)&&this._lastTouchData.scroll||5<Math.abs(o)&&n<250)&&(this._lastTouchData.scroll=!0)}catch(t){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)return this.isDrag&&this.resetOverlayedCanvas(),void(this.isDrag=!1);for(var l=0;l<e.length;l++){var r=e[l],h=document.createEvent("MouseEvent");h.initMouseEvent(r,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(h),(!yt(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<n||"click"===r)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault())}}}},r.prototype._dispatchRangeEvent=function(t,e){var i={};i.chart=this,i.type=t,i.trigger=e;var a=[];this.axisX&&0<this.axisX.length&&a.push("axisX"),this.axisX2&&0<this.axisX2.length&&a.push("axisX2"),this.axisY&&0<this.axisY.length&&a.push("axisY"),this.axisY2&&0<this.axisY2.length&&a.push("axisY2");for(var s=0;s<a.length;s++)if(yt(i[a[s]])&&(i[a[s]]=[]),"axisY"===a[s])for(var n=0;n<this.axisY.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if("axisY2"===a[s])for(n=0;n<this.axisY2.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if("axisX"===a[s])for(n=0;n<this.axisX.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});else if("axisX2"===a[s])for(n=0;n<this.axisX2.length;n++)i[a[s]].push({viewportMinimum:this[a[s]][n].sessionVariables.newViewportMinimum,viewportMaximum:this[a[s]][n].sessionVariables.newViewportMaximum});this.dispatchEvent(t,i,this)},r.prototype._mouseEventHandler=function(t){void 0===t.target&&t.srcElement&&(t.target=t.srcElement);var e,i,a=D(t),s=t.type;if(t||window.event,t.which?o=3==t.which:t.button&&(o=2==t.button),r.capturedEventParam&&(e=r.capturedEventParam,i=e.bounds,"mouseup"===s&&(r.capturedEventParam=null,e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",e.chart._mouseEventHandler,!1)),e.hasOwnProperty(s)&&("mouseup"!==s||e.chart.overlaidCanvas.releaseCapture?t.target!==e.chart.overlaidCanvas&&rt||e[s].call(e.context,a.x,a.y):t.target!==e.chart.overlaidCanvas&&(e.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),m&&window.console&&(window.console.log(s+" --\x3e x: "+a.x+"; y:"+a.y),o&&window.console.log(t.which),"mouseup"===s&&window.console.log("mouseup")),!o){if(!r.capturedEventParam&&this._events){for(var n=0;n<this._events.length;n++)if(this._events[n].hasOwnProperty(s)){if(e=this._events[n],i=e.bounds,a.x>=i.x1&&a.x<=i.x2&&a.y>=i.y1&&a.y<=i.y2){e[s].call(e.context,a.x,a.y),"mousedown"===s&&!0===e.capture?(r.capturedEventParam=e,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===s&&(e.chart.overlaidCanvas.releaseCapture?e.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}e=null}e&&e.cursor?t.target.style.cursor=e.cursor:t.target.style.cursor=this._defaultCursor}var o=this.plotArea;(a.x<o.x1||a.x>o.x2||a.y<o.y1||a.y>o.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}},r.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},r.prototype._plotAreaMouseUp=function(t,e){this.plotArea;if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var i,a=e-this.dragStartPoint.y,s=t-this.dragStartPoint.x,n=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),l=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement&&(i=o,o=n,n=i),this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(var r=0,h=0;h<this._axes.length;h++){var d=this._axes[h];d.logarithmic?d.viewportMinimum<d.minimum?(r=d.minimum/d.viewportMinimum,d.sessionVariables.newViewportMinimum=d.viewportMinimum*r,d.sessionVariables.newViewportMaximum=d.viewportMaximum*r,l=!0):d.viewportMaximum>d.maximum&&(r=d.viewportMaximum/d.maximum,d.sessionVariables.newViewportMinimum=d.viewportMinimum/r,d.sessionVariables.newViewportMaximum=d.viewportMaximum/r,l=!0):d.viewportMinimum<d.minimum?(r=d.minimum-d.viewportMinimum,d.sessionVariables.newViewportMinimum=d.viewportMinimum+r,d.sessionVariables.newViewportMaximum=d.viewportMaximum+r,l=!0):d.viewportMaximum>d.maximum&&(r=d.viewportMaximum-d.maximum,d.sessionVariables.newViewportMinimum=d.viewportMinimum-r,d.sessionVariables.newViewportMaximum=d.viewportMaximum-r,l=!0)}else if((!n||2<Math.abs(s))&&(!o||2<Math.abs(a))&&this.zoomEnabled){if(!this.dragStartPoint)return;o={x1:n?this.dragStartPoint.x:this.plotArea.x1,y1:o?this.dragStartPoint.y:this.plotArea.y1,x2:n?t:this.plotArea.x2,y2:o?e:this.plotArea.y2};2<Math.abs(o.x1-o.x2)&&2<Math.abs(o.y1-o.y2)&&this._zoomPanToSelectedRegion(o.x1,o.y1,o.x2,o.y2)&&(l=!0)}l&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),l&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(et(this._zoomButton,this._resetButton),tt(this,this._zoomButton,"pan"),tt(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(var x=0;x<this.axisX.length;x++)this.axisX[x].crosshair&&this.axisX[x].crosshair.enabled&&this.axisX[x].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(x=0;x<this.axisX2.length;x++)this.axisX2[x].crosshair&&this.axisX2[x].crosshair.enabled&&this.axisX2[x].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(x=0;x<this.axisY.length;x++)this.axisY[x].crosshair&&this.axisY[x].crosshair.enabled&&this.axisY[x].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(x=0;x<this.axisY2.length;x++)this.axisY2[x].crosshair&&this.axisY2[x].crosshair.enabled&&this.axisY2[x].renderCrosshair(t,e)}},r.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var i,a,s,n,o=null,l=0<=this.zoomType.indexOf("x"),r=0<=this.zoomType.indexOf("y"),h=this;"xySwapped"===this.plotInfo.axisPlacement&&(n=r,r=l,l=n),i=this.dragStartPoint.x-t,a=this.dragStartPoint.y-e,2<Math.abs(i)&&Math.abs(i)<8&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,e),(!l||2<Math.abs(i)||!r||2<Math.abs(a))&&(this.panEnabled||this.zoomEnabled)&&(this.panEnabled?(o={x1:l?this.plotArea.x1+i:this.plotArea.x1,y1:r?this.plotArea.y1+a:this.plotArea.y1,x2:l?this.plotArea.x2+i:this.plotArea.x2,y2:r?this.plotArea.y2+a:this.plotArea.y2},clearTimeout(h._panTimerId),h._panTimerId=setTimeout((x=o.x1,c=o.y1,p=o.x2,u=o.y2,function(){h._zoomPanToSelectedRegion(x,c,p,u,!0)&&(h._dispatchRangeEvent("rangeChanging","pan"),h.render(),h._dispatchRangeEvent("rangeChanged","pan"),h.dragStartPoint.x=t,h.dragStartPoint.y=e)}),0)):this.zoomEnabled&&(this.resetOverlayedCanvas(),s=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896",o={x1:l?this.dragStartPoint.x:this.plotArea.x1,y1:r?this.dragStartPoint.y:this.plotArea.y1,x2:l?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,y2:r?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1},this.validateRegion(o.x1,o.y1,l?t:this.plotArea.x2-this.plotArea.x1,r?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(o.x1,o.y1,o.x2,o.y2),this.overlaidCanvasCtx.globalAlpha=s))}else if(this.toolTip.mouseMoveHandler(t,e),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(var d=0;d<this.axisX.length;d++)this.axisX[d].crosshair&&this.axisX[d].crosshair.enabled&&this.axisX[d].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(d=0;d<this.axisX2.length;d++)this.axisX2[d].crosshair&&this.axisX2[d].crosshair.enabled&&this.axisX2[d].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(d=0;d<this.axisY.length;d++)this.axisY[d].crosshair&&this.axisY[d].crosshair.enabled&&this.axisY[d].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(d=0;d<this.axisY2.length;d++)this.axisY2[d].crosshair&&this.axisY2[d].crosshair.enabled&&this.axisY2[d].renderCrosshair(t,e)}var x,c,p,u},r.prototype._zoomPanToSelectedRegion=function(t,e,i,a,s){var s=this.validateRegion(t,e,i,a,s),n=s.axesWithValidRange,o=s.axesRanges;if(s.isValid)for(var l=0;l<n.length;l++){var r=n[l],h=o[l];r.setViewPortRange(h.val1,h.val2),this.syncCharts&&this.syncCharts(h.val1,h.val2)}return s.isValid},r.prototype.validateRegion=function(t,e,i,a,s){s=s||!1;for(var n=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),l=!1,r=[],h=[],d=[],x=0;x<this._axes.length;x++)("axisX"===this._axes[x].type&&n||"axisY"===this._axes[x].type&&o)&&h.push(this._axes[x]);for(var c=0;c<h.length;c++){var p=h[c],u=!1,m=p.convertPixelToValue({x:t,y:e}),g=p.convertPixelToValue({x:i,y:a});if(g<m&&(y=g,g=m,m=y),p.scaleBreaks)for(var b=0;!u&&b<p.scaleBreaks._appliedBreaks.length;b++)u=p.scaleBreaks._appliedBreaks[b].startValue<=m&&p.scaleBreaks._appliedBreaks[b].endValue>=g;if(isFinite(p.dataInfo.minDiff)){var y=p.getApparentDifference(m,g,null,!0);if(u||!(this.panEnabled&&p.scaleBreaks&&p.scaleBreaks._appliedBreaks.length)&&(p.logarithmic&&y<Math.pow(p.dataInfo.minDiff,3)||!p.logarithmic&&y<3*Math.abs(p.dataInfo.minDiff))||m<p.minimum||g>p.maximum){if(!s){l=!1;break}}else r.push(p),d.push({val1:m,val2:g}),l=!0}}return{isValid:l,axesWithValidRange:r,axesRanges:d}},r.prototype.preparePlotArea=function(){var t,e,i=this.plotArea;!rt&&(0<i.x1||0<i.y1)&&i.ctx.translate(i.x1,i.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])?(t=(this.axisX[0]?this.axisX:this.axisX2)[0].lineCoordinates,this.axisY&&0<this.axisY.length&&this.axisY[0]&&(e=this.axisY[0],i.x1=(t.x1<t.x2?t:e.lineCoordinates).x1,i.y1=(t.y1<e.lineCoordinates.y1?t:e.lineCoordinates).y1,i.x2=(t.x2>e.lineCoordinates.x2?t:e.lineCoordinates).x2,i.y2=(t.y2>t.y1?t:e.lineCoordinates).y2,i.width=i.x2-i.x1,i.height=i.y2-i.y1),this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(e=this.axisY2[0],i.x1=(t.x1<t.x2?t:e.lineCoordinates).x1,i.y1=(t.y1<e.lineCoordinates.y1?t:e.lineCoordinates).y1,i.x2=(t.x2>e.lineCoordinates.x2?t:e.lineCoordinates).x2,i.y2=(t.y2>t.y1?t:e.lineCoordinates).y2,i.width=i.x2-i.x1,i.height=i.y2-i.y1)):(e=this.layoutManager.getFreeSpace(),i.x1=e.x1,i.x2=e.x2,i.y1=e.y1,i.y2=e.y2,i.width=e.width,i.height=e.height),rt||(i.canvas.width=i.width,i.canvas.height=i.height,i.canvas.style.left=i.x1+"px",i.canvas.style.top=i.y1+"px",(0<i.x1||0<i.y1)&&i.ctx.translate(-i.x1,-i.y1)),i.layoutManager=new st(i.x1,i.y1,i.x2,i.y2,2)},r.prototype.renderIndexLabels=function(t){for(var e=t||this.plotArea.ctx,i=this.plotArea,a=0,s=0,n=0,o=0,l=0,r=0,h=0,d=0,x=0,c=0;c<this._indexLabels.length;c++){var p,u,m=(W=this._indexLabels[c]).chartType.toLowerCase(),g=z("indexLabelFontColor",W.dataPoint,W.dataSeries),b=z("indexLabelFontSize",W.dataPoint,W.dataSeries),y=z("indexLabelFontFamily",W.dataPoint,W.dataSeries),v=z("indexLabelFontStyle",W.dataPoint,W.dataSeries),f=z("indexLabelFontWeight",W.dataPoint,W.dataSeries),M=z("indexLabelBackgroundColor",W.dataPoint,W.dataSeries),k=z("indexLabelMaxWidth",W.dataPoint,W.dataSeries),T=z("indexLabelWrap",W.dataPoint,W.dataSeries),P=z("indexLabelLineDashType",W.dataPoint,W.dataSeries),w=z("indexLabelLineColor",W.dataPoint,W.dataSeries),C=yt(W.dataPoint.indexLabelLineThickness)?yt(W.dataSeries.options.indexLabelLineThickness)?0:W.dataSeries.options.indexLabelLineThickness:W.dataPoint.indexLabelLineThickness,S=0<C?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,A={percent:null,total:null},_=null;(0<=W.dataSeries.type.indexOf("stacked")||"pie"===W.dataSeries.type||"doughnut"===W.dataSeries.type)&&(A=this.getPercentAndTotal(W.dataSeries,W.dataPoint)),(W.dataSeries.indexLabelFormatter||W.dataPoint.indexLabelFormatter)&&(_={chart:this,dataSeries:W.dataSeries,dataPoint:W.dataPoint,index:W.indexKeyword,total:A.total,percent:A.percent});var B=W.dataPoint.indexLabelFormatter?W.dataPoint.indexLabelFormatter(_):W.dataPoint.indexLabel?this.replaceKeywordsWithValue(W.dataPoint.indexLabel,W.dataPoint,W.dataSeries,null,W.indexKeyword):W.dataSeries.indexLabelFormatter?W.dataSeries.indexLabelFormatter(_):W.dataSeries.indexLabel?this.replaceKeywordsWithValue(W.dataSeries.indexLabel,W.dataPoint,W.dataSeries,null,W.indexKeyword):null;if(null!==B&&""!==B){var F=z("indexLabelPlacement",W.dataPoint,W.dataSeries),L=z("indexLabelOrientation",W.dataPoint,W.dataSeries),I=W.direction,V=W.dataSeries.axisX,A=W.dataSeries.axisY,_=!1,v=new vt(e,{x:0,y:0,maxWidth:k||.5*this.width,maxHeight:T?5*b:1.5*b,angle:"horizontal"===L?0:-90,text:B,padding:0,backgroundColor:M,horizontalAlign:"left",fontSize:b,fontFamily:y,fontWeight:f,fontColor:g,fontStyle:v,textBaseline:"top"});v.measureText();if(W.dataSeries.indexLabelMaxWidth=v.maxWidth,"stackedarea100"===m){if(W.point.x<i.x1||W.point.x>i.x2||W.point.y<i.y1-1||W.point.y>i.y2+1)continue}else if("rangearea"===m||"rangesplinearea"===m){if(W.dataPoint.x<V.viewportMinimum||W.dataPoint.x>V.viewportMaximum||Math.max.apply(null,W.dataPoint.y)<A.viewportMinimum||Math.min.apply(null,W.dataPoint.y)>A.viewportMaximum)continue}else if(0<=m.indexOf("line")||0<=m.indexOf("area")||0<=m.indexOf("bubble")||0<=m.indexOf("scatter")){if(W.dataPoint.x<V.viewportMinimum||W.dataPoint.x>V.viewportMaximum||W.dataPoint.y<A.viewportMinimum||W.dataPoint.y>A.viewportMaximum)continue}else if(0<=m.indexOf("column")||"waterfall"===m||"error"===m&&!W.axisSwapped){if(W.dataPoint.x<V.viewportMinimum||W.dataPoint.x>V.viewportMaximum||W.bounds.y1>i.y2||W.bounds.y2<i.y1)continue}else if(0<=m.indexOf("bar")||"error"===m){if(W.dataPoint.x<V.viewportMinimum||W.dataPoint.x>V.viewportMaximum||W.bounds.x1>i.x2||W.bounds.x2<i.x1)continue}else if("candlestick"===m||"ohlc"===m){if(W.dataPoint.x<V.viewportMinimum||W.dataPoint.x>V.viewportMaximum||Math.max.apply(null,W.dataPoint.y)<A.viewportMinimum||Math.min.apply(null,W.dataPoint.y)>A.viewportMaximum)continue}else if(W.dataPoint.x<V.viewportMinimum||W.dataPoint.x>V.viewportMaximum)continue;r=h=2,"horizontal"===L?(d=v.width,x=v.height):(x=v.width,d=v.height),"normal"===this.plotInfo.axisPlacement?(0<=m.indexOf("line")||0<=m.indexOf("area")?(F="auto",h=4):0<=m.indexOf("stacked")?"auto"===F&&(F="inside"):"bubble"!==m&&"scatter"!==m||(F="inside"),p=W.point.x-d/2,"inside"!==F?(s=i.y1,n=i.y2,0<I?(u=W.point.y-x-h-S)<s&&(_=(u="auto"===F?Math.max(W.point.y,s)+h+S:s+h+S)+x>W.point.y):n-x-h-S<(u=W.point.y+h+S)&&(_=(u="auto"===F?Math.min(W.point.y,n)-x-h-S:n-x-h-S)<W.point.y)):(s=Math.max(W.bounds.y1,i.y1),n=Math.min(W.bounds.y2,i.y2),a=0<=m.indexOf("range")||"error"===m?0<I?Math.max(W.bounds.y1,i.y1)+x/2+h:Math.min(W.bounds.y2,i.y2)-x/2-h:(Math.max(W.bounds.y1,i.y1)+Math.min(W.bounds.y2,i.y2))/2,0<I?(u=Math.max(W.point.y,a)-x/2)<s&&("bubble"===m||"scatter"===m)&&(u=Math.max(W.point.y-x-h,i.y1+h)):n-x-h<(u=Math.min(W.point.y,a)-x/2)&&("bubble"===m||"scatter"===m)&&(u=Math.min(W.point.y+h,i.y2-x-h)),u=Math.min(u,n-x))):(0<=m.indexOf("line")||0<=m.indexOf("area")||0<=m.indexOf("scatter")?(F="auto",r=4):0<=m.indexOf("stacked")?"auto"===F&&(F="inside"):"bubble"===m&&(F="inside"),u=W.point.y-x/2,"inside"!==F?(o=i.x1,l=i.x2,I<0?(p=W.point.x-d-r-S)<o&&(_=(p="auto"===F?Math.max(W.point.x,o)+r+S:o+r+S)+d>W.point.x):l-d-r-S<(p=W.point.x+r+S)&&(_=(p="auto"===F?Math.min(W.point.x,l)-d-r-S:l-d-r-S)<W.point.x)):(o=Math.max(W.bounds.x1,i.x1),l=Math.min(W.bounds.x2,i.x2),a=0<=m.indexOf("range")||"error"===m?I<0?Math.max(W.bounds.x1,i.x1)+d/2+r:Math.min(W.bounds.x2,i.x2)-d/2-r:(Math.max(W.bounds.x1,i.x1)+Math.min(W.bounds.x2,i.x2))/2,p=I<0?Math.max(W.point.x,a)-d/2:Math.min(W.point.x,a)-d/2,p=Math.max(p,o))),"vertical"===L&&(u+=x),v.x=p,v.y=u,v.render(!0),C&&"inside"!==F&&(m.indexOf("bar")<0&&("error"!==m||!W.axisSwapped)&&W.point.x>i.x1&&W.point.x<i.x2||!_)&&(m.indexOf("column")<0&&("error"!==m||W.axisSwapped)&&W.point.y>i.y1&&W.point.y<i.y2||!_)&&(e.lineWidth=C,e.strokeStyle=w||"gray",e.setLineDash&&e.setLineDash(xt(P,C)),e.beginPath(),e.moveTo(W.point.x,W.point.y),0<=m.indexOf("bar")||"error"===m&&W.axisSwapped?e.lineTo(p+(0<W.direction?0:d),u+("horizontal"===L?x:-x)/2):0<=m.indexOf("column")||"error"===m&&!W.axisSwapped?e.lineTo(p+d/2,u+((0<W.direction?x:-x)+("horizontal"===L?x:-x))/2):e.lineTo(p+d/2,u+((u<W.point.y?x:-x)+("horizontal"===L?x:-x))/2),e.stroke())}}for(t={source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0,startTimePercent:.7},c=0;c<this._indexLabels.length;c++){var W,M=z("indexLabelBackgroundColor",(W=this._indexLabels[c]).dataPoint,W.dataSeries);W.dataSeries.indexLabelBackgroundColor=yt(M)?rt?"transparent":null:M}return t},r.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx;i.save();var s=this.plotArea;i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip();for(var n,o=[],l=0;l<t.dataSeriesIndexes.length;l++){var r=t.dataSeriesIndexes[l],h=this.data[r];i.lineWidth=h.lineThickness;var d,x,c=h.dataPoints,p="solid";i.setLineDash&&(d=xt(h.nullDataLineDashType,h.lineThickness),x=xt(p=h.lineDashType,h.lineThickness),i.setLineDash(x));var u=h.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:r};u=H(u);a.strokeStyle=u,a.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var u=h._colorSet,m=h.lineColor=h.options.lineColor||u[0],g=m;i.strokeStyle=m;var b=!0,y=0;if(i.beginPath(),0<c.length){for(var v,f,M,k,T=!1,y=0;y<c.length;y++)(k=c[y].x.getTime?c[y].x.getTime():c[y].x)<t.axisX.dataInfo.viewPortMin||k>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!T)||("number"==typeof c[y].y?(v=t.axisX.convertValueToPixel(k),f=t.axisY.convertValueToPixel(c[y].y),M=h.dataPointIds[y],this._eventManager.objectMap[M]={id:M,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:y,x1:v,y1:f},b||T?(!b&&h.connectNullData?(i.setLineDash&&(h.options.nullDataLineDashType||p===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(n.x,n.y),p=h.nullDataLineDashType,i.setLineDash(d)),i.lineTo(v,f),rt&&a.lineTo(v,f)):(i.beginPath(),i.moveTo(v,f),rt&&(a.beginPath(),a.moveTo(v,f))),T=b=!1):(i.lineTo(v,f),rt&&a.lineTo(v,f),y%500==0&&(i.stroke(),i.beginPath(),i.moveTo(v,f),rt&&(a.stroke(),a.beginPath(),a.moveTo(v,f)))),n={x:v,y:f},y<c.length-1&&(g!==(c[y].lineColor||m)||p!==(c[y].lineDashType||h.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(v,f),g=c[y].lineColor||m,i.strokeStyle=g,i.setLineDash&&(c[y].lineDashType?(p=c[y].lineDashType,i.setLineDash(xt(p,h.lineThickness))):(p=h.lineDashType,i.setLineDash(x)))),(0<c[y].markerSize||0<h.markerSize)&&((k=h.getMarkerProperties(y,v,f,i)).color,o.push(k),M=H(M),rt&&o.push({x:v,y:f,ctx:a,type:k.type,size:k.size,color:M,borderColor:M,borderThickness:k.borderThickness})),(c[y].indexLabel||h.indexLabel||c[y].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:c[y],dataSeries:h,point:{x:v,y:f},direction:c[y].y<0===t.axisY.reversed?1:-1,color:m})):(0<y&&!(h.connectNullData||T||b)&&(i.stroke(),rt&&a.stroke()),T=!0));i.stroke(),rt&&a.stroke()}}return X.drawMarkers(o),rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),a.beginPath()),i.restore(),i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}},r.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx;i.save();var s=this.plotArea;i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip();for(var n,o=[],l=0;l<t.dataSeriesIndexes.length;l++){var r=t.dataSeriesIndexes[l],h=this.data[r];i.lineWidth=h.lineThickness;var d,x,c=h.dataPoints,p="solid";i.setLineDash&&(d=xt(h.nullDataLineDashType,h.lineThickness),x=xt(p=h.lineDashType,h.lineThickness),i.setLineDash(x));var u=h.id;this._eventManager.objectMap[u]={objectType:"dataSeries",dataSeriesIndex:r};u=H(u);a.strokeStyle=u,a.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var u=h._colorSet,m=h.lineColor=h.options.lineColor||u[0],g=m;i.strokeStyle=m;var b=!0,y=0;if(i.beginPath(),0<c.length){for(var v,f,M,k,T=!1,y=0;y<c.length;y++)(k=c[y].getTime?c[y].x.getTime():c[y].x)<t.axisX.dataInfo.viewPortMin||k>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!T)||("number"==typeof c[y].y?(M=f,v=t.axisX.convertValueToPixel(k),f=t.axisY.convertValueToPixel(c[y].y),k=h.dataPointIds[y],this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:y,x1:v,y1:f},b||T?(!b&&h.connectNullData?(i.setLineDash&&(h.options.nullDataLineDashType||p===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(i.stroke(),i.beginPath(),i.moveTo(n.x,n.y),p=h.nullDataLineDashType,i.setLineDash(d)),i.lineTo(v,M),i.lineTo(v,f),rt&&(a.lineTo(v,M),a.lineTo(v,f))):(i.beginPath(),i.moveTo(v,f),rt&&(a.beginPath(),a.moveTo(v,f))),T=b=!1):(i.lineTo(v,M),rt&&a.lineTo(v,M),i.lineTo(v,f),rt&&a.lineTo(v,f),y%500==0&&(i.stroke(),i.beginPath(),i.moveTo(v,f),rt&&(a.stroke(),a.beginPath(),a.moveTo(v,f)))),n={x:v,y:f},y<c.length-1&&(g!==(c[y].lineColor||m)||p!==(c[y].lineDashType||h.lineDashType))&&(i.stroke(),i.beginPath(),i.moveTo(v,f),g=c[y].lineColor||m,i.strokeStyle=g,i.setLineDash&&(c[y].lineDashType?(p=c[y].lineDashType,i.setLineDash(xt(p,h.lineThickness))):(p=h.lineDashType,i.setLineDash(x)))),(0<c[y].markerSize||0<h.markerSize)&&((M=h.getMarkerProperties(y,v,f,i)).color,o.push(M),k=H(k),rt&&o.push({x:v,y:f,ctx:a,type:M.type,size:M.size,color:k,borderColor:k,borderThickness:M.borderThickness})),(c[y].indexLabel||h.indexLabel||c[y].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:c[y],dataSeries:h,point:{x:v,y:f},direction:c[y].y<0===t.axisY.reversed?1:-1,color:m})):(0<y&&!(h.connectNullData||T||b)&&(i.stroke(),rt&&a.stroke()),T=!0));i.stroke(),rt&&a.stroke()}}return X.drawMarkers(o),rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),a.beginPath()),i.restore(),i.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}},r.prototype.renderSpline=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,a=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var s=this._eventManager.ghostCtx;a.save();var i=this.plotArea;a.beginPath(),a.rect(i.x1,i.y1,i.width,i.height),a.clip();for(var n=[],o=0;o<t.dataSeriesIndexes.length;o++){var l=t.dataSeriesIndexes[o],r=this.data[l];a.lineWidth=r.lineThickness;var h,d,x=r.dataPoints,c="solid";a.setLineDash&&(h=xt(r.nullDataLineDashType,r.lineThickness),d=xt(c=r.lineDashType,r.lineThickness),a.setLineDash(d));var p=r.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:l};p=H(p);s.strokeStyle=p,s.lineWidth=0<r.lineThickness?Math.max(r.lineThickness,4):0;var p=r._colorSet,u=r.lineColor=r.options.lineColor||p[0],m=u;a.strokeStyle=u;var g=0,b=[];if(a.beginPath(),0<x.length)for(var y,v,f,M,k=!1,g=0;g<x.length;g++)(M=x[g].getTime?x[g].x.getTime():x[g].x)<t.axisX.dataInfo.viewPortMin||M>t.axisX.dataInfo.viewPortMax&&(!r.connectNullData||!k)||(k="number"==typeof x[g].y?(y=t.axisX.convertValueToPixel(M),v=t.axisY.convertValueToPixel(x[g].y),f=r.dataPointIds[g],this._eventManager.objectMap[f]={id:f,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:g,x1:y,y1:v},b[b.length]={x:y,y:v},g<x.length-1&&(m!==(x[g].lineColor||u)||c!==(x[g].lineDashType||r.lineDashType))&&(m=x[g].lineColor||u,b[b.length-1].newStrokeStyle=m,a.setLineDash&&(x[g].lineDashType?(c=x[g].lineDashType,b[b.length-1].newLineDashArray=xt(c,r.lineThickness)):(c=r.lineDashType,b[b.length-1].newLineDashArray=d))),(0<x[g].markerSize||0<r.markerSize)&&((M=r.getMarkerProperties(g,y,v,a)).color,n.push(M),f=H(f),rt&&n.push({x:y,y:v,ctx:s,type:M.type,size:M.size,color:f,borderColor:f,borderThickness:M.borderThickness})),(x[g].indexLabel||r.indexLabel||x[g].indexLabelFormatter||r.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:x[g],dataSeries:r,point:{x:y,y:v},direction:x[g].y<0===t.axisY.reversed?1:-1,color:u}),!1):(0<g&&!k&&(r.connectNullData?a.setLineDash&&0<b.length&&(r.options.nullDataLineDashType||!x[g-1].lineDashType)&&(b[b.length-1].newLineDashArray=h,c=r.nullDataLineDashType):(T(b),b=[])),!0));T(b)}return X.drawMarkers(n),rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&a.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&a.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(i.x1,i.y1,i.width,i.height),s.beginPath()),a.restore(),a.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}function T(t){var e=B(t,2);if(0<e.length){a.beginPath(),rt&&s.beginPath(),a.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(a.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&a.setLineDash(e[0].newLineDashArray),rt&&s.moveTo(e[0].x,e[0].y);for(var i=0;i<e.length-3;i+=3)a.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),rt&&s.bezierCurveTo(e[i+1].x,e[i+1].y,e[i+2].x,e[i+2].y,e[i+3].x,e[i+3].y),(0<i&&i%3e3==0||e[i+3].newStrokeStyle||e[i+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(e[i+3].x,e[i+3].y),e[i+3].newStrokeStyle&&(a.strokeStyle=e[i+3].newStrokeStyle),e[i+3].newLineDashArray&&a.setLineDash(e[i+3].newLineDashArray),rt&&(s.stroke(),s.beginPath(),s.moveTo(e[i+3].x,e[i+3].y)));a.stroke(),rt&&s.stroke()}}},r.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s=this.plotArea,n=0,o=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0,h=t.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(t.axisX.range));var d=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0;this.dataPointMaxWidth&&r<l&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),(r=!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<l?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l):r)<(d=d<l?l:d)&&(d=r),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var x=0;x<t.dataSeriesIndexes.length;x++){var c=t.dataSeriesIndexes[x],p=this.data[c],u=p.dataPoints;if(0<u.length)for(var m,g,b,y,v,f,M=!!(5<d&&p.bevelEnabled),n=0;n<u.length;n++)(f=u[n].getTime?u[n].x.getTime():u[n].x)<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax||"number"==typeof u[n].y&&(m=t.axisX.convertValueToPixel(f),v=t.axisY.convertValueToPixel(u[n].y),f=t.axisX.reversed?m+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+x)*d<<0:m-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+x)*d<<0,m=t.axisX.reversed?f-d<<0:f+d<<0,0<=u[n].y?(b=o)<(g=v)&&(y=g,g=b,b=y):(b=v)<(g=o)&&(y=g,g=b,b=y),a=u[n].color||p._colorSet[n%p._colorSet.length],q(i,f,g,m,b,a,0,null,M&&0<=u[n].y,u[n].y<0&&M,!1,!1,p.fillOpacity),v=p.dataPointIds[n],this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:n,x1:f,y1:g,x2:m,y2:b},a=H(v),rt&&q(this._eventManager.ghostCtx,f,g,m,b,a,0,null,!1,!1,!1,!1),(u[n].indexLabel||p.indexLabel||u[n].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:u[n],dataSeries:p,point:{x:f+(m-f)/2,y:u[n].y<0===t.axisY.reversed?g:b},direction:u[n].y<0===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(g,b),x2:m,y2:Math.max(g,b)},color:a}))}rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore();s=o<t.axisY.bounds.y1?t.axisY.bounds.y1:o>t.axisY.bounds.y2?t.axisY.bounds.y2:o;return{source:e,dest:this.plotArea.ctx,animationCallback:ot.yScaleAnimation,easingFunction:ot.easing.easeOutQuart,animationBase:s}}},r.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s=this.plotArea,n=[],o=[],l=[],r=[],h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range));var u=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0;this.dataPointMaxWidth&&c<x&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),(c=!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x):c)<(u=u<x?x:u)&&(u=c),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],b=this.data[g],y=b.dataPoints;if(0<y.length){var v,f,M,k,T,P,w,C,S=!!(5<u&&b.bevelEnabled);for(i.strokeStyle="#4572A7 ",h=0;h<y.length;h++)(C=y[h].x.getTime?y[h].x.getTime():y[h].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax||"number"==typeof y[h].y&&(M=(f=(v=t.axisX.convertValueToPixel(C))-t.plotType.plotUnits.length*u/2+t.index*u<<0)+u<<0,t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[h].y?(l[C]=y[h].y+(l[C]||0),0<l[C]&&(k=t.axisY.convertValueToPixel(l[C]),T=void 0!==n[C]?n[C]:d,n[C]=k)):t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&y[h].y<=0?(r[C]=y[h].y+(r[C]||0),T=t.axisY.convertValueToPixel(r[C]),k=void 0!==o[C]?o[C]:d,o[C]=T):(w=t.axisY.convertValueToPixel(y[h].y),0<=y[h].y?(P=void 0!==n[C]?n[C]:0,n[C]=P+((T=d-P)-(k=w-P))):(P=o[C]||0,o[C]=P+((T=w+P)-(k=d+P)))),a=y[h].color||b._colorSet[h%b._colorSet.length],q(i,f,k,M,T,a,0,null,S&&0<=y[h].y,y[h].y<0&&S,!1,!1,b.fillOpacity),w=b.dataPointIds[h],this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:f,y1:k,x2:M,y2:T},a=H(w),rt&&q(this._eventManager.ghostCtx,f,k,M,T,a,0,null,!1,!1,!1,!1),(y[h].indexLabel||b.indexLabel||y[h].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:y[h],dataSeries:b,point:{x:v,y:0<=y[h].y?k:T},direction:y[h].y<0===t.axisY.reversed?1:-1,bounds:{x1:f,y1:Math.min(k,T),x2:M,y2:Math.max(k,T)},color:a}))}}rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore();s=d<t.axisY.bounds.y1?t.axisY.bounds.y1:d>t.axisY.bounds.y2?t.axisY.bounds.y2:d;return{source:e,dest:this.plotArea.ctx,animationCallback:ot.yScaleAnimation,easingFunction:ot.easing.easeOutQuart,animationBase:s}}},r.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s=this.plotArea,n=[],o=[],l=[],r=[],h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0,p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range));var u=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0;this.dataPointMaxWidth&&c<x&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),(c=!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x):c)<(u=u<x?x:u)&&(u=c),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],b=this.data[g],y=b.dataPoints;if(0<y.length)for(var v=!!(5<u&&b.bevelEnabled),h=0;h<y.length;h++)if(!((S=y[h].x.getTime?y[h].x.getTime():y[h].x)<t.axisX.dataInfo.viewPortMin||S>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[h].y){var f,M,k,T=t.axisX.convertValueToPixel(S),P=0!==t.dataPointYSums[S]?y[h].y/t.dataPointYSums[S]*100:0,w=T-t.plotType.plotUnits.length*u/2+t.index*u<<0,C=w+u<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[h].y){if(l[S]=P+(void 0!==l[S]?l[S]:0),l[S]<=0)continue;f=t.axisY.convertValueToPixel(l[S]),M=n[S]||d,n[S]=f}else t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&y[h].y<=0?(r[S]=P+(void 0!==r[S]?r[S]:0),M=t.axisY.convertValueToPixel(r[S]),f=o[S]||d,o[S]=M):(P=t.axisY.convertValueToPixel(P),0<=y[h].y?(f=P-(k=void 0!==n[S]?n[S]:0),M=d-k,t.dataSeriesIndexes.length-1===m&&Math.abs(s.y1-f)<=1&&(f=s.y1),n[S]=k+(M-f)):(M=P+(k=void 0!==o[S]?o[S]:0),f=d+k,t.dataSeriesIndexes.length-1===m&&Math.abs(s.y2-M)<=1&&(M=s.y2),o[S]=k+(M-f)));a=y[h].color||b._colorSet[h%b._colorSet.length],q(i,w,f,C,M,a,0,null,v&&0<=y[h].y,y[h].y<0&&v,!1,!1,b.fillOpacity);var S=b.dataPointIds[h];this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:w,y1:f,x2:C,y2:M},a=H(S),rt&&q(this._eventManager.ghostCtx,w,f,C,M,a,0,null,!1,!1,!1,!1),(y[h].indexLabel||b.indexLabel||y[h].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:y[h],dataSeries:b,point:{x:T,y:0<=y[h].y?f:M},direction:y[h].y<0===t.axisY.reversed?1:-1,bounds:{x1:w,y1:Math.min(f,M),x2:C,y2:Math.max(f,M)},color:a})}}rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore();c=d<t.axisY.bounds.y1?t.axisY.bounds.y1:d>t.axisY.bounds.y2?t.axisY.bounds.y2:d;return{source:e,dest:this.plotArea.ctx,animationCallback:ot.yScaleAnimation,easingFunction:ot.easing.easeOutQuart,animationBase:c}}},r.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a=null,s=this.plotArea,n=0,o=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0,h=t.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(t.axisX.range));var d=this.options.dataPointWidth?this.dataPointWidth:s.height*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0;this.dataPointMaxWidth&&r<l&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),(r=!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<l?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l):r)<(d=d<l?l:d)&&(d=r),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var x=0;x<t.dataSeriesIndexes.length;x++){var c=t.dataSeriesIndexes[x],p=this.data[c],u=p.dataPoints;if(0<u.length){var m,g,b,y,v,f=!!(5<d&&p.bevelEnabled);for(i.strokeStyle="#4572A7 ",n=0;n<u.length;n++)(v=u[n].getTime?u[n].x.getTime():u[n].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax||"number"==typeof u[n].y&&(b=t.axisX.convertValueToPixel(v),y=t.axisY.convertValueToPixel(u[n].y),m=t.axisX.reversed?b+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+x)*d<<0:b-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+x)*d<<0,v=t.axisX.reversed?m-d<<0:m+d<<0,b=0<=u[n].y?(g=o,y):(g=y,o),a=u[n].color||p._colorSet[n%p._colorSet.length],q(i,g,m,b,v,a,0,null,f,!1,!1,!1,p.fillOpacity),y=p.dataPointIds[n],this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:c,dataPointIndex:n,x1:g,y1:m,x2:b,y2:v},a=H(y),rt&&q(this._eventManager.ghostCtx,g,m,b,v,a,0,null,!1,!1,!1,!1),(u[n].indexLabel||p.indexLabel||u[n].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:u[n],dataSeries:p,point:{x:0<=u[n].y?b:g,y:m+(v-m)/2},direction:u[n].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(g,b),y1:m,x2:Math.max(g,b),y2:v},color:a}))}}rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore();s=o<t.axisY.bounds.x1?t.axisY.bounds.x1:o>t.axisY.bounds.x2?t.axisY.bounds.x2:o;return{source:e,dest:this.plotArea.ctx,animationCallback:ot.xScaleAnimation,easingFunction:ot.easing.easeOutQuart,animationBase:s}}},r.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s=this.plotArea,n=[],o=[],l=[],r=[],h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range));var u=this.options.dataPointWidth?this.dataPointWidth:s.height*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0;this.dataPointMaxWidth&&c<x&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),(c=!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x):c)<(u=u<x?x:u)&&(u=c),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],b=this.data[g],y=b.dataPoints;if(0<y.length){var v,f,M,k,T,P,w,C,S=!!(5<u&&b.bevelEnabled);for(i.strokeStyle="#4572A7 ",h=0;h<y.length;h++)(C=y[h].x.getTime?y[h].x.getTime():y[h].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax||"number"==typeof y[h].y&&(M=(f=(v=t.axisX.convertValueToPixel(C))-t.plotType.plotUnits.length*u/2+t.index*u<<0)+u<<0,t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[h].y?(l[C]=y[h].y+(l[C]||0),0<l[C]&&(k=n[C]||d,n[C]=T=t.axisY.convertValueToPixel(l[C]))):t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&y[h].y<=0?(r[C]=y[h].y+(r[C]||0),T=o[C]||d,o[C]=k=t.axisY.convertValueToPixel(r[C])):(w=t.axisY.convertValueToPixel(y[h].y),0<=y[h].y?(P=n[C]||0,n[C]=P+((T=w+P)-(k=d+P))):(P=o[C]||0,o[C]=P+((T=d-P)-(k=w-P)))),a=y[h].color||b._colorSet[h%b._colorSet.length],q(i,k,f,T,M,a,0,null,S,!1,!1,!1,b.fillOpacity),w=b.dataPointIds[h],this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:k,y1:f,x2:T,y2:M},a=H(w),rt&&q(this._eventManager.ghostCtx,k,f,T,M,a,0,null,!1,!1,!1,!1),(y[h].indexLabel||b.indexLabel||y[h].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:y[h],dataSeries:b,point:{x:0<=y[h].y?T:k,y:v},direction:y[h].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(k,T),y1:f,x2:Math.max(k,T),y2:M},color:a}))}}rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore();s=d<t.axisY.bounds.x1?t.axisY.bounds.x1:d>t.axisY.bounds.x2?t.axisY.bounds.x2:d;return{source:e,dest:this.plotArea.ctx,animationCallback:ot.xScaleAnimation,easingFunction:ot.easing.easeOutQuart,animationBase:s}}},r.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s=this.plotArea,n=[],o=[],l=[],r=[],h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,c=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0,p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range));var u=this.options.dataPointWidth?this.dataPointWidth:s.height*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0;this.dataPointMaxWidth&&c<x&&(x=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,c)),(c=!this.dataPointMaxWidth&&this.dataPointMinWidth&&c<x?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,x):c)<(u=u<x?x:u)&&(u=c),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],b=this.data[g],y=b.dataPoints;if(0<y.length){var v=!!(5<u&&b.bevelEnabled);for(i.strokeStyle="#4572A7 ",h=0;h<y.length;h++)if(!((S=y[h].x.getTime?y[h].x.getTime():y[h].x)<t.axisX.dataInfo.viewPortMin||S>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[h].y){var f,M,k,T=t.axisX.convertValueToPixel(S),P=0!==t.dataPointYSums[S]?y[h].y/t.dataPointYSums[S]*100:0,w=T-t.plotType.plotUnits.length*u/2+t.index*u<<0,C=w+u<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[h].y){if(l[S]=P+(l[S]||0),l[S]<=0)continue;f=n[S]||d,n[S]=M=t.axisY.convertValueToPixel(l[S])}else t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&y[h].y<=0?(r[S]=P+(r[S]||0),M=o[S]||d,o[S]=f=t.axisY.convertValueToPixel(r[S])):(P=t.axisY.convertValueToPixel(P),0<=y[h].y?(f=d+(k=n[S]||0),M=P+k,t.dataSeriesIndexes.length-1===m&&Math.abs(s.x2-M)<=1&&(M=s.x2),n[S]=k+(M-f)):(f=P-(k=o[S]||0),M=d-k,t.dataSeriesIndexes.length-1===m&&Math.abs(s.x1-f)<=1&&(f=s.x1),o[S]=k+(M-f)));a=y[h].color||b._colorSet[h%b._colorSet.length],q(i,f,w,M,C,a,0,null,v,!1,!1,!1,b.fillOpacity);var S=b.dataPointIds[h];this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:f,y1:w,x2:M,y2:C},a=H(S),rt&&q(this._eventManager.ghostCtx,f,w,M,C,a,0,null,!1,!1,!1,!1),(y[h].indexLabel||b.indexLabel||y[h].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:y[h],dataSeries:b,point:{x:0<=y[h].y?M:f,y:T},direction:y[h].y<0===t.axisY.reversed?1:-1,bounds:{x1:Math.min(f,M),y1:w,x2:Math.max(f,M),y2:C},color:a})}}}rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore();c=d<t.axisY.bounds.x1?t.axisY.bounds.x1:d>t.axisY.bounds.x2?t.axisY.bounds.x2:d;return{source:e,dest:this.plotArea.ctx,animationCallback:ot.xScaleAnimation,easingFunction:ot.easing.easeOutQuart,animationBase:c}}},r.prototype.renderArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s=this._eventManager.ghostCtx,n=t.axisX.lineCoordinates,o=t.axisY.lineCoordinates,l=[],r=this.plotArea;i.save(),rt&&s.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),rt&&(s.beginPath(),s.rect(r.x1,r.y1,r.width,r.height),s.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var d=t.dataSeriesIndexes[h],x=this.data[d],c=x.dataPoints,p=x.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:d};p=H(p);s.fillStyle=p;var u,m,g,l=[],b=!0,y=0,v=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),f=null;if(0<c.length){var M=x._colorSet[y%x._colorSet.length],k=x.lineColor=x.options.lineColor||M,T=k;i.fillStyle=M,i.strokeStyle=k,i.lineWidth=x.lineThickness;var P,w,C="solid";i.setLineDash&&(P=xt(x.nullDataLineDashType,x.lineThickness),w=xt(C=x.lineDashType,x.lineThickness),i.setLineDash(w));for(var S,A,_=!0;y<c.length;y++)(A=c[y].x.getTime?c[y].x.getTime():c[y].x)<t.axisX.dataInfo.viewPortMin||A>t.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!_)||("number"==typeof c[y].y?(u=t.axisX.convertValueToPixel(A),m=t.axisY.convertValueToPixel(c[y].y),b||_?(!b&&x.connectNullData?(i.setLineDash&&(x.options.nullDataLineDashType||C===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(S={x:u,y:m},u=a.x,m=a.y,B(),i.moveTo(a.x,a.y),u=S.x,m=S.y,f=a,C=x.nullDataLineDashType,i.setLineDash(P)),i.lineTo(u,m),rt&&s.lineTo(u,m)):(i.beginPath(),i.moveTo(u,m),rt&&(s.beginPath(),s.moveTo(u,m)),f={x:u,y:m}),_=b=!1):(i.lineTo(u,m),rt&&s.lineTo(u,m),y%250==0&&B()),a={x:u,y:m},y<c.length-1&&(T!==(c[y].lineColor||k)||C!==(c[y].lineDashType||x.lineDashType))&&(B(),T=c[y].lineColor||k,i.strokeStyle=T,i.setLineDash&&(c[y].lineDashType?(C=c[y].lineDashType,i.setLineDash(xt(C,x.lineThickness))):(C=x.lineDashType,i.setLineDash(w)))),A=x.dataPointIds[y],this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:y,x1:u,y1:m},0!==c[y].markerSize&&(0<c[y].markerSize||0<x.markerSize)&&((S=x.getMarkerProperties(y,u,m,i)).color,l.push(S),A=H(A),rt&&l.push({x:u,y:m,ctx:s,type:S.type,size:S.size,color:A,borderColor:A,borderThickness:S.borderThickness})),(c[y].indexLabel||x.indexLabel||c[y].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:c[y],dataSeries:x,point:{x:u,y:m},direction:c[y].y<0===t.axisY.reversed?1:-1,color:M})):(x.connectNullData||_||b||B(),_=!0));B(),X.drawMarkers(l)}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}function B(){f&&(0<x.lineThickness&&i.stroke(),t.axisY.logarithmic||t.axisY.viewportMinimum<=0&&0<=t.axisY.viewportMaximum?g=v:t.axisY.viewportMaximum<0?g=o.y1:0<t.axisY.viewportMinimum&&(g=n.y2),i.lineTo(u,g),i.lineTo(f.x,g),i.closePath(),i.globalAlpha=x.fillOpacity,i.fill(),i.globalAlpha=1,rt&&(s.lineTo(u,g),s.lineTo(f.x,g),s.closePath(),s.fill()),i.beginPath(),i.moveTo(u,m),s.beginPath(),s.moveTo(u,m),f={x:u,y:m})}},r.prototype.renderSplineArea=function(i){var t=i.targetCanvasCtx||this.plotArea.ctx,a=rt?this._preRenderCtx:t;if(!(i.dataSeriesIndexes.length<=0)){var s=this._eventManager.ghostCtx,n=i.axisX.lineCoordinates,o=i.axisY.lineCoordinates,e=[],l=this.plotArea;a.save(),rt&&s.save(),a.beginPath(),a.rect(l.x1,l.y1,l.width,l.height),a.clip(),rt&&(s.beginPath(),s.rect(l.x1,l.y1,l.width,l.height),s.clip());for(var r=0;r<i.dataSeriesIndexes.length;r++){var h=i.dataSeriesIndexes[r],d=this.data[h],x=d.dataPoints,c=d.id;this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:h};c=H(c);s.fillStyle=c;var p,e=[],u=0,m=i.axisY.convertValueToPixel(i.axisY.logarithmic?i.axisY.viewportMinimum:0),g=null,b=[];if(0<x.length){var y=d._colorSet[u%d._colorSet.length],v=d.lineColor=d.options.lineColor||y,f=v;a.fillStyle=y,a.strokeStyle=v,a.lineWidth=d.lineThickness;var M,k,T="solid";a.setLineDash&&(M=xt(d.nullDataLineDashType,d.lineThickness),k=xt(T=d.lineDashType,d.lineThickness),a.setLineDash(k));for(var P,w,C,S,A=!1;u<x.length;u++)(S=x[u].x.getTime?x[u].x.getTime():x[u].x)<i.axisX.dataInfo.viewPortMin||S>i.axisX.dataInfo.viewPortMax&&(!d.connectNullData||!A)||(A="number"==typeof x[u].y?(P=i.axisX.convertValueToPixel(S),w=i.axisY.convertValueToPixel(x[u].y),C=d.dataPointIds[u],this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:u,x1:P,y1:w},b[b.length]={x:P,y:w},u<x.length-1&&(f!==(x[u].lineColor||v)||T!==(x[u].lineDashType||d.lineDashType))&&(f=x[u].lineColor||v,b[b.length-1].newStrokeStyle=f,a.setLineDash&&(x[u].lineDashType?(T=x[u].lineDashType,b[b.length-1].newLineDashArray=xt(T,d.lineThickness)):(T=d.lineDashType,b[b.length-1].newLineDashArray=k))),0!==x[u].markerSize&&(0<x[u].markerSize||0<d.markerSize)&&((S=d.getMarkerProperties(u,P,w,a)).color,e.push(S),C=H(C),rt&&e.push({x:P,y:w,ctx:s,type:S.type,size:S.size,color:C,borderColor:C,borderThickness:S.borderThickness})),(x[u].indexLabel||d.indexLabel||x[u].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:x[u],dataSeries:d,point:{x:P,y:w},direction:x[u].y<0===i.axisY.reversed?1:-1,color:y}),!1):(0<u&&!A&&(d.connectNullData?a.setLineDash&&0<b.length&&(d.options.nullDataLineDashType||!x[u-1].lineDashType)&&(b[b.length-1].newLineDashArray=M,T=d.nullDataLineDashType):(_(),b=[])),!0));_(),X.drawMarkers(e)}}return rt&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.globalCompositeOperation="source-atop",i.axisX.maskCanvas&&a.drawImage(i.axisX.maskCanvas,0,0,this.width,this.height),i.axisY.maskCanvas&&a.drawImage(i.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),a.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),a.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}function _(){var t=B(b,2);if(0<t.length){if(0<d.lineThickness){a.beginPath(),a.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(a.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&a.setLineDash(t[0].newLineDashArray);for(var e=0;e<t.length-3;e+=3)a.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),rt&&s.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),(t[e+3].newStrokeStyle||t[e+3].newLineDashArray)&&(a.stroke(),a.beginPath(),a.moveTo(t[e+3].x,t[e+3].y),t[e+3].newStrokeStyle&&(a.strokeStyle=t[e+3].newStrokeStyle),t[e+3].newLineDashArray&&a.setLineDash(t[e+3].newLineDashArray));a.stroke()}a.beginPath(),a.moveTo(t[0].x,t[0].y),rt&&(s.beginPath(),s.moveTo(t[0].x,t[0].y));for(e=0;e<t.length-3;e+=3)a.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),rt&&s.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y);i.axisY.logarithmic||i.axisY.viewportMinimum<=0&&0<=i.axisY.viewportMaximum?p=m:i.axisY.viewportMaximum<0?p=o.y1:0<i.axisY.viewportMinimum&&(p=n.y2),g={x:t[0].x,y:t[0].y},a.lineTo(t[t.length-1].x,p),a.lineTo(g.x,p),a.closePath(),a.globalAlpha=d.fillOpacity,a.fill(),a.globalAlpha=1,rt&&(s.lineTo(t[t.length-1].x,p),s.lineTo(g.x,p),s.closePath(),s.fill())}}},r.prototype.renderStepArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s=this._eventManager.ghostCtx,n=t.axisX.lineCoordinates,o=t.axisY.lineCoordinates,l=[],r=this.plotArea;i.save(),rt&&s.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),rt&&(s.beginPath(),s.rect(r.x1,r.y1,r.width,r.height),s.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var d=t.dataSeriesIndexes[h],x=this.data[d],c=x.dataPoints,p=x.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:d};p=H(p);s.fillStyle=p;var u,m,g,l=[],b=!0,y=0,v=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),f=null,M=!1;if(0<c.length){var k=x._colorSet[y%x._colorSet.length],T=x.lineColor=x.options.lineColor||k,P=T;i.fillStyle=k,i.strokeStyle=T,i.lineWidth=x.lineThickness;var w,C,S,A,_,B="solid";for(i.setLineDash&&(w=xt(x.nullDataLineDashType,x.lineThickness),C=xt(B=x.lineDashType,x.lineThickness),i.setLineDash(C));y<c.length;y++)(_=c[y].x.getTime?c[y].x.getTime():c[y].x)<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax&&(!x.connectNullData||!M)||(S=m,"number"==typeof c[y].y?(u=t.axisX.convertValueToPixel(_),m=t.axisY.convertValueToPixel(c[y].y),b||M?(!b&&x.connectNullData?(i.setLineDash&&(x.options.nullDataLineDashType||B===x.lineDashType&&x.lineDashType!==x.nullDataLineDashType)&&(A={x:u,y:m},u=a.x,m=a.y,F(),i.moveTo(a.x,a.y),u=A.x,m=A.y,f=a,B=x.nullDataLineDashType,i.setLineDash(w)),i.lineTo(u,S),i.lineTo(u,m),rt&&(s.lineTo(u,S),s.lineTo(u,m))):(i.beginPath(),i.moveTo(u,m),rt&&(s.beginPath(),s.moveTo(u,m)),f={x:u,y:m}),M=b=!1):(i.lineTo(u,S),rt&&s.lineTo(u,S),i.lineTo(u,m),rt&&s.lineTo(u,m),y%250==0&&F()),a={x:u,y:m},y<c.length-1&&(P!==(c[y].lineColor||T)||B!==(c[y].lineDashType||x.lineDashType))&&(F(),P=c[y].lineColor||T,i.strokeStyle=P,i.setLineDash&&(c[y].lineDashType?(B=c[y].lineDashType,i.setLineDash(xt(B,x.lineThickness))):(B=x.lineDashType,i.setLineDash(C)))),A=x.dataPointIds[y],this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:y,x1:u,y1:m},0!==c[y].markerSize&&(0<c[y].markerSize||0<x.markerSize)&&((S=x.getMarkerProperties(y,u,m,i)).color,l.push(S),A=H(A),rt&&l.push({x:u,y:m,ctx:s,type:S.type,size:S.size,color:A,borderColor:A,borderThickness:S.borderThickness})),(c[y].indexLabel||x.indexLabel||c[y].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:c[y],dataSeries:x,point:{x:u,y:m},direction:c[y].y<0===t.axisY.reversed?1:-1,color:k})):(x.connectNullData||M||b||F(),M=!0));F(),X.drawMarkers(l)}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}function F(){f&&(0<x.lineThickness&&i.stroke(),t.axisY.logarithmic||t.axisY.viewportMinimum<=0&&0<=t.axisY.viewportMaximum?g=v:t.axisY.viewportMaximum<0?g=o.y1:0<t.axisY.viewportMinimum&&(g=n.y2),i.lineTo(u,g),i.lineTo(f.x,g),i.closePath(),i.globalAlpha=x.fillOpacity,i.fill(),i.globalAlpha=1,rt&&(s.lineTo(u,g),s.lineTo(f.x,g),s.closePath(),s.fill()),i.beginPath(),i.moveTo(u,m),s.beginPath(),s.moveTo(u,m),f={x:u,y:m})}},r.prototype.renderStackedArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s,n,o,l=[],r=this.plotArea,h=[],d=[],x=[],c=[],p=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),m=(t.axisX.dataInfo.minDiff,this._eventManager.ghostCtx);rt&&m.beginPath(),i.save(),rt&&m.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),rt&&(m.beginPath(),m.rect(r.x1,r.y1,r.width,r.height),m.clip());for(var g=[],b=0;b<t.dataSeriesIndexes.length;b++){var y,v=t.dataSeriesIndexes[b],f=(M=this.data[v]).dataPoints;for(M.dataPointIndexes=[],p=0;p<f.length;p++)y=f[p].x.getTime?f[p].x.getTime():f[p].x,M.dataPointIndexes[y]=p,g[y]||(x.push(y),g[y]=!0);x.sort(E)}for(b=0;b<t.dataSeriesIndexes.length;b++){var M,v=t.dataSeriesIndexes[b],f=(M=this.data[v]).dataPoints,k=!0,d=[],T=M.id;this._eventManager.objectMap[T]={objectType:"dataSeries",dataSeriesIndex:v};T=H(T);if(m.fillStyle=T,0<x.length){var P=M._colorSet[0],w=M.lineColor=M.options.lineColor||P,C=w;i.fillStyle=P,i.strokeStyle=w,i.lineWidth=M.lineThickness;var S,A,_="solid";i.setLineDash&&(S=xt(M.nullDataLineDashType,M.lineThickness),A=xt(_=M.lineDashType,M.lineThickness),i.setLineDash(A));for(var B=!0,p=0;p<x.length;p++){var F=x[p],L=null,L=0<=M.dataPointIndexes[F]?f[M.dataPointIndexes[F]]:{x:F,y:null};if(!(F<t.axisX.dataInfo.viewPortMin||F>t.axisX.dataInfo.viewPortMax&&(!M.connectNullData||!B)))if("number"==typeof L.y){var I,V=t.axisX.convertValueToPixel(F),W=h[F]||0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(c[F]=L.y+(c[F]||0),c[F]<=0&&t.axisY.logarithmic)continue;var D=t.axisY.convertValueToPixel(c[F])}else{D=t.axisY.convertValueToPixel(L.y);D-=W}d.push({x:V,y:u-W}),h[F]=u-D,k||B?(!k&&M.connectNullData?(i.setLineDash&&(M.options.nullDataLineDashType||_===M.lineDashType&&M.lineDashType!==M.nullDataLineDashType)&&(n=d.pop(),o=d[d.length-1],z(),i.moveTo(s.x,s.y),d.push(o),d.push(n),_=M.nullDataLineDashType,i.setLineDash(S)),i.lineTo(V,D),rt&&m.lineTo(V,D)):(i.beginPath(),i.moveTo(V,D),rt&&(m.beginPath(),m.moveTo(V,D))),B=k=!1):(i.lineTo(V,D),rt&&m.lineTo(V,D),p%250==0&&(z(),i.moveTo(V,D),rt&&m.moveTo(V,D),d.push({x:V,y:u-W}))),s={x:V,y:D},p<f.length-1&&(C!==(f[p].lineColor||w)||_!==(f[p].lineDashType||M.lineDashType))&&(z(),i.beginPath(),i.moveTo(V,D),d.push({x:V,y:u-W}),C=f[p].lineColor||w,i.strokeStyle=C,i.setLineDash&&(f[p].lineDashType?(_=f[p].lineDashType,i.setLineDash(xt(_,M.lineThickness))):(_=M.lineDashType,i.setLineDash(A)))),0<=M.dataPointIndexes[F]&&(I=M.dataPointIds[M.dataPointIndexes[F]],this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:M.dataPointIndexes[F],x1:V,y1:D}),0<=M.dataPointIndexes[F]&&0!==L.markerSize&&(0<L.markerSize||0<M.markerSize)&&((F=M.getMarkerProperties(M.dataPointIndexes[F],V,D,i)).color,l.push(F),a=H(I),rt&&l.push({x:V,y:D,ctx:m,type:F.type,size:F.size,color:a,borderColor:a,borderThickness:F.borderThickness})),(L.indexLabel||M.indexLabel||L.indexLabelFormatter||M.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:L,dataSeries:M,point:{x:V,y:D},direction:f[p].y<0===t.axisY.reversed?1:-1,color:P})}else M.connectNullData||B||k||z(),B=!0}z(),i.moveTo(V,D),rt&&m.moveTo(V,D)}delete M.dataPointIndexes}return X.drawMarkers(l),rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),m.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}function z(){if(!(d.length<1)){for(0<M.lineThickness&&i.stroke();0<d.length;){var t=d.pop();i.lineTo(t.x,t.y),rt&&m.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=M.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),rt&&(m.closePath(),m.fill(),m.beginPath()),d=[]}}},r.prototype.renderStackedArea100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s,n,o=this.plotArea,l=[],r=[],h=[],d=[],x=[],c=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),u=this._eventManager.ghostCtx;i.save(),rt&&u.save(),i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip(),rt&&(u.beginPath(),u.rect(o.x1,o.y1,o.width,o.height),u.clip());for(var m=[],g=0;g<t.dataSeriesIndexes.length;g++){var b,y=t.dataSeriesIndexes[g],v=(f=this.data[y]).dataPoints;for(f.dataPointIndexes=[],c=0;c<v.length;c++)b=v[c].x.getTime?v[c].x.getTime():v[c].x,f.dataPointIndexes[b]=c,m[b]||(d.push(b),m[b]=!0);d.sort(E)}for(g=0;g<t.dataSeriesIndexes.length;g++){var f,y=t.dataSeriesIndexes[g],v=(f=this.data[y]).dataPoints,M=!0,k=f.id;this._eventManager.objectMap[k]={objectType:"dataSeries",dataSeriesIndex:y};k=H(k);if(u.fillStyle=k,h=[],0<d.length){var T=f._colorSet[c%f._colorSet.length],P=f.lineColor=f.options.lineColor||T,w=P;i.fillStyle=T,i.strokeStyle=P,i.lineWidth=f.lineThickness;var C,S,A="solid";i.setLineDash&&(C=xt(f.nullDataLineDashType,f.lineThickness),S=xt(A=f.lineDashType,f.lineThickness),i.setLineDash(S));for(var _=!0,c=0;c<d.length;c++){var B=d[c],F=null,F=0<=f.dataPointIndexes[B]?v[f.dataPointIndexes[B]]:{x:B,y:null};if(!(B<t.axisX.dataInfo.viewPortMin||B>t.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!_)))if("number"==typeof F.y){var L,I=0!==t.dataPointYSums[B]?F.y/t.dataPointYSums[B]*100:0,V=t.axisX.convertValueToPixel(B),W=r[B]||0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(x[B]=I+(x[B]||0),x[B]<=0&&t.axisY.logarithmic)continue;var D=t.axisY.convertValueToPixel(x[B])}else{D=t.axisY.convertValueToPixel(I);D-=W}h.push({x:V,y:p-W}),r[B]=p-D,M||_?(!M&&f.connectNullData?(i.setLineDash&&(f.options.nullDataLineDashType||A===f.lineDashType&&f.lineDashType!==f.nullDataLineDashType)&&(n=h.pop(),I=h[h.length-1],z(),i.moveTo(s.x,s.y),h.push(I),h.push(n),A=f.nullDataLineDashType,i.setLineDash(C)),i.lineTo(V,D),rt&&u.lineTo(V,D)):(i.beginPath(),i.moveTo(V,D),rt&&(u.beginPath(),u.moveTo(V,D))),_=M=!1):(i.lineTo(V,D),rt&&u.lineTo(V,D),c%250==0&&(z(),i.moveTo(V,D),rt&&u.moveTo(V,D),h.push({x:V,y:p-W}))),s={x:V,y:D},c<v.length-1&&(w!==(v[c].lineColor||P)||A!==(v[c].lineDashType||f.lineDashType))&&(z(),i.beginPath(),i.moveTo(V,D),h.push({x:V,y:p-W}),w=v[c].lineColor||P,i.strokeStyle=w,i.setLineDash&&(v[c].lineDashType?(A=v[c].lineDashType,i.setLineDash(xt(A,f.lineThickness))):(A=f.lineDashType,i.setLineDash(S)))),0<=f.dataPointIndexes[B]&&(L=f.dataPointIds[f.dataPointIndexes[B]],this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:f.dataPointIndexes[B],x1:V,y1:D}),0<=f.dataPointIndexes[B]&&0!==F.markerSize&&(0<F.markerSize||0<f.markerSize)&&((B=f.getMarkerProperties(c,V,D,i)).color,l.push(B),a=H(L),rt&&l.push({x:V,y:D,ctx:u,type:B.type,size:B.size,color:a,borderColor:a,borderThickness:B.borderThickness})),(F.indexLabel||f.indexLabel||F.indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:F,dataSeries:f,point:{x:V,y:D},direction:v[c].y<0===t.axisY.reversed?1:-1,color:T})}else f.connectNullData||_||M||z(),_=!0}z(),i.moveTo(V,D),rt&&u.moveTo(V,D)}delete f.dataPointIndexes}return X.drawMarkers(l),rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(o.x1,o.y1,o.width,o.height),u.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}function z(){for(0<f.lineThickness&&i.stroke();0<h.length;){var t=h.pop();i.lineTo(t.x,t.y),rt&&u.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=f.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),rt&&(u.closePath(),u.fill(),u.beginPath()),h=[]}},r.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a=null,s=this.plotArea,n=0;i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var o=-1/0,l=1/0,r=0;r<t.dataSeriesIndexes.length;r++)for(var h=t.dataSeriesIndexes[r],d=(u=this.data[h]).dataPoints,x=0,n=0;n<d.length;n++)(f=d[n].getTime?d[n].x.getTime():d[n].x)<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax||void 0!==d[n].z&&(o<(x=d[n].z)&&(o=x),x<l&&(l=x));for(var c=5*Math.PI*5,p=Math.max(Math.pow(.25*Math.min(s.height,s.width)/2,2)*Math.PI,c),r=0;r<t.dataSeriesIndexes.length;r++){var u,h=t.dataSeriesIndexes[r];if(0<(d=(u=this.data[h]).dataPoints).length){i.strokeStyle="#4572A7 ";for(var m,g,b,y,v,f,n=0;n<d.length;n++)(f=d[n].getTime?d[n].x.getTime():d[n].x)<t.axisX.dataInfo.viewPortMin||f>t.axisX.dataInfo.viewPortMax||"number"==typeof d[n].y&&(m=t.axisX.convertValueToPixel(f),g=t.axisY.convertValueToPixel(d[n].y),x=d[n].z,b=2*Math.max(Math.sqrt((o===l?p/2:c+(p-c)/(o-l)*(x-l))/Math.PI)<<0,1),(y=u.getMarkerProperties(n,i)).size=b,i.globalAlpha=u.fillOpacity,X.drawMarker(m,g,i,y.type,y.size,y.color,y.borderColor,y.borderThickness),i.globalAlpha=1,v=u.dataPointIds[n],this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:n,x1:m,y1:g,size:b},v=H(v),rt&&X.drawMarker(m,g,this._eventManager.ghostCtx,y.type,y.size,v,v,y.borderThickness),(d[n].indexLabel||u.indexLabel||d[n].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:d[n],dataSeries:u,point:{x:m,y:g},direction:1,bounds:{x1:m-y.size/2,y1:g-y.size/2,x2:m+y.size/2,y2:g+y.size/2},color:a}))}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a=null,s=this.plotArea,n=0;i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var l=t.dataSeriesIndexes[o],r=this.data[l],h=r.dataPoints;if(0<h.length){i.strokeStyle="#4572A7 ";Math.pow(.3*Math.min(s.height,s.width)/2,2),Math.PI;for(var d,x,c,p,u=0,m=0,n=0;n<h.length;n++)(p=h[n].getTime?h[n].x.getTime():h[n].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax||"number"==typeof h[n].y&&(d=t.axisX.convertValueToPixel(p),x=t.axisY.convertValueToPixel(h[n].y),c=r.getMarkerProperties(n,d,x,i),i.globalAlpha=r.fillOpacity,X.drawMarker(c.x,c.y,c.ctx,c.type,c.size,c.color,c.borderColor,c.borderThickness),i.globalAlpha=1,Math.sqrt((u-d)*(u-d)+(m-x)*(m-x))<Math.min(c.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height)||(p=r.dataPointIds[n],this._eventManager.objectMap[p]={id:p,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:n,x1:d,y1:x},p=H(p),rt&&X.drawMarker(c.x,c.y,this._eventManager.ghostCtx,c.type,c.size,p,p,c.borderThickness),(h[n].indexLabel||r.indexLabel||h[n].indexLabelFormatter||r.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:h[n],dataSeries:r,point:{x:d,y:x},direction:1,bounds:{x1:d-c.size/2,y1:x-c.size/2,x2:d+c.size/2,y2:x+c.size/2},color:a}),u=d,m=x))}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e,a=this._eventManager.ghostCtx;if(!(t.dataSeriesIndexes.length<=0)){var s=null,n=null,o=this.plotArea,l=0,r=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,d=t.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(t.axisX.range));var x=this.options.dataPointWidth?this.dataPointWidth:o.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))*.7<<0;this.dataPointMaxWidth&&h<r&&(r=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),(h=!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<r?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,r):h)<(x=x<r?r:x)&&(x=h),i.save(),rt&&a.save(),i.beginPath(),i.rect(o.x1,o.y1,o.width,o.height),i.clip(),rt&&(a.beginPath(),a.rect(o.x1,o.y1,o.width,o.height),a.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],u=this.data[p],m=u.dataPoints;if(0<m.length)for(var g,b,y,v,f,M,k,T,P,w,C=!!(5<x&&u.bevelEnabled),l=0;l<m.length;l++)(w=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||w>t.axisX.dataInfo.viewPortMax||!yt(m[l].y)&&m[l].y.length&&"number"==typeof m[l].y[0]&&"number"==typeof m[l].y[1]&&"number"==typeof m[l].y[2]&&"number"==typeof m[l].y[3]&&(g=t.axisX.convertValueToPixel(w),b=t.axisY.convertValueToPixel(m[l].y[0]),y=t.axisY.convertValueToPixel(m[l].y[1]),v=t.axisY.convertValueToPixel(m[l].y[2]),f=t.axisY.convertValueToPixel(m[l].y[3]),k=(M=g-x/2<<0)+x<<0,n=u.options.fallingColor?u.fallingColor:u._colorSet[0],s=m[l].color||u._colorSet[0],P=(T=Math.round(Math.max(1,.15*x)))%2==0?0:.5,w=u.dataPointIds[l],this._eventManager.objectMap[w]={id:w,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:M,y1:b,x2:k,y2:y,x3:g,y3:v,x4:g,y4:f,borderThickness:T,color:s},i.strokeStyle=s,i.beginPath(),i.lineWidth=T,a.lineWidth=Math.max(T,4),"candlestick"===u.type?(i.moveTo(g-P,y),i.lineTo(g-P,Math.min(b,f)),i.stroke(),i.moveTo(g-P,Math.max(b,f)),i.lineTo(g-P,v),i.stroke(),q(i,M,Math.min(b,f),k,Math.max(b,f),m[l].y[0]<=m[l].y[3]?u.risingColor:n,T,s,C,C,!1,!1,u.fillOpacity),rt&&(s=H(w),a.strokeStyle=s,a.moveTo(g-P,y),a.lineTo(g-P,Math.min(b,f)),a.stroke(),a.moveTo(g-P,Math.max(b,f)),a.lineTo(g-P,v),a.stroke(),q(a,M,Math.min(b,f),k,Math.max(b,f),s,0,null,!1,!1,!1,!1))):"ohlc"===u.type&&(i.moveTo(g-P,y),i.lineTo(g-P,v),i.stroke(),i.beginPath(),i.moveTo(g,b),i.lineTo(M,b),i.stroke(),i.beginPath(),i.moveTo(g,f),i.lineTo(k,f),i.stroke(),rt&&(s=H(w),a.strokeStyle=s,a.moveTo(g-P,y),a.lineTo(g-P,v),a.stroke(),a.beginPath(),a.moveTo(g,b),a.lineTo(M,b),a.stroke(),a.beginPath(),a.moveTo(g,f),a.lineTo(k,f),a.stroke())),(m[l].indexLabel||u.indexLabel||m[l].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:u.type,dataPoint:m[l],dataSeries:u,point:{x:M+(k-M)/2,y:t.axisY.reversed?v:y},direction:1,bounds:{x1:M,y1:Math.min(y,v),x2:k,y2:Math.max(y,v)},color:s}))}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(o.x1,o.y1,o.width,o.height),a.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderBoxAndWhisker=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e,a=this._eventManager.ghostCtx;if(!(t.dataSeriesIndexes.length<=0)){var s=null,n=this.plotArea,o=0,l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,h=t.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(t.axisX.range));var d=this.options.dataPointWidth?this.dataPointWidth:n.width*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))*.7<<0;this.dataPointMaxWidth&&r<l&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),(r=!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<l?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l):r)<(d=d<l?l:d)&&(d=r),i.save(),rt&&a.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),rt&&(a.beginPath(),a.rect(n.x1,n.y1,n.width,n.height),a.clip());for(var x=!!t.axisY.reversed,c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],u=this.data[p],m=u.dataPoints;if(0<m.length)for(var g,b,y,v,f,M,k,T,P,w,C,S,A,_,B,F,L,I,V,W,D,z,X,Y,O,E,R,N=!!(5<d&&u.bevelEnabled),o=0;o<m.length;o++)(R=m[o].getTime?m[o].x.getTime():m[o].x)<t.axisX.dataInfo.viewPortMin||R>t.axisX.dataInfo.viewPortMax||!yt(m[o].y)&&m[o].y.length&&"number"==typeof m[o].y[0]&&"number"==typeof m[o].y[1]&&"number"==typeof m[o].y[2]&&"number"==typeof m[o].y[3]&&"number"==typeof m[o].y[4]&&5===m[o].y.length&&(g=t.axisX.convertValueToPixel(R),b=t.axisY.convertValueToPixel(m[o].y[0]),y=t.axisY.convertValueToPixel(m[o].y[1]),v=t.axisY.convertValueToPixel(m[o].y[2]),f=t.axisY.convertValueToPixel(m[o].y[3]),M=t.axisY.convertValueToPixel(m[o].y[4]),k=g-d/2<<0,T=g+d/2<<0,s=m[o].color||u._colorSet[0],w=(P=Math.round(Math.max(1,.15*d)))%2==0?0:.5,C=m[o].whiskerColor||(m[o].color?u.whiskerColor||m[o].color:u.whiskerColor||s),S="number"==typeof m[o].whiskerThickness?m[o].whiskerThickness:"number"==typeof u.options.whiskerThickness?u.whiskerThickness:P,A=m[o].whiskerDashType||u.whiskerDashType,_="number"==typeof(_=yt(m[o].whiskerLength)?yt(u.options.whiskerLength)?d:u.whiskerLength:m[o].whiskerLength)?_<=0?0:d<=_?d:_:"string"!=typeof _||parseInt(_)*d/100>d?d:parseInt(_)*d/100,B=Math.round(S)%2==1?.5:0,F=m[o].stemColor||(m[o].color?u.stemColor||m[o].color:u.stemColor||s),L="number"==typeof m[o].stemThickness?m[o].stemThickness:"number"==typeof u.options.stemThickness?u.stemThickness:P,I=Math.round(L)%2==1?.5:0,V=m[o].stemDashType||u.stemDashType,W=m[o].lineColor||(m[o].color?u.lineColor||m[o].color:u.lineColor||s),D="number"==typeof m[o].lineThickness?m[o].lineThickness:"number"==typeof u.options.lineThickness?u.lineThickness:P,z=m[o].lineDashType||u.lineDashType,X=Math.round(D)%2==1?.5:0,Y=u.upperBoxColor,O=u.lowerBoxColor,E=yt(u.options.fillOpacity)?1:u.fillOpacity,R=u.dataPointIds[o],this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:o,x1:k,y1:b,x2:T,y2:y,x3:g,y3:v,x4:g,y4:f,y5:M,borderThickness:P,color:s,stemThickness:L,stemColor:F,whiskerThickness:S,whiskerLength:_,whiskerColor:C,lineThickness:D,lineColor:W},i.save(),0<L&&(i.beginPath(),i.strokeStyle=F,i.lineWidth=L,i.setLineDash&&i.setLineDash(xt(V,L)),i.moveTo(g-I,y),i.lineTo(g-I,b),i.stroke(),i.moveTo(g-I,f),i.lineTo(g-I,v),i.stroke()),i.restore(),a.lineWidth=Math.max(P,4),i.beginPath(),q(i,k,Math.min(M,y),T,Math.max(y,M),O,0,s,x&&N,!x&&N,!1,!1,E),i.beginPath(),q(i,k,Math.min(v,M),T,Math.max(M,v),Y,0,s,!x&&N,x&&N,!1,!1,E),i.beginPath(),i.lineWidth=P,i.strokeStyle=s,i.rect(k-w,Math.min(y,v)-w,T-k+2*w,Math.max(y,v)-Math.min(y,v)+2*w),i.stroke(),i.save(),0<D&&(i.beginPath(),i.globalAlpha=1,i.setLineDash&&i.setLineDash(xt(z,D)),i.strokeStyle=W,i.lineWidth=D,i.moveTo(k,M-X),i.lineTo(T,M-X),i.stroke()),i.restore(),i.save(),0<S&&(i.beginPath(),i.setLineDash&&i.setLineDash(xt(A,S)),i.strokeStyle=C,i.lineWidth=S,i.moveTo(g-_/2<<0,f-B),i.lineTo(g+_/2<<0,f-B),i.stroke(),i.moveTo(g-_/2<<0,b+B),i.lineTo(g+_/2<<0,b+B),i.stroke()),i.restore(),rt&&(s=H(R),a.strokeStyle=s,0<(a.lineWidth=L)&&(a.moveTo(g-w-I,y),a.lineTo(g-w-I,Math.max(b,f)),a.stroke(),a.moveTo(g-w-I,Math.min(b,f)),a.lineTo(g-w-I,v),a.stroke()),q(a,k,Math.max(y,v),T,Math.min(y,v),s,0,null,!1,!1,!1,!1),0<S&&(a.beginPath(),a.lineWidth=S,a.moveTo(g+_/2,f-B),a.lineTo(g-_/2,f-B),a.stroke(),a.moveTo(g+_/2,b+B),a.lineTo(g-_/2,b+B),a.stroke())),(m[o].indexLabel||u.indexLabel||m[o].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:u.type,dataPoint:m[o],dataSeries:u,point:{x:k+(T-k)/2,y:t.axisY.reversed?b:f},direction:1,bounds:{x1:k,y1:Math.min(b,f),x2:T,y2:Math.max(b,f)},color:s}))}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),a.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a=null,s=this.plotArea,n=0,o=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width,r=t.axisX.dataInfo.minDiff;isFinite(r)||(r=.3*Math.abs(t.axisX.range));var h=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(r)/Math.log(t.axisX.range):Math.abs(r)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0;this.dataPointMaxWidth&&l<o&&(o=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),(l=!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<o?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,o):l)<(h=h<o?o:h)&&(h=l),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var d=0;d<t.dataSeriesIndexes.length;d++){var x=t.dataSeriesIndexes[d],c=this.data[x],p=c.dataPoints;if(0<p.length)for(var u,m,g,b,y,v=!!(5<h&&c.bevelEnabled),n=0;n<p.length;n++)(y=p[n].getTime?p[n].x.getTime():p[n].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax||!yt(p[n].y)&&p[n].y.length&&"number"==typeof p[n].y[0]&&"number"==typeof p[n].y[1]&&(u=t.axisX.convertValueToPixel(y),m=t.axisY.convertValueToPixel(p[n].y[0]),g=t.axisY.convertValueToPixel(p[n].y[1]),y=t.axisX.reversed?u+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+d)*h<<0:u-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+d)*h<<0,u=t.axisX.reversed?y-h<<0:y+h<<0,a=p[n].color||c._colorSet[n%c._colorSet.length],g<m&&(b=m,m=g,g=b),b=c.dataPointIds[n],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:n,x1:y,y1:m,x2:u,y2:g},q(i,y,m,u,g,a,0,a,v,v,!1,!1,c.fillOpacity),a=H(b),rt&&q(this._eventManager.ghostCtx,y,m,u,g,a,0,null,!1,!1,!1,!1),(p[n].indexLabel||c.indexLabel||p[n].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:p[n],dataSeries:c,indexKeyword:0,point:{x:y+(u-y)/2,y:p[n].y[1]>=p[n].y[0]?g:m},direction:p[n].y[1]>=p[n].y[0]?-1:1,bounds:{x1:y,y1:Math.min(m,g),x2:u,y2:Math.max(m,g)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:p[n],dataSeries:c,indexKeyword:1,point:{x:y+(u-y)/2,y:p[n].y[1]>=p[n].y[0]?m:g},direction:p[n].y[1]>=p[n].y[0]?1:-1,bounds:{x1:y,y1:Math.min(m,g),x2:u,y2:Math.max(m,g)},color:a})))}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderError=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e,a=!!t.axisY._position&&("left"!==t.axisY._position&&"right"!==t.axisY._position);if(!(t.dataSeriesIndexes.length<=0)){var s,n,o,l,r,h,d=!1,x=this.plotArea,c=0,p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range)),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(x.x1,x.y1,x.width,x.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.clip());for(var u=0,m=0;m<this.data.length;m++)this.data[m].type.match(/(bar|column)/gi)&&this.data[m].visible&&(this.data[m].type.match(/(stacked)/gi)&&u||u++);for(var g=0;g<t.dataSeriesIndexes.length;g++){var b=t.dataSeriesIndexes[g],y=this.data[b],v=y.dataPoints,f=!yt(y._linkedSeries)&&!(!y._linkedSeries.type.match(/(bar|column)/gi)||!y._linkedSeries.visible),M=0;if(f)for(var k=y._linkedSeries.id,m=0;m<k;m++)this.data[m].type.match(/(bar|column)/gi)&&this.data[m].visible&&(this.data[m].type.match(/(stacked)/gi)&&M||(this.data[m].type.match(/(range)/gi)&&(d=!0),M++));var T=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,P=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,this.plotArea.height/(f?u:1)*.9)<<0:.3*this.width;d&&(P=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:a?Math.min(.15*this.height,this.plotArea.height/(f?u:1)*.9)<<0:.03*this.width);var w=this.options.dataPointWidth?this.dataPointWidth:(a?x.height:x.width)*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/(f?u:1)*.9<<0;if(this.dataPointMaxWidth&&P<T&&(T=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,P)),(P=!this.dataPointMaxWidth&&this.dataPointMinWidth&&P<T?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,T):P)<(w=w<T?T:w)&&(w=P),0<v.length)for(var C=y._colorSet,c=0;c<v.length;c++){var S=y.lineColor=y.options.color||C[0],A={color:v[c].whiskerColor||(v[c].color?y.whiskerColor||v[c].color:y.whiskerColor||S),thickness:(yt(v[c].whiskerThickness)?y:v[c]).whiskerThickness,dashType:v[c].whiskerDashType||y.whiskerDashType,length:yt(v[c].whiskerLength)?yt(y.options.whiskerLength)?w:y.options.whiskerLength:v[c].whiskerLength,trimLength:yt(v[c].whiskerLength)&&yt(y.options.whiskerLength)?50:0};A.length="number"==typeof A.length?A.length<=0?0:A.length>=w?w:A.length:"string"!=typeof A.length||parseInt(A.length)*w/100>w?w:parseInt(A.length)*w/100>w,A.thickness="number"==typeof A.thickness?A.thickness<0?0:Math.round(A.thickness):2;var _,B={color:v[c].stemColor||(v[c].color?y.stemColor||v[c].color:y.stemColor||S),thickness:v[c].stemThickness||y.stemThickness,dashType:v[c].stemDashType||y.stemDashType};B.thickness="number"==typeof B.thickness?B.thickness<0?0:Math.round(B.thickness):2,(_=v[c].getTime?v[c].x.getTime():v[c].x)<t.axisX.dataInfo.viewPortMin||_>t.axisX.dataInfo.viewPortMax||!yt(v[c].y)&&v[c].y.length&&"number"==typeof v[c].y[0]&&"number"==typeof v[c].y[1]&&(_=t.axisX.convertValueToPixel(_),a?n=_:s=_,_=t.axisY.convertValueToPixel(v[c].y[0]),a?o=_:r=_,_=t.axisY.convertValueToPixel(v[c].y[1]),a?l=_:h=_,a?(r=t.axisX.reversed?n+(f?u:1)*w/2-(f?M-1:0)*w<<0:n-(f?u:1)*w/2+(f?M-1:0)*w<<0,h=t.axisX.reversed?r-w<<0:r+w<<0):(o=t.axisX.reversed?s+(f?u:1)*w/2-(f?M-1:0)*w<<0:s-(f?u:1)*w/2+(f?M-1:0)*w<<0,l=t.axisX.reversed?o-w<<0:o+w<<0),!a&&h<r&&(_=r,r=h,h=_),a&&l<o&&(_=o,o=l,l=_),_=y.dataPointIds[c],this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:c,x1:Math.min(o,l),y1:Math.min(r,h),x2:Math.max(l,o),y2:Math.max(h,r),isXYSwapped:a,stemProperties:B,whiskerProperties:A},F(i,Math.min(o,l),Math.min(r,h),Math.max(l,o),Math.max(h,r),S,A,B,a),rt&&F(this._eventManager.ghostCtx,o,r,l,h,S,A,B,a),(v[c].indexLabel||y.indexLabel||v[c].indexLabelFormatter||y.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:v[c],dataSeries:y,indexKeyword:0,point:{x:a?v[c].y[1]>=v[c].y[0]?o:l:o+(l-o)/2,y:a?r+(h-r)/2:v[c].y[1]>=v[c].y[0]?h:r},direction:v[c].y[1]>=v[c].y[0]?-1:1,bounds:{x1:a?Math.min(o,l):o,y1:a?r:Math.min(r,h),x2:a?Math.max(o,l):l,y2:a?h:Math.max(r,h)},color:S,axisSwapped:a}),this._indexLabels.push({chartType:"error",dataPoint:v[c],dataSeries:y,indexKeyword:1,point:{x:a?v[c].y[1]>=v[c].y[0]?l:o:o+(l-o)/2,y:a?r+(h-r)/2:v[c].y[1]>=v[c].y[0]?r:h},direction:v[c].y[1]>=v[c].y[0]?1:-1,bounds:{x1:a?Math.min(o,l):o,y1:a?r:Math.min(r,h),x2:a?Math.max(o,l):l,y2:a?h:Math.max(r,h)},color:S,axisSwapped:a})))}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(x.x1,x.y1,x.width,x.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a,s=this.plotArea,n=0,o=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0,r=t.axisX.dataInfo.minDiff;isFinite(r)||(r=.3*Math.abs(t.axisX.range));var h=this.options.dataPointWidth?this.dataPointWidth:s.height*(t.axisX.logarithmic?Math.log(r)/Math.log(t.axisX.range):Math.abs(r)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0;this.dataPointMaxWidth&&l<o&&(o=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),(l=!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<o?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,o):l)<(h=h<o?o:h)&&(h=l),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(s.x1,s.y1,s.width,s.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var d=0;d<t.dataSeriesIndexes.length;d++){var x=t.dataSeriesIndexes[d],c=this.data[x],p=c.dataPoints;if(0<p.length){var u,m,g,b,y,v=!!(5<h&&c.bevelEnabled);for(i.strokeStyle="#4572A7 ",n=0;n<p.length;n++)(y=p[n].getTime?p[n].x.getTime():p[n].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax||!yt(p[n].y)&&p[n].y.length&&"number"==typeof p[n].y[0]&&"number"==typeof p[n].y[1]&&(m=t.axisY.convertValueToPixel(p[n].y[0]),g=t.axisY.convertValueToPixel(p[n].y[1]),u=t.axisX.convertValueToPixel(y),y=t.axisX.reversed?u+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+d)*h<<0:u-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+d)*h<<0,u=t.axisX.reversed?y-h<<0:y+h<<0,g<m&&(b=m,m=g,g=b),a=p[n].color||c._colorSet[n%c._colorSet.length],q(i,m,y,g,u,a,0,null,v,!1,!1,!1,c.fillOpacity),b=c.dataPointIds[n],this._eventManager.objectMap[b]={id:b,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:n,x1:m,y1:y,x2:g,y2:u},a=H(b),rt&&q(this._eventManager.ghostCtx,m,y,g,u,a,0,null,!1,!1,!1,!1),(p[n].indexLabel||c.indexLabel||p[n].indexLabelFormatter||c.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:p[n],dataSeries:c,indexKeyword:0,point:{x:p[n].y[1]>=p[n].y[0]?m:g,y:y+(u-y)/2},direction:p[n].y[1]>=p[n].y[0]?-1:1,bounds:{x1:Math.min(m,g),y1:y,x2:Math.max(m,g),y2:u},color:a}),this._indexLabels.push({chartType:"rangeBar",dataPoint:p[n],dataSeries:c,indexKeyword:1,point:{x:p[n].y[1]>=p[n].y[0]?g:m,y:y+(u-y)/2},direction:p[n].y[1]>=p[n].y[0]?1:-1,bounds:{x1:Math.min(m,g),y1:y,x2:Math.max(m,g),y2:u},color:a})))}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0}}},r.prototype.renderRangeArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx,s=(t.axisX.lineCoordinates,t.axisY.lineCoordinates,[]),n=this.plotArea;i.save(),rt&&a.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),rt&&(a.beginPath(),a.rect(n.x1,n.y1,n.width,n.height),a.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var l=[],r=t.dataSeriesIndexes[o],h=this.data[r],d=h.dataPoints,x=h.id;this._eventManager.objectMap[x]={objectType:"dataSeries",dataSeriesIndex:r};x=H(x);a.fillStyle=x;var c,p,u,s=[],m=!0,g=0,b=null;if(0<d.length){var y=h._colorSet[g%h._colorSet.length],v=h.lineColor=h.options.lineColor||y,f=v;i.fillStyle=y,i.strokeStyle=v,i.lineWidth=h.lineThickness;var M,k,T="solid";i.setLineDash&&(M=xt(h.nullDataLineDashType,h.lineThickness),k=xt(T=h.lineDashType,h.lineThickness),i.setLineDash(k));for(var P,w,C,S=!0;g<d.length;g++)(C=d[g].x.getTime?d[g].x.getTime():d[g].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!S)||(null!==d[g].y&&d[g].y.length&&"number"==typeof d[g].y[0]&&"number"==typeof d[g].y[1]?(c=t.axisX.convertValueToPixel(C),p=t.axisY.convertValueToPixel(d[g].y[0]),u=t.axisY.convertValueToPixel(d[g].y[1]),m||S?(h.connectNullData&&!m?(i.setLineDash&&(h.options.nullDataLineDashType||T===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(l[l.length-1].newLineDashArray=k,T=h.nullDataLineDashType,i.setLineDash(M)),i.lineTo(c,p),rt&&a.lineTo(c,p),l.push({x:c,y:u})):(i.beginPath(),i.moveTo(c,p),b={x:c,y:p},(l=[]).push({x:c,y:u}),rt&&(a.beginPath(),a.moveTo(c,p))),S=m=!1):(i.lineTo(c,p),l.push({x:c,y:u}),rt&&a.lineTo(c,p),g%250==0&&A()),P=h.dataPointIds[g],this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:r,dataPointIndex:g,x1:c,y1:p,y2:u},g<d.length-1&&(f===(d[g].lineColor||v)&&T===(d[g].lineDashType||h.lineDashType)||(A(),f=d[g].lineColor||v,l[l.length-1].newStrokeStyle=f,i.strokeStyle=f,i.setLineDash&&(d[g].lineDashType?(T=d[g].lineDashType,l[l.length-1].newLineDashArray=xt(T,h.lineThickness),i.setLineDash(l[l.length-1].newLineDashArray)):(T=h.lineDashType,l[l.length-1].newLineDashArray=k,i.setLineDash(k))))),0!==d[g].markerSize&&(0<d[g].markerSize||0<h.markerSize)&&(w=h.getMarkerProperties(g,c,u,i),s.push(w),C=H(P),rt&&s.push({x:c,y:u,ctx:a,type:w.type,size:w.size,color:C,borderColor:C,borderThickness:w.borderThickness}),(w=h.getMarkerProperties(g,c,p,i)).color,s.push(w),C=H(P),rt&&s.push({x:c,y:p,ctx:a,type:w.type,size:w.size,color:C,borderColor:C,borderThickness:w.borderThickness})),(d[g].indexLabel||h.indexLabel||d[g].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:d[g],dataSeries:h,indexKeyword:0,point:{x:c,y:p},direction:d[g].y[0]>d[g].y[1]===t.axisY.reversed?-1:1,color:y}),this._indexLabels.push({chartType:"rangeArea",dataPoint:d[g],dataSeries:h,indexKeyword:1,point:{x:c,y:u},direction:d[g].y[0]>d[g].y[1]===t.axisY.reversed?1:-1,color:y}))):(S||m||A(),S=!0));A(),X.drawMarkers(s)}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}function A(){if(b){var t=null;0<h.lineThickness&&i.stroke();for(var e=l.length-1;0<=e;e--)t=l[e],i.lineTo(t.x,t.y),a.lineTo(t.x,t.y);if(i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),i.globalAlpha=1,a.fill(),0<h.lineThickness){i.beginPath(),i.moveTo(t.x,t.y);for(e=0;e<l.length;e++)t=l[e],i.lineTo(t.x,t.y);i.stroke()}i.beginPath(),i.moveTo(c,p),a.beginPath(),a.moveTo(c,p),b={x:c,y:p},(l=[]).push({x:c,y:u})}}},r.prototype.renderRangeSplineArea=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var o=this._eventManager.ghostCtx,i=(t.axisX.lineCoordinates,t.axisY.lineCoordinates,[]),a=this.plotArea;n.save(),rt&&o.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),rt&&(o.beginPath(),o.rect(a.x1,a.y1,a.width,a.height),o.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],r=this.data[l],h=r.dataPoints,d=r.id;this._eventManager.objectMap[d]={objectType:"dataSeries",dataSeriesIndex:l};d=H(d);o.fillStyle=d;var i=[],x=0,c=[],p=[];if(0<h.length){var u=r._colorSet[x%r._colorSet.length],m=r.lineColor=r.options.lineColor||u,g=m;n.fillStyle=u,n.lineWidth=r.lineThickness;var b,y,v="solid";n.setLineDash&&(b=xt(r.nullDataLineDashType,r.lineThickness),y=xt(v=r.lineDashType,r.lineThickness));for(var f,M,k,T,P,w,C=!1;x<h.length;x++)(w=h[x].x.getTime?h[x].x.getTime():h[x].x)<t.axisX.dataInfo.viewPortMin||w>t.axisX.dataInfo.viewPortMax&&(!r.connectNullData||!C)||(C=null!==h[x].y&&h[x].y.length&&"number"==typeof h[x].y[0]&&"number"==typeof h[x].y[1]?(f=t.axisX.convertValueToPixel(w),M=t.axisY.convertValueToPixel(h[x].y[0]),k=t.axisY.convertValueToPixel(h[x].y[1]),T=r.dataPointIds[x],this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:x,x1:f,y1:M,y2:k},c[c.length]={x:f,y:M},p[p.length]={x:f,y:k},x<h.length-1&&(g!==(h[x].lineColor||m)||v!==(h[x].lineDashType||r.lineDashType))&&(g=h[x].lineColor||m,c[c.length-1].newStrokeStyle=g,n.setLineDash&&(h[x].lineDashType?(v=h[x].lineDashType,c[c.length-1].newLineDashArray=xt(v,r.lineThickness)):(v=r.lineDashType,c[c.length-1].newLineDashArray=y))),0!==h[x].markerSize&&(0<h[x].markerSize||0<r.markerSize)&&((P=r.getMarkerProperties(x,f,M,n)).color,i.push(P),w=H(T),rt&&i.push({x:f,y:M,ctx:o,type:P.type,size:P.size,color:w,borderColor:w,borderThickness:P.borderThickness}),P=r.getMarkerProperties(x,f,k,n),i.push(P),w=H(T),rt&&i.push({x:f,y:k,ctx:o,type:P.type,size:P.size,color:w,borderColor:w,borderThickness:P.borderThickness})),(h[x].indexLabel||r.indexLabel||h[x].indexLabelFormatter||r.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:h[x],dataSeries:r,indexKeyword:0,point:{x:f,y:M},direction:h[x].y[0]<=h[x].y[1]?-1:1,color:u}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:h[x],dataSeries:r,indexKeyword:1,point:{x:f,y:k},direction:h[x].y[0]<=h[x].y[1]?1:-1,color:u})),!1):(0<x&&!C&&(r.connectNullData?n.setLineDash&&0<c.length&&(r.options.nullDataLineDashType||!h[x-1].lineDashType)&&(c[c.length-1].newLineDashArray=b,v=r.nullDataLineDashType):(S(y,m),c=[],p=[])),!0));S(y,m),X.drawMarkers(i)}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.xClipAnimation,easingFunction:ot.easing.linear,animationBase:0}}function S(t,e){var i=B(c,2);if(0<i.length){if(0<r.lineThickness){n.strokeStyle=e,n.setLineDash&&n.setLineDash(t),n.beginPath(),n.moveTo(i[0].x,i[0].y);for(var a=0;a<i.length-3;a+=3)(i[a].newStrokeStyle||i[a].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(i[a].x,i[a].y),i[a].newStrokeStyle&&(n.strokeStyle=i[a].newStrokeStyle),i[a].newLineDashArray&&n.setLineDash(i[a].newLineDashArray)),n.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);n.stroke()}n.beginPath(),n.moveTo(i[0].x,i[0].y),rt&&(o.beginPath(),o.moveTo(i[0].x,i[0].y));for(a=0;a<i.length-3;a+=3)n.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y),rt&&o.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);i=B(p,2),n.lineTo(p[p.length-1].x,p[p.length-1].y);for(a=i.length-1;2<a;a-=3)n.bezierCurveTo(i[a-1].x,i[a-1].y,i[a-2].x,i[a-2].y,i[a-3].x,i[a-3].y),rt&&o.bezierCurveTo(i[a-1].x,i[a-1].y,i[a-2].x,i[a-2].y,i[a-3].x,i[a-3].y);if(n.closePath(),n.globalAlpha=r.fillOpacity,n.fill(),rt&&(o.closePath(),o.fill()),n.globalAlpha=1,0<r.lineThickness){n.strokeStyle=e,n.setLineDash&&n.setLineDash(t),n.beginPath(),n.moveTo(i[0].x,i[0].y);for(var a=0,s=0;a<i.length-3;a+=3,s++)(c[s].newStrokeStyle||c[s].newLineDashArray)&&(n.stroke(),n.beginPath(),n.moveTo(i[a].x,i[a].y),c[s].newStrokeStyle&&(n.strokeStyle=c[s].newStrokeStyle),c[s].newLineDashArray&&n.setLineDash(c[s].newLineDashArray)),n.bezierCurveTo(i[a+1].x,i[a+1].y,i[a+2].x,i[a+2].y,i[a+3].x,i[a+3].y);n.stroke()}n.beginPath()}}},r.prototype.renderWaterfall=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,i=rt?this._preRenderCtx:e;if(!(t.dataSeriesIndexes.length<=0)){var a=this._eventManager.ghostCtx,s=null,n=this.plotArea,o=0,l=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),r=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,h=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0,d=t.axisX.dataInfo.minDiff;isFinite(d)||(d=.3*Math.abs(t.axisX.range));var x=this.options.dataPointWidth?this.dataPointWidth:n.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6<<0;this.dataPointMaxWidth&&h<r&&(r=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),(h=!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<r?Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,r):h)<(x=x<r?r:x)&&(x=h),i.save(),rt&&this._eventManager.ghostCtx.save(),i.beginPath(),i.rect(n.x1,n.y1,n.width,n.height),i.clip(),rt&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.clip());for(var c=0;c<t.dataSeriesIndexes.length;c++){var p=t.dataSeriesIndexes[c],u=this.data[p],m=u.dataPoints,s=u._colorSet[0];u.risingColor=u.options.risingColor||s,u.fallingColor=u.options.fallingColor||"#e40a0a";var g="number"==typeof u.options.lineThickness?Math.round(u.lineThickness):1,b=Math.round(g)%2==1?-.5:0;if(0<m.length)for(var y=!!(5<x&&u.bevelEnabled),v=!1,f=null,M=null,o=0;o<m.length;o++){var k,T,P,w,C,S,A,_=m[o].getTime?m[o].x.getTime():m[o].x;"number"==typeof m[o].y?(S=t.axisX.convertValueToPixel(_),P=0===u.dataPointEOs[o].cumulativeSum?l:t.axisY.convertValueToPixel(u.dataPointEOs[o].cumulativeSum),w=0===u.dataPointEOs[o].cumulativeSumYStartValue?l:t.axisY.convertValueToPixel(u.dataPointEOs[o].cumulativeSumYStartValue),k=t.axisX.reversed?S+t.plotType.totalDataSeries*x/2-(t.previousDataSeriesCount+c)*x<<0:S-t.plotType.totalDataSeries*x/2+(t.previousDataSeriesCount+c)*x<<0,T=t.axisX.reversed?k-x<<0:k+x<<0,w<P&&(C=P,P=w,w=C),t.axisY.reversed&&(C=P,P=w,w=C),_=u.dataPointIds[o],this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:o,x1:k,y1:P,x2:T,y2:w},S=m[o].color||(0<m[o].y?u.risingColor:u.fallingColor),q(i,k,P,T,w,S,0,S,y,y,!1,!1,u.fillOpacity),s=H(_),rt&&q(this._eventManager.ghostCtx,k,P,T,w,s,0,null,!1,!1,!1,!1),S=k,_=void 0!==m[o].isIntermediateSum&&!0===m[o].isIntermediateSum||void 0!==m[o].isCumulativeSum&&!0===m[o].isCumulativeSum?0<m[o].y?P:w:0<m[o].y?w:P,0<o&&f&&(v&&!u.connectNullData||(v&&i.setLineDash&&i.setLineDash(xt(A,g)),i.beginPath(),i.moveTo(f,M-b),i.lineTo(S,_-b),0<g&&i.stroke(),rt&&(a.beginPath(),a.moveTo(f,M-b),a.lineTo(S,_-b),0<g&&a.stroke()))),v=!1,f=T,M=0<m[o].y?P:w,S=m[o].lineDashType||u.options.lineDashType||"shortDash",_=m[o].lineColor||u.options.lineColor||"#9e9e9e",i.strokeStyle=_,i.lineWidth=g,i.setLineDash&&(S=xt(S,g),i.setLineDash(S)),(m[o].indexLabel||u.indexLabel||m[o].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:m[o],dataSeries:u,point:{x:k+(T-k)/2,y:0<=m[o].y?P:w},direction:m[o].y<0===t.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(P,w),x2:T,y2:Math.max(P,w)},color:s})):(0<o&&!v&&u.connectNullData&&(A=u.options.nullDataLineDashType||!m[o-1].lineDashType?u.nullDataLineDashType:m[o-1].lineDashType),v=!0)}}return rt&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(n.x1,n.y1,n.width,n.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:ot.fadeInAnimation,easingFunction:ot.easing.easeInQuad,animationBase:0}}};function d(t,e,i,a,s,n,o,l,r){var h;i<0||(void 0===l&&(l=1),rt||(h=Number((o%(2*Math.PI)).toFixed(8)),Number((n%(2*Math.PI)).toFixed(8))===h&&(o-=1e-4)),t.save(),t.globalAlpha=l,"pie"===s?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,i,n,o,!1),t.fillStyle=a,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===s&&(t.beginPath(),t.arc(e.x,e.y,i,n,o,!1),0<=r&&t.arc(e.x,e.y,r*i,o,n,!0),t.closePath(),t.fillStyle=a,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore())}function l(t,e,i,a,s){if(null==t)return void 0===i?e:i;t=parseFloat(t.toString())*(0<=t.toString().indexOf("%")?e/100:1);return void 0!==a&&(t=Math.min(a,t),void 0!==s&&(t=Math.max(s,t))),!isNaN(t)&&t<=e&&0<=t?t:void 0===i?e:i}r.prototype.renderPie=function(t){var T=this;if(!(t.dataSeriesIndexes.length<=0)){for(var P,w,C,S,t=t.dataSeriesIndexes[0],A=this.data[t],_=A.dataPoints,B=10,F=this.plotArea,L=A.dataPointEOs,I=2,V=1.3,b=20/180*Math.PI,W=6,D={x:(F.x2+F.x1)/2,y:(F.y2+F.y1)/2},p=0,e=!1,i=0;i<_.length;i++)p+=Math.abs(_[i].y),!(e=!e&&void 0!==_[i].indexLabel&&null!==_[i].indexLabel&&0<_[i].indexLabel.toString().length?!0:e)&&void 0!==_[i].label&&null!==_[i].label&&0<_[i].label.toString().length&&(e=!0);0!==p&&(e=e||void 0!==A.indexLabel&&null!==A.indexLabel&&0<A.indexLabel.toString().length,w="inside"!==A.indexLabelPlacement&&e?.75*Math.min(F.width,F.height)/2:.92*Math.min(F.width,F.height)/2,A.radius&&(w=l(A.radius,w)),C=void 0!==A.innerRadius&&null!==A.innerRadius?l(A.innerRadius,w):.7*w,A.radius=w,"doughnut"===A.type&&(A.innerRadius=C),S=Math.min(C/w,(w-1)/w),this.pieDoughnutClickHandler=function(t){var e;T.isAnimating||(yt(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&(e=t.dataPointIndex,t=t.dataPoint,this.dataPointIds[e],t.exploded?t.exploded=!1:t.exploded=!0,1<this.dataPoints.length&&T._animator.animate(0,500,function(t){a(t),n()}))},function(){if(A&&_){for(var t=0,e=0,i=0,a=0,s=0;s<_.length;s++){var n=_[s],o=A.dataPointIds[s];L[s].id=o,L[s].objectType="dataPoint",L[s].dataPointIndex=s,L[s].dataSeriesIndex=0;var l=L[s],r=null,h=T.getPercentAndTotal(A,n);(A.indexLabelFormatter||n.indexLabelFormatter)&&(r={chart:T.options,dataSeries:A,dataPoint:n,total:h.total,percent:h.percent});r=n.indexLabelFormatter?n.indexLabelFormatter(r):n.indexLabel?T.replaceKeywordsWithValue(n.indexLabel,n,A,s):A.indexLabelFormatter?A.indexLabelFormatter(r):A.indexLabel?T.replaceKeywordsWithValue(A.indexLabel,n,A,s):n.label||"";(T._eventManager.objectMap[o]=l).center={x:D.x,y:D.y},l.y=n.y,l.radius=w,l.percentInnerRadius=S,l.indexLabelText=r,l.indexLabelPlacement=A.indexLabelPlacement,l.indexLabelLineColor=n.indexLabelLineColor||A.options.indexLabelLineColor||n.color||A._colorSet[s%A._colorSet.length],l.indexLabelLineThickness=(yt(n.indexLabelLineThickness)?A:n).indexLabelLineThickness,l.indexLabelLineDashType=n.indexLabelLineDashType||A.indexLabelLineDashType,l.indexLabelFontColor=n.indexLabelFontColor||A.indexLabelFontColor,l.indexLabelFontStyle=n.indexLabelFontStyle||A.indexLabelFontStyle,l.indexLabelFontWeight=n.indexLabelFontWeight||A.indexLabelFontWeight,l.indexLabelFontSize=(yt(n.indexLabelFontSize)?A:n).indexLabelFontSize,l.indexLabelFontFamily=n.indexLabelFontFamily||A.indexLabelFontFamily,l.indexLabelBackgroundColor=n.indexLabelBackgroundColor||A.options.indexLabelBackgroundColor||A.indexLabelBackgroundColor,l.indexLabelMaxWidth=n.indexLabelMaxWidth||A.indexLabelMaxWidth||.33*F.width,l.indexLabelWrap=(void 0!==n.indexLabelWrap?n:A).indexLabelWrap,l.startAngle=0===s?A.startAngle?A.startAngle/180*Math.PI:0:L[s-1].endAngle,l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI),l.endAngle=l.startAngle+2*Math.PI/p*Math.abs(n.y);n=((n=(l.endAngle+l.startAngle)/2)+2*Math.PI)%(2*Math.PI);l.midAngle=n,l.midAngle>Math.PI/2-b&&l.midAngle<Math.PI/2+b?((0===t||L[i].midAngle>l.midAngle)&&(i=s),t++):l.midAngle>3*Math.PI/2-b&&l.midAngle<3*Math.PI/2+b&&((0===e||L[a].midAngle>l.midAngle)&&(a=s),e++),n>Math.PI/2&&n<=3*Math.PI/2?l.hemisphere="left":l.hemisphere="right",l.indexLabelTextBlock=new vt(T.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"}),l.indexLabelTextBlock.measureText()}for(var d=0,x=0,c=!1,s=0;s<_.length;s++){l=L[(i+s)%_.length];1<t&&l.midAngle>Math.PI/2-b&&l.midAngle<Math.PI/2+b&&(d<=t/2&&!c?(l.hemisphere="right",d++):(l.hemisphere="left",c=!0))}for(c=!1,s=0;s<_.length;s++){l=L[(a+s)%_.length];1<e&&l.midAngle>3*Math.PI/2-b&&l.midAngle<3*Math.PI/2+b&&(x<=e/2&&!c?(l.hemisphere="left",x++):(l.hemisphere="right",c=!0))}}}(),s(),s(),s(),s(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,function(t){!function(t){var e=T.plotArea.ctx;e.clearRect(F.x1,F.y1,F.width,F.height),e.fillStyle=T.backgroundColor,e.fillRect(F.x1,F.y1,F.width,F.height);for(var i=L[0].startAngle+2*Math.PI*t,a=0;a<_.length;a++){var s=0===a?L[a].startAngle:n,n=s+(L[a].endAngle-L[a].startAngle),o=!1;i<n&&(n=i,o=!0);var l=_[a].color||A._colorSet[a%A._colorSet.length];if(s<n&&d(T.plotArea.ctx,L[a].center,L[a].radius,l,A.type,s,n,A.fillOpacity,L[a].percentInnerRadius),o)break}}(t),n()},function(){T.disableToolTip=!1,T._animator.animate(0,T.animatedRender?500:0,function(t){a(t),n()})}))}function a(t){var e=T.plotArea.ctx;e.clearRect(F.x1,F.y1,F.width,F.height),e.fillStyle=T.backgroundColor,e.fillRect(F.x1,F.y1,F.width,F.height);for(var i=0;i<_.length;i++){var a,s,n,o,l=L[i].startAngle,r=L[i].endAngle;l<r&&(a=.07*w*Math.cos(L[i].midAngle),s=.07*w*Math.sin(L[i].midAngle),n=!1,_[i].exploded?(1e-9<Math.abs(L[i].center.x-(D.x+a))||1e-9<Math.abs(L[i].center.y-(D.y+s)))&&(L[i].center.x=D.x+a*t,L[i].center.y=D.y+s*t,n=!0):(0<Math.abs(L[i].center.x-D.x)||0<Math.abs(L[i].center.y-D.y))&&(L[i].center.x=D.x+a*(1-t),L[i].center.y=D.y+s*(1-t),n=!0),n&&((o={}).dataSeries=A,o.dataPoint=A.dataPoints[i],o.index=i,T.toolTip.highlightObjects([o])),o=_[i].color||A._colorSet[i%A._colorSet.length],d(T.plotArea.ctx,L[i].center,L[i].radius,o,A.type,l,r,A.fillOpacity,L[i].percentInnerRadius))}!function(){var t=T.plotArea.ctx;t.save(),t.fillStyle="black",t.strokeStyle="grey",t.textBaseline="middle",t.lineJoin="round";for(var e=0,e=0;e<_.length;e++){var i,a,s=L[e];s.indexLabelText&&(s.indexLabelTextBlock.y-=s.indexLabelTextBlock.height/2,a=0,a="left"===s.hemisphere?"inside"!==A.indexLabelPlacement?-(s.indexLabelTextBlock.width+B):-s.indexLabelTextBlock.width/2:"inside"!==A.indexLabelPlacement?B:-s.indexLabelTextBlock.width/2,s.indexLabelTextBlock.x+=a,s.indexLabelTextBlock.render(!0),s.indexLabelTextBlock.x-=a,s.indexLabelTextBlock.y+=s.indexLabelTextBlock.height/2,"inside"!==s.indexLabelPlacement&&0<s.indexLabelLineThickness&&(i=s.center.x+w*Math.cos(s.midAngle),a=s.center.y+w*Math.sin(s.midAngle),t.strokeStyle=s.indexLabelLineColor,t.lineWidth=s.indexLabelLineThickness,t.setLineDash&&t.setLineDash(xt(s.indexLabelLineDashType,s.indexLabelLineThickness)),t.beginPath(),t.moveTo(i,a),t.lineTo(s.indexLabelTextBlock.x,s.indexLabelTextBlock.y),t.lineTo(s.indexLabelTextBlock.x+("left"===s.hemisphere?-B:B),s.indexLabelTextBlock.y),t.stroke()),t.lineJoin="miter")}t.save()}()}function z(t,e){var i=t.indexLabelTextBlock.y,a=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,s=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2,n=e.indexLabelTextBlock.y,t=e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,e=e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2;return i<n?t-s:a-e}function X(t){for(var e=null,i=1;i<_.length;i++){if(e=(t+i+L.length)%L.length,L[e].hemisphere!==L[t].hemisphere){e=null;break}if(L[e].indexLabelText&&e!==t&&(z(L[e],L[t])<0||("right"===L[t].hemisphere?L[e].indexLabelTextBlock.y>=L[t].indexLabelTextBlock.y:L[e].indexLabelTextBlock.y<=L[t].indexLabelTextBlock.y)))break;e=null}return e}function Y(t,e,i){if(1e3<(i=(i||0)+1))return 0;e=e||0;var a=0,s=D.y-+P,n=D.y+ +P;if(0<=t&&t<_.length){var o=L[t];if(e<0&&o.indexLabelTextBlock.y<s||0<e&&o.indexLabelTextBlock.y>n)return 0;var l=0;(e=e)<0?o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2>s&&o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2+e<s&&(e=-(s-(o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2+e))):o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2<s&&o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2+e>n&&(e=o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2+e-n);var r,h,d,x,c,p,s=o.indexLabelTextBlock.y+e,n=0,n="right"===o.hemisphere?D.x+Math.sqrt(Math.pow(P,2)-Math.pow(s-D.y,2)):D.x-Math.sqrt(Math.pow(P,2)-Math.pow(s-D.y,2)),u=D.x+w*Math.cos(o.midAngle),m=D.y+w*Math.sin(o.midAngle),g=Math.sqrt(Math.pow(n-u,2)+Math.pow(s-m,2)),l=Math.acos(w/P),e=Math.acos((P*P+w*w-g*g)/(2*w*P))<l?s-o.indexLabelTextBlock.y:0,m=function(t){for(var e=null,i=1;i<_.length;i++){if(e=(t-i+L.length)%L.length,L[e].hemisphere!==L[t].hemisphere){e=null;break}if(L[e].indexLabelText&&L[e].hemisphere===L[t].hemisphere&&e!==t&&(z(L[e],L[t])<0||("right"===L[t].hemisphere?L[e].indexLabelTextBlock.y<=L[t].indexLabelTextBlock.y:L[e].indexLabelTextBlock.y>=L[t].indexLabelTextBlock.y)))break;e=null}return e}(t),g=X(t),l=0,s=0;e<0?(a=e,null!==(r="right"===o.hemisphere?m:g)&&(d=o.indexLabelTextBlock.y-o.indexLabelTextBlock.height/2-(L[r].indexLabelTextBlock.y+L[r].indexLabelTextBlock.height/2))-(h=-e)<I&&+(s=Y(r,l=-h,i+1)).toFixed(W)>+l.toFixed(W)&&(a=I<d?-(d-I):-(h-(s-l)))):0<e&&(a=e,null!==(r="right"===o.hemisphere?g:m)&&(d=L[r].indexLabelTextBlock.y-L[r].indexLabelTextBlock.height/2-(o.indexLabelTextBlock.y+o.indexLabelTextBlock.height/2))-(h=e)<I&&+(s=Y(r,l=h,i+1)).toFixed(W)<+l.toFixed(W)&&(a=I<d?d-I:h-(l-s))),a&&(l=o.indexLabelTextBlock.y+a,s=0,s="right"===o.hemisphere?D.x+Math.sqrt(Math.pow(P,2)-Math.pow(l-D.y,2)):D.x-Math.sqrt(Math.pow(P,2)-Math.pow(l-D.y,2)),o.midAngle>Math.PI/2-b&&o.midAngle<Math.PI/2+b?(x=(t-1+L.length)%L.length,c=L[x],p=L[(t+1+L.length)%L.length],"left"===o.hemisphere&&"right"===c.hemisphere&&s>c.indexLabelTextBlock.x?s=c.indexLabelTextBlock.x-15:"right"===o.hemisphere&&"left"===p.hemisphere&&s<p.indexLabelTextBlock.x&&(s=p.indexLabelTextBlock.x+15)):o.midAngle>3*Math.PI/2-b&&o.midAngle<3*Math.PI/2+b&&(x=(t-1+L.length)%L.length,c=L[x],p=L[(t+1+L.length)%L.length],"right"===o.hemisphere&&"left"===c.hemisphere&&s<c.indexLabelTextBlock.x?s=c.indexLabelTextBlock.x+15:"left"===o.hemisphere&&"right"===p.hemisphere&&s>p.indexLabelTextBlock.x&&(s=p.indexLabelTextBlock.x-15)),o.indexLabelTextBlock.y=l,o.indexLabelTextBlock.x=s,o.indexLabelAngle=Math.atan2(o.indexLabelTextBlock.y-D.y,o.indexLabelTextBlock.x-D.x))}return a}function s(){var t=T.plotArea.ctx;t.fillStyle="grey",t.strokeStyle="grey";t.font="16px Arial",t.textBaseline="middle";for(var e=0,i=0,a=0,s=!0,i=0;i<10&&(i<1||0<a);i++){if((s=A.radius||!A.radius&&void 0!==A.innerRadius&&null!==A.innerRadius&&w-a<=C?!1:s)&&(w-=a),a=0,"inside"!==A.indexLabelPlacement){for(P=w*V,e=0;e<_.length;e++)(n=L[e]).indexLabelTextBlock.x=D.x+P*Math.cos(n.midAngle),n.indexLabelTextBlock.y=D.y+P*Math.sin(n.midAngle),n.indexLabelAngle=n.midAngle,n.radius=w,n.percentInnerRadius=S;for(e=0;e<_.length;e++){var n=L[e],o=X(e);if(null!==o){var u=L[e],l=L[o],m=0;if((m=z(u,l)-I)<0){for(var r=0,h=0,d=0;d<_.length;d++)d!==e&&L[d].hemisphere===n.hemisphere&&(L[d].indexLabelTextBlock.y<n.indexLabelTextBlock.y?r++:h++);var x=m/(r+h||1)*h,c=-1*(m-x),p=0,l=0;"right"===n.hemisphere?(p=Y(e,x),+(l=Y(o,c=-1*(m-p))).toFixed(W)<+c.toFixed(W)&&+p.toFixed(W)<=+x.toFixed(W)&&Y(e,-(c-l))):(p=Y(o,x),+(l=Y(e,c=-1*(m-p))).toFixed(W)<+c.toFixed(W)&&+p.toFixed(W)<=+x.toFixed(W)&&Y(o,-(c-l)))}}}}else for(e=0;e<_.length;e++){n=L[e];P="pie"===A.type?.7*w:.8*w;var g=D.x+P*Math.cos(n.midAngle),b=D.y+P*Math.sin(n.midAngle);n.indexLabelTextBlock.x=g,n.indexLabelTextBlock.y=b}for(e=0;e<_.length;e++){var y,v,f=(n=L[e]).indexLabelTextBlock.measureText();0!==f.height&&0!==f.width&&(v=0,"right"===n.hemisphere?(v=F.x2-(n.indexLabelTextBlock.x+n.indexLabelTextBlock.width+B),v*=-1):v=F.x1-(n.indexLabelTextBlock.x-n.indexLabelTextBlock.width-B),(f=0)<v&&(!s&&n.indexLabelText&&(y="right"===n.hemisphere?F.x2-n.indexLabelTextBlock.x:n.indexLabelTextBlock.x-F.x1,.3*n.indexLabelTextBlock.maxWidth>y?n.indexLabelText="":n.indexLabelTextBlock.maxWidth=.85*y,.3*n.indexLabelTextBlock.maxWidth<y&&(n.indexLabelTextBlock.x-="right"===n.hemisphere?2:-2)),(Math.abs(n.indexLabelTextBlock.y-n.indexLabelTextBlock.height/2-D.y)<w||Math.abs(n.indexLabelTextBlock.y+n.indexLabelTextBlock.height/2-D.y)<w)&&(9<(f=v/Math.abs(Math.cos(n.indexLabelAngle)))&&(f*=.3),a<f&&(a=f))),(v=y=0)<n.indexLabelAngle&&n.indexLabelAngle<Math.PI?(y=F.y2-(n.indexLabelTextBlock.y+n.indexLabelTextBlock.height/2+5),y*=-1):y=F.y1-(n.indexLabelTextBlock.y-n.indexLabelTextBlock.height/2-5),0<y&&(s||!n.indexLabelText||0===Y(e,y*(f=0<n.indexLabelAngle&&n.indexLabelAngle<Math.PI?-1:1))&&Y(e,2*f),Math.abs(n.indexLabelTextBlock.x-D.x)<w&&(9<(v=y/Math.abs(Math.sin(n.indexLabelAngle)))&&(v*=.3),a<v&&(a=v))))}function M(t,e,i){for(var a=[],s=0,n=e;a.push(L[n]),n!==i;n=(n+1+_.length)%_.length);a.sort(function(t,e){return t.y-e.y});for(n=0;n<a.length;n++){var o=a[n];if(!(s<.7*t))break;s+=o.indexLabelTextBlock.height,o.indexLabelTextBlock.text="",o.indexLabelText="",o.indexLabelTextBlock.measureText()}}function k(){for(var t,e,i,a,s,n,o,l=-1,r=-1,h=0,d=!1,x=0;x<_.length;x++){var c,p,d=!1;!(u=L[x]).indexLabelText||null!==(c=X(x))&&(p=L[c],m=0,(m=z(u,p))<0&&(t=p,o=n=s=a=i=e=void 0,e=(p=u).indexLabelTextBlock.x,i=p.indexLabelTextBlock.y-p.indexLabelTextBlock.height/2,a=p.indexLabelTextBlock.x+p.indexLabelTextBlock.width,s=p.indexLabelTextBlock.y+p.indexLabelTextBlock.height/2,n=t.indexLabelTextBlock.x,o=t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,p=t.indexLabelTextBlock.x+t.indexLabelTextBlock.width,t=t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2,!(a<n-B||p+B<e||t+B<i||s<o-B))?(c!==(l=l<0?x:l)&&(r=c,h+=-m),x%Math.max(_.length/10,3)==0&&(d=!0)):d=!0,d&&0<h&&0<=l&&0<=r&&(M(h,l,r),r=l=-1,h=0))}0<h&&M(h,l,r)}k()}}function n(){if(T.plotArea.layoutManager.reset(),T.title&&(T.title.dockInsidePlotArea||"center"===T.title.horizontalAlign&&"center"===T.title.verticalAlign)&&T.title.render(),T.subtitles)for(var t=0;t<T.subtitles.length;t++){var e=T.subtitles[t];(e.dockInsidePlotArea||"center"===e.horizontalAlign&&"center"===e.verticalAlign)&&e.render()}T.legend&&(T.legend.dockInsidePlotArea||"center"===T.legend.horizontalAlign&&"center"===T.legend.verticalAlign)&&(T.legend.setLayout(),T.legend.render())}};function nt(t,e,i,a){void 0===i&&(i=1),Math.round(e.y4-e.y1)<=0||(t.save(),t.globalAlpha=i,t.beginPath(),t.moveTo(Math.round(e.x1),Math.round(e.y1)),t.lineTo(Math.round(e.x2),Math.round(e.y2)),t.lineTo(Math.round(e.x3),Math.round(e.y3)),t.lineTo(Math.round(e.x4),Math.round(e.y4)),"undefined"!==e.x5&&(t.lineTo(Math.round(e.x5),Math.round(e.y5)),t.lineTo(Math.round(e.x6),Math.round(e.y6))),t.closePath(),t.fillStyle=a||e.color,t.fill(),t.globalAplha=1,t.restore())}function h(t,e){h.base.constructor.call(this,"Legend","legend",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.width=0,this.height=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=P(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function S(t,e,i,a){S.base.constructor.call(this,"DataSeries","data",e,i,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=i,this.noDataPointsInPlotArea=0,this.id=a,this.chart._eventManager.objectMap[a]={id:a,objectType:"dataSeries",dataSeriesIndex:i};var s=e.dataPoints?e.dataPoints.length:0;this.dataPointEOs=[];for(var n=0;n<s;n++)this.dataPointEOs[n]={};this.dataPointIds=[],this.plotUnit=[],this.axisX=null,this.axisY=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.type.match(/area/i)?this.fillOpacity=.7:this.fillOpacity=1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function _(t,e,i,a,s,n){if(_.base.constructor.call(this,"Axis",e,i,a,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.maxWidth=0,this.maxHeight=0,this.intervalStartPosition=0,this.labels=[],this.dataSeries=[],this._labels=null,this._ticks=null,this._stripLineLabels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===s?("left"===n||"bottom"===n?(this.optionsName="axisX",yt(this.chart.sessionVariables.axisX[a])&&(this.chart.sessionVariables.axisX[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX[a]):(this.optionsName="axisX2",yt(this.chart.sessionVariables.axisX2[a])&&(this.chart.sessionVariables.axisX2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[a]),this.options.interval||(this.intervalType=null)):"left"===n||"bottom"===n?(this.optionsName="axisY",yt(this.chart.sessionVariables.axisY[a])&&(this.chart.sessionVariables.axisY[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY[a]):(this.optionsName="axisY2",yt(this.chart.sessionVariables.axisY2[a])&&(this.chart.sessionVariables.axisY2[a]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[a]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),"axisX"!==(this.type=s)||i&&void 0!==i.gridThickness||(this.gridThickness=0),this._position=n,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&this.labelAngle<270?this.labelAngle-=180:270<=this.labelAngle&&this.labelAngle<=360&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new x(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(var o=0;o<this.options.stripLines.length;o++)this.stripLines.push(new c(this.chart,this.options.stripLines[o],o,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new p(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function x(t,e,i,a){if(x.base.constructor.call(this,"ScaleBreaks","scaleBreaks",e,null,a),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.axis=a,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(var s=0;s<this.options.customBreaks.length;s++)this.customBreaks.push(new v(this.chart,"customBreaks",this.options.customBreaks[s],s,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[s].startValue&&"number"==typeof this.customBreaks[s].endValue&&this.customBreaks[s].endValue!==this.customBreaks[s].startValue&&this._appliedBreaks.push(this.customBreaks[s]);this._appliedBreaks.sort(function(t,e){return t.startValue-e.startValue});for(s=0;s<this._appliedBreaks.length-1;s++)this._appliedBreaks[s].endValue>=this._appliedBreaks[s+1].startValue&&(this._appliedBreaks[s].endValue=Math.max(this._appliedBreaks[s].endValue,this._appliedBreaks[s+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+s+" and "+(s+1)+" are overlapping."),this._appliedBreaks.splice(s,2),s--)}}function v(t,e,i,a,s,n){v.base.constructor.call(this,"Break",e,i,a,n),this.id=s,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=n,this.optionsName=e,this.isOptionsInArray=!0,this.type=(i.type?this:n).type,this.fillOpacity=(yt(i.fillOpacity)?n:this).fillOpacity,this.lineThickness=(yt(i.lineThickness)?n:this).lineThickness,this.color=(i.color?this:n).color,this.lineColor=(i.lineColor?this:n).lineColor,this.lineDashType=(i.lineDashType?this:n).lineDashType,!yt(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!yt(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(e=this.startValue,this.startValue=this.endValue,this.endValue=e),this.spacing=(void 0===i.spacing?n:i).spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=n.spacing),this.size=n.parent.logarithmic?1:0}function c(t,e,i,a,s){c.base.constructor.call(this,"StripLine","stripLines",e,i,s),this.id=a,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=s,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=s.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function p(t,e,i){p.base.constructor.call(this,"Crosshair","crosshair",e,null,i),this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="crosshair",this._thicknessType="pixel"}function a(t,e){a.base.constructor.call(this,"ToolTip","toolTip",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentSeriesIndex=-1,this.currentDataPointIndex=-1,this._prevX=NaN,this._prevY=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function s(t){this.chart=t,this.lastObjectId=0;this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=Q(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d");this.mouseoveredObjectMaps=[]}function u(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}r.prototype.renderFunnel=function(t){var M=this;if(!(t.dataSeriesIndexes.length<=0)){for(var e=t.dataSeriesIndexes[0],k=this.data[e],T=k.dataPoints,c=this.plotArea,p=.025*c.width,i=.01*c.width,a=0,s=c.height-2*p,n=Math.min(c.width-2*i,2.8*c.height),u=!1,o=0;o<T.length;o++)((u=!(u=!u&&void 0!==T[o].indexLabel&&null!==T[o].indexLabel&&0<T[o].indexLabel.toString().length?!0:u)&&void 0!==T[o].label&&null!==T[o].label&&0<T[o].label.toString().length?!0:u)||"function"!=typeof k.indexLabelFormatter)&&"function"!=typeof T[o].indexLabelFormatter||(u=!0);u=u||void 0!==k.indexLabel&&null!==k.indexLabel&&0<k.indexLabel.toString().length,"inside"!==k.indexLabelPlacement&&u||(i=(c.width-.75*n)/2);var e=c.x1+i,P=c.x2-i,v=c.y1+p,f=c.y2-p,w=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=k.length&&k.dataPoints&&k.visible&&0!==T.length){var C,t=75*n/100,S=30*(P-t)/100;"funnel"===k.type?(C=yt(k.options.neckHeight)?.35*s:k.neckHeight,r=yt(k.options.neckWidth)?.25*t:k.neckWidth,C="string"==typeof C&&C.match(/%$/)?(C=parseInt(C))*s/100:parseInt(C),r="string"==typeof r&&r.match(/%$/)?(r=parseInt(r))*t/100:parseInt(r),s<C?C=s:C<=0&&(C=0),t<r?r=t-.5:r<=0&&(r=0)):"pyramid"===k.type&&(r=C=0,k.reversed?k.reversed=!1:k.reversed=!0);var A,n=e+t/2,_=e,B=e+t,m=k.reversed?f:v,F=n-r/2,L=n+r/2,l=k.reversed?v+C:f-C,g=k.reversed?v:f,r=k.valueRepresents||"height",h=[],d=[],I=[],x=[],b=v,V=(l-m)/(F-_),y=-V,W=("area"===r?function(){var t,e=_,i=B;t=v;var a=((o=f-C)-t)*(i-e+(L-F))/2;a=Math.abs(a);var s=L-F,n=o-t,o=s*(o-f);o=Math.abs(o);for(var l=a+o,r=[],h=0,d=0;d<T.length;d++){if(void 0===T[d].y)return-1;T[d].y="number"==typeof T[d].y?T[d].y:0,h+=Math.abs(T[d].y)}if(0===h)return-1;var x,c,p,u,m=r[0]=0,g=0;p=i-e;for(var b=!1,d=0;d<T.length;d++){var y;c=Math.abs(T[d].y)*l/h,b?(x=0==Number(s.toFixed(3))?0:c/s,r.push(x)):((y=V*V*p*p-4*Math.abs(V)*c)<0?(c-=m=(p+(u=s))*(n-g)/2,g+=x=n-g,x+=0==u?0:c/u,g+=c/u,b=!0):(x=(Math.abs(V)*p-Math.sqrt(y))/2,u=p-2*x/Math.abs(V),n<(g+=x)&&(m=(p+(u=s))*(n-(g-=x))/2,g+=x=n-g,x+=(c-=m)/u,g+=c/u,b=!0),p=u),r.push(x))}return r}:function(){for(var t=0,e=[],i=0;i<T.length;i++){if(void 0===T[i].y)return-1;T[i].y="number"==typeof T[i].y?T[i].y:0,t+=Math.abs(T[i].y)}if(0===t)return-1;for(i=e[0]=0;i<T.length;i++)e.push(Math.abs(T[i].y)*s/t);return e})();if(-1!==W){if(k.reversed){x.push(b);for(D=W.length-1;0<D;D--)b+=W[D],x.push(b)}else for(var D=0;D<W.length;D++)b+=W[D],x.push(b);if(k.reversed)for(D=0;D<W.length;D++)x[D]<l?(h.push(F),d.push(L),A=D):(h.push((x[D]-m+V*_)/V),d.push((x[D]-m+y*B)/y));else for(var D=0;D<W.length;D++)x[D]<l?(h.push((x[D]-m+V*_)/V),d.push((x[D]-m+y*B)/y),A=D):(h.push(F),d.push(L));for(D=0;D<W.length-1;D++){var z=k.reversed?T[T.length-1-D].color?T[T.length-1-D].color:k._colorSet[(T.length-1-D)%k._colorSet.length]:T[D].color||k._colorSet[D%k._colorSet.length];D===A?I.push({x1:h[D],y1:x[D],x2:d[D],y2:x[D],x3:L,y3:l,x4:d[D+1],y4:x[D+1],x5:h[D+1],y5:x[D+1],x6:F,y6:l,id:D,height:x[D+1]-x[D],color:z}):I.push({x1:h[D],y1:x[D],x2:d[D],y2:x[D],x3:d[D+1],y3:x[D+1],x4:h[D+1],y4:x[D+1],id:D,height:x[D+1]-x[D],color:z})}var X,Y=2,O=[],E=!1,R=[],N=[],H=!1,U=0;dt(R);for(D=0;D<T.length;D++)T[D].exploded&&(H=!0,k.reversed?R.push(T.length-1-D):R.push(D));if(w.clearRect(c.x1,c.y1,c.width,c.height),w.fillStyle=M.backgroundColor,w.fillRect(c.x1,c.y1,c.width,c.height),u&&k.visible&&(function(){if(k&&T){for(var t,e,i,a,s,n,o,l,r,h,d=[],x=[],c=null,p=0;p<T.length;p++)h=it(void 0!==(h=I[p]).x5?(h.y2+h.y4)/2:(h.y2+h.y3)/2).x2+1,d[p]=P-h-S;for(var u=.5*S,p=0,m=T.length-1;p<T.length||0<=m;p++,m--){y=(f=k.reversed?T[m]:T[p]).color||(k.reversed?k._colorSet[(T.length-1-p)%k._colorSet.length]:k._colorSet[p%k._colorSet.length]),t=f.indexLabelPlacement||k.indexLabelPlacement||"outside",e=f.indexLabelBackgroundColor||k.indexLabelBackgroundColor||(rt?"transparent":null),i=f.indexLabelFontColor||k.indexLabelFontColor||"#979797",v=(yt(f.indexLabelFontSize)?k:f).indexLabelFontSize,a=f.indexLabelFontStyle||k.indexLabelFontStyle||"normal",s=f.indexLabelFontFamily||k.indexLabelFontFamily||"arial",n=f.indexLabelFontWeight||k.indexLabelFontWeight||"normal",o=f.indexLabelLineColor||k.options.indexLabelLineColor||y,l="number"==typeof f.indexLabelLineThickness?f.indexLabelLineThickness:"number"==typeof k.indexLabelLineThickness?k.indexLabelLineThickness:2,r=f.indexLabelLineDashType||k.indexLabelLineDashType||"solid";var g=void 0!==f.indexLabelWrap?f.indexLabelWrap:void 0===k.indexLabelWrap||k.indexLabelWrap,b=k.dataPointIds[p],y={id:b,objectType:"dataPoint",dataPointIndex:p,dataSeriesIndex:0,funnelSection:I[k.reversed?T.length-1-p:p]};M._eventManager.objectMap[b]=y,"inside"===k.indexLabelPlacement&&(d[p]=p!==A?k.reversed?I[p].x2-I[p].x1:I[p].x3-I[p].x4:I[p].x3-I[p].x6,d[p]<20&&(d[p]=p!==A&&k.reversed?I[p].x3-I[p].x4:I[p].x2-I[p].x1,d[p]/=2)),((y=f.indexLabelMaxWidth||(k.options.indexLabelMaxWidth?k.indexLabelMaxWidth:d[p]))>d[p]||y<0)&&(y=d[p]),x[p]="inside"===k.indexLabelPlacement&&I[p].height,b=M.getPercentAndTotal(k,f),(k.indexLabelFormatter||f.indexLabelFormatter)&&(c={chart:M.options,dataSeries:k,dataPoint:f,total:b.total,percent:b.percent}),f=f.indexLabelFormatter?f.indexLabelFormatter(c):f.indexLabel?M.replaceKeywordsWithValue(f.indexLabel,f,k,p):k.indexLabelFormatter?k.indexLabelFormatter(c):k.indexLabel?M.replaceKeywordsWithValue(k.indexLabel,f,k,p):f.label||"",l<=0&&(l=0);y<1e3&&1e3-y<u&&(y+=1e3-y),w.roundRect||ht(w);g=new vt(w,{fontSize:v,fontFamily:s,fontColor:i,fontStyle:a,fontWeight:n,horizontalAlign:t,backgroundColor:e,maxWidth:y,maxHeight:!1===x[p]?g?4.28571429*v:1.5*v:x[p],text:f,padding:Y});g.measureText();var v=g.height<g.maxHeight?g.height:g.maxHeight,f=g.width<g.maxWidth?g.width:g.maxWidth;O.push({textBlock:g,id:k.reversed?m:p,isDirty:!1,lineColor:o,lineThickness:l,lineDashType:r,height:v,width:f})}}}(),G(),function(){for(var t,e,i,a,s,n,o,l=[],r=!1,h=0,d=P-B-S/2,d=!k.options.indexLabelMaxWidth||k.indexLabelMaxWidth>d?d:k.indexLabelMaxWidth,x=O.length-1;0<=x;x--)o=T[O[x].id],a=(i=O[x]).textBlock,e=(t=et(x)<I.length?O[et(x)]:null)?t.textBlock:null,s=i.height,t&&a.y+s+Y>e.y&&(r=!0),(d<(h=o.indexLabelMaxWidth||d)||h<0)&&(h=d),l.push(h);if(r)for(var c,x=O.length-1;0<=x;x--)c=I[x],O[x].textBlock.maxWidth=l[l.length-(x+1)],O[x].textBlock.measureText(),O[x].textBlock.x=P-d,s=O[x].textBlock.height<O[x].textBlock.maxHeight?O[x].textBlock.height:O[x].textBlock.maxHeight,n=O[x].textBlock.width<O[x].textBlock.maxWidth?O[x].textBlock.width:O[x].textBlock.maxWidth,O[x].height=s,O[x].width=n,c=void 0!==c.x5?(c.y2+c.y4)/2:(c.y2+c.y3)/2,O[x].textBlock.y=c-O[x].height/2,k.reversed?(O[x].textBlock.y+O[x].height>m+p&&(O[x].textBlock.y=m+p-O[x].height),O[x].textBlock.y<g-p&&(O[x].textBlock.y=g-p)):(O[x].textBlock.y<m-p&&(O[x].textBlock.y=m-p),O[x].textBlock.y+O[x].height>g+p&&(O[x].textBlock.y=g+p-O[x].height))}(),"inside"!==k.indexLabelPlacement)){J();for(D=0;D<T.length;D++)O[D].isDirty||(U=O[D].textBlock.x+O[D].width,(X=(P-U)/2)<(a=0==D?X:a)&&(a=X));for(D=0;D<I.length;D++)I[D].x1+=a,I[D].x2+=a,I[D].x3+=a,I[D].x4+=a,I[D].x5&&(I[D].x5+=a,I[D].x6+=a),O[D].textBlock.x+=a}for(D=0;D<I.length;D++){var j=I[D];nt(w,j,k.fillOpacity),N.push(j.y1)}if(st(w),u&&k.visible&&("inside"===k.indexLabelPlacement||M.animationEnabled||$(w),M.animationEnabled||at()),!u)for(var K,q,D=0;D<T.length;D++)q={id:K=k.dataPointIds[D],objectType:"dataPoint",dataPointIndex:D,dataSeriesIndex:0,funnelSection:I[k.reversed?T.length-1-D:D]},M._eventManager.objectMap[K]=q;return(!M.animationEnabled&&H||M.animationEnabled&&!M.animatedRender)&&Z(M,-1,0),this.funnelPyramidClickHandler=function(t){var e;E||M.isAnimating||(yt(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&0<=(e=k.reversed?T.length-1-t.dataPointIndex:t.dataPointIndex)&&(t=e,"funnel"!==k.type&&"pyramid"!==k.type||(k.reversed?T[T.length-1-t].exploded?T[T.length-1-t].exploded=!1:T[T.length-1-t].exploded=!0:T[t].exploded?T[t].exploded=!1:T[t].exploded=!0),Z(M,e,500))},{source:w,dest:this.plotArea.ctx,animationCallback:function(t,e){ot.fadeInAnimation(t,e),1<=t&&(Z(M,-1,500),st(M.plotArea.ctx||M.ctx))},easingFunction:ot.easing.easeInQuad,animationBase:0}}}}function G(){var t,e,i,a,s,n;if("inside"!==k.indexLabelPlacement)for(var o=0;o<I.length;o++)0!=O[o].textBlock.text.length?(i=void 0!==(t=I[o]).x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,e=k.reversed?void 0!==t.x5&&l<i?it(i).x2+1:(t.x2+t.x3)/2+1:void 0!==t.x5?i<l?it(i).x2+1:(t.x4+t.x3)/2+1:(t.x2+t.x3)/2+1,O[o].textBlock.x=e+S,O[o].textBlock.y=i-O[o].height/2,k.reversed?(O[o].textBlock.y+O[o].height>m+p&&(O[o].textBlock.y=m+p-O[o].height),O[o].textBlock.y<g-p&&(O[o].textBlock.y=g-p)):(O[o].textBlock.y<m-p&&(O[o].textBlock.y=m-p),O[o].textBlock.y+O[o].height>g+p&&(O[o].textBlock.y=g+p-O[o].height))):O[o].isDirty=!0;else for(o=0;o<I.length;o++)0!=O[o].textBlock.text.length?(a=(t=I[o]).height,s=O[o].height,n=O[o].width,s<=a?(e=o!=A?(t.x4+t.x3)/2-n/2:(t.x5+t.x4)/2-n/2,i=o!=A?(t.y1+t.y3)/2-s/2:(t.y1+t.y4)/2-s/2,O[o].textBlock.x=e,O[o].textBlock.y=i):O[o].isDirty=!0):O[o].isDirty=!0}function J(){for(var t,e,i,a,s,n,o,l,r=1,h=0;h<2*r;h++){for(var d=O.length-1;0<=d&&((e=0<=tt(d)?O[tt(d)]:null)&&e.textBlock,a=(i=O[d]).textBlock,n=(s=et(d)<I.length?O[et(d)]:null)?s.textBlock:null,t=+i.height.toFixed(6),e=+a.y.toFixed(6),!(!i.isDirty&&s&&e+t+Y>+n.y.toFixed(6)&&(l=x(d,-(o=a.y+t+Y-n.y)))<o&&(0<l&&(o-=l),(l=x(et(d),o))!=o)));d--);(function(){var t,e,i,a,s,n,o=0;!function(t,e){for(var i,a,s=1;s<e;s++){i=s*t;for(var n=O.length-1;0<=n;n--)O[n].isDirty||O[n].textBlock.y<i&&O[n].textBlock.y+O[n].height>i&&((a=et(n))>=O.length-1||O[n].textBlock.y+O[n].height+Y>O[a].textBlock.y&&(O[n].textBlock.y+O[n].height-i>i-O[n].textBlock.y?O[n].textBlock.y=1+i:O[n].textBlock.y=i-O[n].height-1))}}((f-v+2*p)/r,r);for(var l=I.length-1;0<l;l--)if(!O[l].isDirty){if((i=tt(l))<0&&O[i=0].isDirty)break;if(O[l].textBlock.y<O[i].textBlock.y+O[i].height){for(t=t||l,a=l,n=0;O[a].textBlock.y<O[i].textBlock.y+O[i].height+Y;){if(e=e||O[a].textBlock.y+O[a].height,n+=O[a].height,n+=Y,(a=i)<=0){n+=O[a=0].height;break}if((i=tt(a))<0){n+=O[a=0].height;break}}if(a!=l){s=O[a].textBlock.y,o=function(t,e,i){for(var a=[],s=0,n=0,t=Math.abs(t),o=i;o<=e;o++)a.push(I[o]);a.sort(function(t,e){return t.height-e.height});for(o=0;o<a.length;o++){var l=a[o];if(!(s<t))break;n++,s+=O[l.id].height+Y,O[l.id].textBlock.text="",O[l.id].indexLabelText="",O[l.id].isDirty=!0,O[l.id].textBlock.measureText()}return n}(n-(e-s),t,a),l=a;break}}}})()}function x(t,e){var i,a,s,n;if(t<0||t>=O.length)return 0;var o=O[t].textBlock;o.height;return e<0?(e*=-1)<=(n=Q(i=tt(t),t))?(o.y-=e,e):(s=e-n,0==t?(0<n&&(o.y-=n),n):(0<(a=n+x(i,-s))&&(o.y-=a),a)):e<=(n=Q(t,a=et(t)))?(o.y+=e,e):(s=e-n,t==I.length-1?(0<n&&(o.y+=n),n):(0<(s=n+x(a,s))&&(o.y+=s),s))}}function Q(t,e){t=t<0?k.reversed?g-p:m-p:O[t].textBlock.y+O[t].height+Y,e=e<I.length?O[e].textBlock.y:k.reversed?m+p:g+p;return e-t}function Z(n,e,t){var i,a,s=[],o=p,l=[];if(-1!==e&&(0<=R.indexOf(e)?(a=R.indexOf(e),R.splice(a,1)):(R.push(e),R=R.sort(function(t,e){return t-e}))),0===R.length)s=N;else for(var r=p*(1!=R.length||0!=R[0]&&R[0]!=I.length-1?2:1)/function(){for(var t=0,e=0;e<I.length-1;e++)(0<=R.indexOf(e)||0<=R.indexOf(e+1))&&t++;return t}(),h=0;h<I.length;h++){if(1==R.length&&0==R[0]){if(0===h){s.push(N[h]),i=o;continue}}else 0===h&&(i=-1*o);s.push(N[h]+i),(0<=R.indexOf(h)||h<I.length&&0<=R.indexOf(h+1))&&(i+=r)}var d=function(){for(var t=[],e=0;e<I.length;e++)t.push(s[e]-I[e].y1);return t}(),x={startTime:(new Date).getTime(),duration:t||500,easingFunction:function(t,e,i,a){return ot.easing.easeOutQuart(t,e,i,a)},changeSection:function(t){for(var e,i,a=0;a<I.length;a++)i=d[a],e=I[a],i=i*t,void 0===l[a]&&(l[a]=0),l<0&&(l*=-1),e.y1+=i-l[a],e.y2+=i-l[a],e.y3+=i-l[a],e.y4+=i-l[a],e.y5&&(e.y5+=i-l[a],e.y6+=i-l[a]),l[a]=i}};n._animator.animate(0,t,function(t){!function(t,e,i,a){E=!0,function(t){t.clearRect(c.x1,c.y1,c.x2-c.x1,c.y2-c.y1),t.fillStyle=n.backgroundColor,t.fillRect(c.x1,c.y1,c.width,c.height)}(i),a.changeSection(t,e);a={};a.dataSeries=k,a.dataPoint=k.reversed?k.dataPoints[T.length-1-e]:k.dataPoints[e],a.index=k.reversed?T.length-1-e:e,n.toolTip.highlightObjects([a]);for(var s=0;s<I.length;s++)nt(i,I[s],k.fillOpacity);st(i),u&&("inside"!==k.indexLabelPlacement?$(i):G(),at(i));1<=t&&(E=!1)}(t,e,n.plotArea.ctx||n.ctx,x)},null,ot.easing.easeOutQuart)}function $(t){for(var e,i,a,s,n=0;n<I.length;n++)s=O[n].lineThickness%2==1?.5:0,e=it(i=((I[n].y2+I[n].y4)/2<<0)+s).x2-1,a=O[n].textBlock.x,s=(O[n].textBlock.y+O[n].height/2<<0)+s,O[n].isDirty||0==O[n].lineThickness||(t.strokeStyle=O[n].lineColor,t.lineWidth=O[n].lineThickness,t.setLineDash&&t.setLineDash(xt(O[n].lineDashType,O[n].lineThickness)),t.beginPath(),t.moveTo(e,i),t.lineTo(a,s),t.stroke())}function tt(t){for(var e=t-1;-1<=e&&-1!=e&&O[e].isDirty;e--);return e}function et(t){for(var e=t+1;e<=I.length&&e!=I.length&&O[e].isDirty;e++);return e}function it(t){for(var e,i,a=0;a<T.length;a++)if(I[a].y1<t&&I[a].y4>t){i=I[a];break}return i?{x1:e=i.y6?t>i.y6?(i.x6,i.x5,i.x6,i.y5,i.y6,i.y6,i.x3+(i.x4-i.x3)/(i.y4-i.y3)*(t-i.y3)):(i.x1,i.x6,i.x1,i.y6,i.y1,i.y1,i.x2+(i.x3-i.x2)/(i.y3-i.y2)*(t-i.y2)):(i.x1,i.x4,i.x1,i.y4,i.y1,i.y1,i.x2+(i.x3-i.x2)/(i.y3-i.y2)*(t-i.y2)),x2:e}:-1}function at(t){for(var e=0;e<I.length;e++)O[e].isDirty||(t&&(O[e].textBlock.ctx=t),O[e].textBlock.render(!0))}function st(t){if(M.plotArea.layoutManager.reset(),t.roundRect||ht(t),M.title&&(M.title.dockInsidePlotArea||"center"===M.title.horizontalAlign&&"center"===M.title.verticalAlign)&&(M.title.ctx=t,M.title.render()),M.subtitles)for(var e=0;e<M.subtitles.length;e++){var i=M.subtitles[e];(i.dockInsidePlotArea||"center"===i.horizontalAlign&&"center"===i.verticalAlign)&&(M.subtitles.ctx=t,i.render())}M.legend&&(M.legend.dockInsidePlotArea||"center"===M.legend.horizontalAlign&&"center"===M.legend.verticalAlign)&&(M.legend.ctx=t,M.legend.setLayout(),M.legend.render()),lt.fNg&&lt.fNg(M)}},r.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},r.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,r.prototype.set=function(t,e,i){i=void 0===i||i,"options"===t?(this.options=e,i&&this.render()):r.base.set.call(this,t,e,i)},r.prototype.exportChart=function(t){var e=(t=void 0===t?{}:t).format||"png",i=t.fileName||this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+e);T(this.canvas,e,i)},r.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),e=document.createElement("iframe");e.setAttribute("class","canvasjs-chart-print-frame"),e.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),e.style.height=this.height+"px",this._canvasJSContainer.appendChild(e);var i=this,a=e.contentWindow||e.contentDocument.document||e.contentDocument;a.document.open(),a.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+t+'"/><body/></html>'),a.document.close(),setTimeout(function(){a.focus(),a.print(),setTimeout(function(){i._canvasJSContainer.removeChild(e)},1e3)},500)},r.prototype.getPercentAndTotal=function(t,e){var i,a=null,s=null;if(0<=t.type.indexOf("stacked"))a=0,(i=e.x.getTime?e.x.getTime():e.x)in t.plotUnit.yTotals&&(a=t.plotUnit.yTotals[i],s=isNaN(e.y)?0:e.y/a*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(var a=0,n=0;n<t.dataPoints.length;n++)isNaN(t.dataPoints[n].y)||(a+=t.dataPoints[n].y);s=isNaN(e.y)?0:e.y/a*100}return{percent:s,total:a}},r.prototype.replaceKeywordsWithValue=function(t,a,s,n,o){var l=this;if(o=void 0===o?0:o,(0<=s.type.indexOf("stacked")||"pie"===s.type||"doughnut"===s.type||"funnel"===s.type||"pyramid"===s.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var e="#percent",i="#total",r=this.getPercentAndTotal(s,a),i=isNaN(r.total)?i:r.total,e=isNaN(r.percent)?e:r.percent;do{var h="";if(s.percentFormatString)h=s.percentFormatString;else{var h="#,##0.",d=Math.max(Math.ceil(Math.log(1/Math.abs(e))/Math.LN10),2);!isNaN(d)&&isFinite(d)||(d=2);for(var x=0;x<d;x++)h+="#";s.percentFormatString=h}}while(0<=(t=(t=t.replace("#percent",R(e,h,l._cultureInfo))).replace("#total",R(i,s.yValueFormatString||"#,##0.########",l._cultureInfo))).indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);var e=(e=k(t.slice(1,t.length-1))).replace("#index",o),t=null;try{var i=e.match(/(.*?)\s*\[\s*(.*?)\s*\]/);i&&0<i.length&&(t=k(i[2]),e=k(i[1]))}catch(t){}i=null;if("color"===e)return"waterfall"===s.type?a.color||(0<a.y?s.risingColor:s.fallingColor):"error"===s.type?s.color||s._colorSet[t%s._colorSet.length]:a.color||s.color||s._colorSet[n%s._colorSet.length];if(a.hasOwnProperty(e))i=a;else{if(!s.hasOwnProperty(e))return"";i=s}i=i[e];return null!==t&&(i=i[t]),"x"===e?"dateTime"===s.axisX.valueType||"dateTime"===s.xValueType||a.x&&a.x.getTime?l.plotInfo.plotTypes[0].plotUnits[0].axisX&&!l.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?N(i,a.xValueFormatString||s.xValueFormatString||(s.xValueFormatString=l.axisX&&l.axisX.autoValueFormatString?l.axisX.autoValueFormatString:"DD MMM YY"),l._cultureInfo):void 0:R(i,a.xValueFormatString||s.xValueFormatString||(s.xValueFormatString="#,##0.########"),l._cultureInfo):"y"===e?R(i,a.yValueFormatString||s.yValueFormatString||(s.yValueFormatString="#,##0.########"),l._cultureInfo):"z"===e?R(i,a.zValueFormatString||s.zValueFormatString||(s.zValueFormatString="#,##0.########"),l._cultureInfo):i})},M(h,at),h.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),i=null,a=0,s=0,n=0,o=0,l=this.markerMargin=this.chart.options.legend&&!yt(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var r=[],h=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",i=this.verticalAlign,n=this.maxWidth=null!==this.maxWidth?this.maxWidth:e.width,o=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*e.height):"center"===this.verticalAlign&&(this.orientation="vertical",i=this.horizontalAlign,n=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*e.width,o=this.maxHeight=null!==this.maxHeight?this.maxHeight:e.height),this.errorMarkerColor=[];for(var d=0;d<this.dataSeries.length;d++){var x=this.dataSeries[d];if(x.dataPoints&&x.dataPoints.length){if("pie"!==x.type&&"doughnut"!==x.type&&"funnel"!==x.type&&"pyramid"!==x.type){var c=x.legendMarkerType=x.legendMarkerType||("line"!==x.type&&"stepLine"!==x.type&&"spline"!==x.type&&"scatter"!==x.type&&"bubble"!==x.type||!x.markerType?"error"===x.type&&x._linkedSeries?x._linkedSeries.legendMarkerType||S.getDefaultLegendMarker(x._linkedSeries.type):S.getDefaultLegendMarker(x.type):x.markerType),p=x.legendText||(this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:x,dataPoint:null}):x.name),u=x.legendMarkerColor=x.legendMarkerColor||x.markerColor||("error"!==x.type||yt(x.whiskerColor)?x._colorSet[0]:x.whiskerColor),m=x.markerSize||"line"!==x.type&&"stepLine"!==x.type&&"spline"!==x.type?.75*this.lineHeight:0,g=x.legendMarkerBorderColor||x.markerBorderColor,b=x.legendMarkerBorderThickness||(x.markerBorderThickness?Math.max(1,Math.round(.2*m)):0);x._colorSet[0];"error"===x.type&&this.errorMarkerColor.push(u);var y={markerType:c,markerColor:u,text:p=this.chart.replaceKeywordsWithValue(p,x.dataPoints[0],x,d),textBlock:null,chartType:x.type,markerSize:m,lineColor:x._colorSet[0],dataSeriesIndex:x.index,dataPointIndex:null,markerBorderColor:g,markerBorderThickness:b};r.push(y)}else for(var v=0;v<x.dataPoints.length;v++){var f=x.dataPoints[v],c=f.legendMarkerType||x.legendMarkerType||S.getDefaultLegendMarker(x.type),p=f.legendText||x.legendText||(this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:x,dataPoint:f}):f.name||"DataPoint: "+(v+1)),u=f.legendMarkerColor||x.legendMarkerColor||f.color||x.color||x._colorSet[v%x._colorSet.length],m=.75*this.lineHeight,g=f.legendMarkerBorderColor||x.legendMarkerBorderColor||f.markerBorderColor||x.markerBorderColor,b=f.legendMarkerBorderThickness||x.legendMarkerBorderThickness||(f.markerBorderThickness||x.markerBorderThickness?Math.max(1,Math.round(.2*m)):0),y={markerType:c,markerColor:u,text:p=this.chart.replaceKeywordsWithValue(p,f,x,v),textBlock:null,chartType:x.type,markerSize:m,dataSeriesIndex:d,dataPointIndex:v,markerBorderColor:g,markerBorderThickness:b};(f.showInLegend||x.showInLegend&&!1!==f.showInLegend)&&r.push(y)}y=null}}if(!0===this.reversed&&r.reverse(),0<r.length){var M=null,k=0,T=0,P=0,w=0,T=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,n):this.itemMaxWidth=Math.min(this.itemWidth,n):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,n):this.itemMaxWidth=n;T-=(m=0===m?.75*this.lineHeight:m)+l;for(d=0;d<r.length;d++){var C=T;"line"!==(y=r[d]).chartType&&"spline"!==y.chartType&&"stepLine"!==y.chartType||(C-=.1*this.lineHeight*2),o<=0||void 0===o||C<=0||void 0===C||("horizontal"===this.orientation?(y.textBlock=new vt(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:this.itemWrap?o:this.lineHeight,angle:0,text:y.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),y.textBlock.measureText(),null!==this.itemWidth&&(y.textBlock.width=this.itemWidth-(m+l+("line"===y.chartType||"spline"===y.chartType||"stepLine"===y.chartType?.1*this.lineHeight*2:0))),(!M||M.width+Math.round(y.textBlock.width+m+l+(0===M.width?0:this.horizontalSpacing)+("line"===y.chartType||"spline"===y.chartType||"stepLine"===y.chartType?.1*this.lineHeight*2:0))>n)&&(h.push(M={items:[],width:0}),this.height+=P,P=0),P=Math.max(P,y.textBlock.height)):(y.textBlock=new vt(this.ctx,{x:0,y:0,maxWidth:T,maxHeight:!0===this.itemWrap?o:1.5*this.fontSize,angle:0,text:y.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),y.textBlock.measureText(),null!==this.itemWidth&&(y.textBlock.width=this.itemWidth-(m+l+("line"===y.chartType||"spline"===y.chartType||"stepLine"===y.chartType?.1*this.lineHeight*2:0))),this.height<o-this.lineHeight?h.push(M={items:[],width:0}):(M=h[k],k=(k+1)%h.length),this.height+=y.textBlock.height),y.textBlock.x=M.width,y.textBlock.y=0,M.width+=Math.round(y.textBlock.width+m+l+(0===M.width?0:this.horizontalSpacing)+("line"===y.chartType||"spline"===y.chartType||"stepLine"===y.chartType?.1*this.lineHeight*2:0)),M.items.push(y),this.width=Math.max(M.width,this.width),w=y.textBlock.width+(m+l+("line"===y.chartType||"spline"===y.chartType||"stepLine"===y.chartType?.1*this.lineHeight*2:0)))}this.itemWidth=w,!1===this.itemWrap?this.height=h.length*this.lineHeight:this.height+=P,this.height=Math.min(o,this.height),this.width=Math.min(n,this.width)}"top"===this.verticalAlign?(s="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y1):"center"===this.verticalAlign?(s="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y1+e.height/2-this.height/2):"bottom"===this.verticalAlign&&(s="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,a=e.y2-this.height),this.items=r;for(d=0;d<this.items.length;d++)(y=r[d]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[y.id]={id:y.id,objectType:"legendItem",legendItemIndex:d,dataSeriesIndex:y.dataSeriesIndex,dataPointIndex:y.dataPointIndex};this.markerSize=m,this.rows=h,0<r.length&&t.layoutManager.registerSpace(i,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:s,y1:a,x2:s+this.width,y2:a+this.height}},h.prototype.render=function(){var t=this.bounds.x1,e=this.bounds.y1,i=this.markerMargin,a=this.maxWidth,s=this.maxHeight,n=this.markerSize,o=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,e,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var l=0,r=0;r<o.length;r++){for(var h=o[r],d=0,x=0;x<h.items.length;x++){var c,p,u,m=h.items[x],g=m.textBlock.x+t+(0===x?.2*n:this.horizontalSpacing),b=e+l,y=g;this.chart.data[m.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,e,a,Math.max(s-s%this.lineHeight,0)),this.ctx.clip(),"line"!==m.chartType&&"stepLine"!==m.chartType&&"spline"!==m.chartType||(this.ctx.strokeStyle=m.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(g-.1*this.lineHeight,b+this.lineHeight/2),this.ctx.lineTo(g+.85*this.lineHeight,b+this.lineHeight/2),this.ctx.stroke(),y-=.1*this.lineHeight),"error"===m.chartType&&(this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=n/8,this.ctx.beginPath(),c=g-.08*this.lineHeight+.1*this.lineHeight,p=b+.15*this.lineHeight,v=(u=.7*this.lineHeight)+.02*this.lineHeight,this.ctx.moveTo(c,p),this.ctx.lineTo(c+u,p),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(c+u/2,p),this.ctx.lineTo(c+u/2,p+v),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(c,p+v),this.ctx.lineTo(c+u,p+v),this.ctx.stroke(),this.errorMarkerColor.shift());var v="error"===m.chartType||"line"===m.chartType||"spline"===m.chartType?m.markerSize/2:m.markerSize;X.drawMarker(g+n/2,b+this.lineHeight/2,this.ctx,m.markerType,v,m.markerColor,m.markerBorderColor,m.markerBorderThickness),m.textBlock.x=g+i+n,"line"!==m.chartType&&"stepLine"!==m.chartType&&"spline"!==m.chartType||(m.textBlock.x=m.textBlock.x+.1*this.lineHeight),m.textBlock.y=Math.round(b+this.lineHeight/2),m.textBlock.render(!0),this.ctx.restore(),d=0<x?Math.max(d,m.textBlock.height):m.textBlock.height,this.chart.data[m.dataSeriesIndex].visible||(this.ctx.globalAlpha=1);b=H(m.id);this.ghostCtx.fillStyle=b,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(y,m.textBlock.y-this.lineHeight/2,m.textBlock.x+m.textBlock.width-y,m.textBlock.height),m.x1=this.chart._eventManager.objectMap[m.id].x1=y,m.y1=this.chart._eventManager.objectMap[m.id].y1=m.textBlock.y-this.lineHeight/2,m.x2=this.chart._eventManager.objectMap[m.id].x2=m.textBlock.x+m.textBlock.width,m.y2=this.chart._eventManager.objectMap[m.id].y2=m.textBlock.y+m.textBlock.height-this.lineHeight/2}l+=d}},M(S,at),S.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},S.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},S.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var i,a,s={dataPoint:null,distance:1/0,index:NaN},n=0,o=1,l=1/0,r=0,h=0,d=0;for("none"!==this.chart.plotInfo.axisPlacement&&(d=this.axisX.logarithmic?1<(a=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/a*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(a=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/a*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(i=0<o?d+n:d-n)&&i<this.dataPoints.length){var x=this.dataPoints[i],c=this.axisX.logarithmic?x.x>t?x.x/t:t/x.x:Math.abs(x.x-t);if(c<s.distance&&(s.dataPoint=x,s.distance=c,s.index=i),c<=l?l=c:0<o?r++:h++,1e3<r&&1e3<h)break}else if(d-n<0&&d+n>=this.dataPoints.length)break;o=-1===o?(n++,1):-1}return!e&&s.dataPoint.x===t||e&&null!==s.dataPoint?s:null},S.prototype.getDataPointAtXY=function(t,e,i){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;i=i||!1;var a,s,n,o=[],l=0,r=1,h=!1,d=1/0,x=0,c=0,p=0;for("none"!==this.chart.plotInfo.axisPlacement&&(s=(this.chart.axisX[0]||this.chart.axisX2[0]).getXValueAt({x:t,y:e}),p=this.axisX.logarithmic?1<(n=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/n*Math.log(s/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(n=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/n*(s-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(a=0<r?p+l:p-l)&&a<this.dataPoints.length){var u=this.dataPointIds[a],m=this.chart._eventManager.objectMap[u],g=this.dataPoints[a],b=null;if(m){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=m.x1&&t<=m.x2&&e>=m.y1&&e<=m.y2&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y1-e),Math.abs(m.y2-e))}),h=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var y=z("markerSize",g,this)||4,v=i?20:y;(b=Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)))<=v&&o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:b}),(f=Math.abs(m.x1-t))<=d?d=f:0<r?x++:c++,b<=y/2&&(h=!0);break;case"rangeArea":case"rangeSplineArea":var f,y=z("markerSize",g,this)||4,v=i?20:y;(b=Math.min(Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)),Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y2-e,2))))<=v&&o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:b}),(f=Math.abs(m.x1-t))<=d?d=f:0<r?x++:c++,b<=y/2&&(h=!0);break;case"bubble":y=m.size;(b=Math.sqrt(Math.pow(m.x1-t,2)+Math.pow(m.y1-e,2)))<=y/2&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:b}),h=!0);break;case"pie":case"doughnut":var M=m.center,k="doughnut"===this.type?m.percentInnerRadius*m.radius:0;(b=Math.sqrt(Math.pow(M.x-t,2)+Math.pow(M.y-e,2)))<m.radius&&k<b&&(k=e-M.y,P=t-M.x,(M=Math.atan2(k,P))<0&&(M+=2*Math.PI),M=Number(((M/Math.PI*180%360+360)%360).toFixed(12)),k=Number(((m.startAngle/Math.PI*180%360+360)%360).toFixed(12)),(P=0===(P=Number(((m.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<m.endAngle?360:P)<=k&&0!==g.y&&(P+=360,M<k&&(M+=360)),k<M&&M<P&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:0}),h=!0));break;case"funnel":case"pyramid":var T,P=m.funnelSection;e>P.y1&&e<P.y4&&(P=P.y6?e>P.y6?(T=P.x6+(P.x5-P.x6)/(P.y5-P.y6)*(e-P.y6),P.x3+(P.x4-P.x3)/(P.y4-P.y3)*(e-P.y3)):(T=P.x1+(P.x6-P.x1)/(P.y6-P.y1)*(e-P.y1),P.x2+(P.x3-P.x2)/(P.y3-P.y2)*(e-P.y2)):(T=P.x1+(P.x4-P.x1)/(P.y4-P.y1)*(e-P.y1),P.x2+(P.x3-P.x2)/(P.y3-P.y2)*(e-P.y2)),T<t&&t<P&&(o.push({dataPoint:g,dataPointIndex:m.dataPointIndex,dataSeries:this,distance:0}),h=!0));break;case"boxAndWhisker":(t>=m.x1-m.borderThickness/2&&t<=m.x2+m.borderThickness/2&&e>=m.y4-m.borderThickness/2&&e<=m.y1+m.borderThickness/2||Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&e>=m.y1&&e<=m.y4)&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-e),Math.abs(m.y3-e))}),h=!0);break;case"candlestick":(t>=m.x1-m.borderThickness/2&&t<=m.x2+m.borderThickness/2&&e>=m.y2-m.borderThickness/2&&e<=m.y3+m.borderThickness/2||Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&e>=m.y1&&e<=m.y4)&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-e),Math.abs(m.y3-e))}),h=!0);break;case"ohlc":(Math.abs(m.x2-t+m.x1-t)<m.borderThickness&&e>=m.y2&&e<=m.y3||t>=m.x1&&t<=(m.x2+m.x1)/2&&e>=m.y1-m.borderThickness/2&&e<=m.y1+m.borderThickness/2||t>=(m.x1+m.x2)/2&&t<=m.x2&&e>=m.y4-m.borderThickness/2&&e<=m.y4+m.borderThickness/2)&&(o.push({dataPoint:g,dataPointIndex:a,dataSeries:this,distance:Math.min(Math.abs(m.x1-t),Math.abs(m.x2-t),Math.abs(m.y2-e),Math.abs(m.y3-e))}),h=!0)}if(h||1e3<x&&1e3<c)break}}else if(p-l<0&&p+l>=this.dataPoints.length)break;r=-1===r?(l++,1):-1}for(var w=null,C=0;C<o.length;C++)(!w||o[C].distance<=w.distance)&&(w=o[C]);return w},S.prototype.getMarkerProperties=function(t,e,i,a){var s=this.dataPoints,n=this,o=s[t].markerColor||n.markerColor||s[t].color||n.color||n._colorSet[t%n._colorSet.length],l=s[t].markerBorderColor||n.markerBorderColor||null,r=s[t].markerBorderThickness||n.markerBorderThickness||null;return{x:e,y:i,ctx:a,type:s[t].markerType||n.markerType,size:s[t].markerSize||n.markerSize,color:o,borderColor:l,borderThickness:r}},M(_,at),_.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var i=_.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),a=Math.ceil(this.viewportMinimum/i)*i;a<e;a+=i)a<this.viewportMinimum||this.logLabelValues.push(a);this.logLabelValues.sort(E),this.createExtraLabelsForLog(t)}}},_.prototype.createLabels=function(){var t,e,i=0,a=0,s=0,n=0,o=0,l=this.interval,r=0,h=-25,d=.6*this.chart.height,x=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],c=!x.length||yt(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(b=this.viewportMaximum,this.labels){var p=Math.ceil(l),u=Math.ceil(this.intervalStartPosition),m=!1;for(i=u;i<this.viewportMaximum;i+=p){if(!this.labels[i]){m=!1;break}m=!0}m&&(l=this.interval=p,this.intervalStartPosition=u)}if(this.logarithmic&&!this.equidistantInterval){this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog());for(a=0,y=c;a<this.logLabelValues.length;a++)if((i=this.logLabelValues[a])<this.viewportMinimum)a++;else{for(;y<x.length&&i>x[y].endValue;y++);var g=i;y<x.length&&i>=x[y].startValue&&i<=x[y].endValue||(v=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]||null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:R(g,this.valueFormatString,this.chart._cultureInfo),f=new vt(this.ctx,{x:0,y:0,maxWidth:s,maxHeight:n,angle:this.labelAngle,text:this.prefix+v+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:g,textBlock:f,effectiveHeight:null}))}}for(y=c,i=this.intervalStartPosition;i<=b;i=parseFloat(this.interval<1e-12?this.logarithmic&&this.equidistantInterval?i*Math.pow(this.logarithmBase,this.interval):i+this.interval:(this.logarithmic&&this.equidistantInterval?i*Math.pow(this.logarithmBase,this.interval):i+this.interval).toFixed(12))){for(;y<x.length&&i>x[y].endValue;y++);g=i,y<x.length&&i>=x[y].startValue&&i<=x[y].endValue||(v=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:g,label:this.labels[g]||null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:R(g,this.valueFormatString,this.chart._cultureInfo),f=new vt(this.ctx,{x:0,y:0,maxWidth:s,maxHeight:n,angle:this.labelAngle,text:this.prefix+v+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:g,textBlock:f,effectiveHeight:null}))}}else{this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval);for(var b=Y(new Date(this.viewportMaximum),this.interval,this.intervalType),y=c,i=this.intervalStartPosition;i<b;Y(i,l,this.intervalType)){for(var v,f,M=i.getTime();y<x.length&&M>x[y].endValue;y++);g=M,y<x.length&&M>=x[y].startValue&&M<=x[y].endValue||(v=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(g),label:this.labels[g]||null}):"axisX"===this.type&&this.labels[g]?this.labels[g]:N(g,this.valueFormatString,this.chart._cultureInfo),f=new vt(this.ctx,{x:0,y:0,maxWidth:s,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:n,angle:this.labelAngle,text:this.prefix+v+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:g,textBlock:f,effectiveHeight:null,breaksLabelType:void 0}))}}"bottom"===this._position||"top"===this._position?(r=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*O(this.interval,this.intervalType),s=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(n=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(r=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*O(this.interval,this.intervalType),this.chart.panEnabled||(s=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),n=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize);for(a=0;a<this._labels.length;a++){(f=this._labels[a].textBlock).maxWidth=s,f.maxHeight=n;var k=(B=f.measureText()).height}var T=[],P=0,w=0;if(this.labelAutoFit||this.options.labelAutoFit)if(yt(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&this.labelAngle<270?this.labelAngle-=180:270<=this.labelAngle&&this.labelAngle<=360&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position){var y=0,s=.9*r>>0,C=0;if(!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,i=0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType)for(var S,A=(f=this._labels[i].textBlock).text.split(" "),a=0;a<A.length;a++){var _=A[a];this.ctx.font=f.fontStyle+" "+f.fontWeight+" "+f.fontSize+"px "+f.fontFamily;_=this.ctx.measureText(_);_.width>C&&(S=i,C=_.width)}for(i=this.intervalStartPosition<this.viewportMinimum?1:0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){var B=(f=this._labels[i].textBlock).measureText();for(y=i+1;y<this._labels.length;y++)if(!this._labels[y].breaksLabelType){e=(t=this._labels[y].textBlock).measureText();break}if(T.push(f.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,T),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),f.fontSize,Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o=s*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),yt(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle){this.sessionVariables.labelMaxHeight=0===this.labelAngle?n:Math.min((o-s*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o);I=(d-(k+f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(h)))/Math.sin(Math.PI/180*Math.abs(h));if(yt(this.options.labelWrap)){if(yt(this.options.labelWrap))if(yt(this.options.labelMaxWidth)){if(!yt(e)){var F=B.width+e.width>>0,L=this.labelFontSize;if(C<s)P<F-2*s&&(P=F-2*s,2*s<=F&&F<2.2*s?(this.sessionVariables.labelMaxWidth=s,yt(this.options.labelFontSize)&&12<L&&(L=Math.floor(12/13*L),B=f.measureText()),this.sessionVariables.labelFontSize=yt(this.options.labelFontSize)?L:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):2.2*s<=F&&F<2.8*s?(this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=I,this.sessionVariables.labelFontSize=L):2.8*s<=F&&F<3.2*s?(this.sessionVariables.labelMaxWidth=Math.max(s,C),this.sessionVariables.labelWrap=!0,yt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),B=f.measureText()),this.sessionVariables.labelFontSize=yt(this.options.labelFontSize)?L:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):3.2*s<=F&&F<3.6*s?(this.sessionVariables.labelAngle=h,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=I,this.sessionVariables.labelFontSize=this.labelFontSize):3.6*s<F&&F<5*s?(yt(this.options.labelFontSize)&&12<L&&(L=Math.floor(12/13*L),B=f.measureText()),this.sessionVariables.labelFontSize=yt(this.options.labelFontSize)?L:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=I):5*s<F&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelFontSize=L,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelAngle=this.labelAngle));else if(S===i&&(0===S&&C+this._labels[S+1].textBlock.measureText().width-2*s>P||S===this._labels.length-1&&C+this._labels[S-1].textBlock.measureText().width-2*s>P||0<S&&S<this._labels.length-1&&C+this._labels[S+1].textBlock.measureText().width-2*s>P&&C+this._labels[S-1].textBlock.measureText().width-2*s>P))P=0===S?C+this._labels[S+1].textBlock.measureText().width-2*s:C+this._labels[S-1].textBlock.measureText().width-2*s,this.sessionVariables.labelFontSize=yt(this.options.labelFontSize)?L:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=I;else if(0===P)for(this.sessionVariables.labelFontSize=yt(this.options.labelFontSize)?L:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,a=0;a<this._labels.length;a++)(f=this._labels[a].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,C),I),B=f.measureText(),a<this._labels.length-1&&((t=this._labels[y=a+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,C),I),e=t.measureText(),B.width+e.width>>0>2*s&&(this.sessionVariables.labelAngle=h))}}else this.options.labelMaxWidth<s?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=n)}else this.labelWrap?yt(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,C),I),this.sessionVariables.labelWrap=this.labelWrap,B.width+e.width>>0>2*s&&(this.sessionVariables.labelAngle=h)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>s?h:this.sessionVariables.labelAngle):yt(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelMaxWidth=s,B.width+e.width>>0>2*s&&(this.sessionVariables.labelAngle=h,this.sessionVariables.labelMaxWidth=I)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>s?h:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelWrap=this.labelWrap)}else{this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?n:Math.min((o-s*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o);var I=0!=this.labelAngle?(d-(k+f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):s;this.sessionVariables.labelMaxHeight=n=this.labelWrap?(d-I*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,yt(this.options.labelWrap)?yt(this.options.labelWrap)&&(this.labelWrap&&!yt(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||I,this.sessionVariables.labelMaxHeight=n):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=I,this.sessionVariables.labelMaxHeight=o<.9*r?.9*r:o,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||I):(yt(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||I,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=n)}}for(a=0;a<this._labels.length;a++)(f=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,f.fontSize=this.sessionVariables.labelFontSize,f.angle=this.labelAngle=this.sessionVariables.labelAngle,f.wrap=this.labelWrap=this.sessionVariables.labelWrap,f.maxHeight=this.sessionVariables.labelMaxHeight,f.measureText()}else for(i=0;i<this._labels.length;i++)(f=this._labels[i].textBlock).maxWidth=this.labelMaxWidth=(yt(this.options.labelMaxWidth)?this.sessionVariables:this.options).labelMaxWidth,f.fontSize=this.labelFontSize=(yt(this.options.labelFontSize)?this.sessionVariables:this.options).labelFontSize,f.angle=this.labelAngle=(yt(this.options.labelAngle)?this.sessionVariables:this).labelAngle,f.wrap=this.labelWrap=(yt(this.options.labelWrap)?this.sessionVariables:this.options).labelWrap,f.maxHeight=this.sessionVariables.labelMaxHeight,f.measureText()}else if("left"===this._position||"right"===this._position){y=0;if(s=yt(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,n=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelAngle=yt(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,i=0;i<this._labels.length;i++)if(!this._labels[i].breaksLabelType){var V,B=(f=this._labels[i].textBlock).measureText();for(y=i+1;y<this._labels.length;y++)if(!this._labels[y].breaksLabelType){e=(t=this._labels[y].textBlock).measureText();break}T.push(f.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,T),o=s*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(n-f.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),f.fontSize,Math.sin(Math.PI/180*Math.abs(this.labelAngle)),yt(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?yt(this.options.labelWrap)?yt(this.options.labelWrap)&&(yt(this.options.labelMaxWidth)?yt(e)||w<(V=B.height+e.height>>0)-2*n&&(w=V-2*n,2*n<=V&&V<2.4*n?(yt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),B=f.measureText()),this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelFontSize=(yt(this.options.labelFontSize)?this:this.options).labelFontSize):2.4*n<=V&&V<2.8*n?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):2.8*n<=V&&V<3.2*n?(this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelWrap=!0,yt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),B=f.measureText()),this.sessionVariables.labelFontSize=(yt(this.options.labelFontSize)?this:this.options).labelFontSize,this.sessionVariables.labelAngle=yt(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):3.2*n<=V&&V<3.6*n?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):3.6*n<V&&V<10*n?(yt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),B=f.measureText()),this.sessionVariables.labelFontSize=(yt(this.options.labelFontSize)?this:this.options).labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelAngle=yt(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):10*n<V&&V<50*n&&(yt(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),B=f.measureText()),this.sessionVariables.labelFontSize=(yt(this.options.labelFontSize)?this:this.options).labelFontSize,this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelAngle=yt(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=n,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||this.sessionVariables.labelMaxWidth)):(this.labelWrap||this.labelMaxWidth?this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||this.sessionVariables.labelMaxWidth:this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=n):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?s:Math.min((o-n*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),n),yt(this.options.labelWrap)?yt(this.options.labelWrap)&&(this.labelWrap&&!yt(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||s,this.sessionVariables.labelMaxHeight=0===this.labelAngle?n:o,yt(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?n:o,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=s):(this.sessionVariables.labelMaxHeight=n,yt(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth||this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(a=0;a<this._labels.length;a++)(f=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,f.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,f.angle=this.labelAngle=this.sessionVariables.labelAngle,f.wrap=this.labelWrap=this.sessionVariables.labelWrap,f.maxHeight=this.sessionVariables.labelMaxHeight,f.measureText()}else for(i=0;i<this._labels.length;i++)(f=this._labels[i].textBlock).maxWidth=this.labelMaxWidth=(yt(this.options.labelMaxWidth)?this.sessionVariables:this.options).labelMaxWidth,f.fontSize=this.labelFontSize=(yt(this.options.labelFontSize)?this.sessionVariables:this.options).labelFontSize,f.angle=this.labelAngle=(yt(this.options.labelAngle)?this.sessionVariables:this).labelAngle,f.wrap=this.labelWrap=(yt(this.options.labelWrap)?this.sessionVariables:this.options).labelWrap,f.maxHeight=this.sessionVariables.labelMaxHeight,f.measureText()}for(i=0;i<this.stripLines.length;i++){var W,D,z=this.stripLines[i];"outside"===z.labelPlacement?(W=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(D=yt(z.options.labelWrap)?this.sessionVariables.labelMaxHeight:z.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(D=yt(z.options.labelWrap)?this.sessionVariables.labelMaxHeight:z.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),yt(z.labelBackgroundColor)&&(z.labelBackgroundColor="#EEEEEE")):(W="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,D=yt(z.options.labelWrap)||z.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,yt(z.labelBackgroundColor)&&(yt(z.startValue)&&0!==z.startValue?z.labelBackgroundColor=rt?"transparent":null:z.labelBackgroundColor="#EEEEEE")),f=new vt(this.ctx,{x:0,y:0,backgroundColor:z.labelBackgroundColor,borderColor:z.labelBorderColor,borderThickness:z.labelBorderThickness,cornerRadius:z.labelCornerRadius,maxWidth:z.options.labelMaxWidth||W,maxHeight:D,angle:this.labelAngle,text:z.labelFormatter?z.labelFormatter({chart:this.chart,axis:this,stripLine:z}):z.label,horizontalAlign:"left",fontSize:("outside"!==z.labelPlacement||z.options.labelFontSize?z:this).labelFontSize,fontFamily:("outside"!==z.labelPlacement||z.options.labelFontFamily?z:this).labelFontFamily,fontWeight:("outside"!==z.labelPlacement||z.options.labelFontWeight?z:this).labelFontWeight,fontColor:z.labelFontColor||z.color,fontStyle:"outside"!==z.labelPlacement||z.options.labelFontStyle?z.labelFontStyle:this.fontWeight,textBaseline:"middle"}),this._stripLineLabels.push({position:z.value,textBlock:f,effectiveHeight:null,stripLine:z})}},_.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0;this._labels=[],this._stripLineLabels=[];var i=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var a,s=(a=this._labels[e].textBlock).measureText(),n=0;t<(n=0===this.labelAngle?s.width:s.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(s.height-a.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._labels[e].effectiveWidth=n}for(e=0;e<this._stripLineLabels.length;e++)"outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(s=(a=this._stripLineLabels[e].textBlock).measureText(),t<(n=(n=0)===this.labelAngle?s.width:s.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(s.height-a.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._stripLineLabels[e].effectiveWidth=n)}var o=this.title?this._titleTextBlock.measureText().height+2:0,i="inside"===this.labelPlacement?o+i:o+t+this.tickLength+i;return i},_.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var e=0,i=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(e=0;e<this._labels.length;e++){var a,s=(a=this._labels[e].textBlock).measureText(),n=0;t<(n=0===this.labelAngle?s.height:s.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(s.height-a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._labels[e].effectiveHeight=n}for(e=0;e<this._stripLineLabels.length;e++)"outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(s=(a=this._stripLineLabels[e].textBlock).measureText(),t<(n=(n=0)===this.labelAngle?s.height:s.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(s.height-a.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=n),this._stripLineLabels[e].effectiveHeight=n)}var o=this.title?this._titleTextBlock.measureText().height+2:0,i="inside"===this.labelPlacement?o+i:o+t+this.tickLength+i;return i},_.setLayout=function(t,e,i,a,s,n){var o,l,r,h,d=(t[0]?t:e)[0].chart,x=d.isNavigator?0:10,c=(d.ctx,d._axes);if(t&&0<t.length)for(var p=0;p<t.length;p++)t[p]&&t[p].calculateAxisParameters();if(e&&0<e.length)for(p=0;p<e.length;p++)e[p].calculateAxisParameters();if(i&&0<i.length)for(p=0;p<i.length;p++)i[p].calculateAxisParameters();if(a&&0<a.length)for(p=0;p<a.length;p++)a[p].calculateAxisParameters();for(p=0;p<c.length;p++)if(c[p]&&c[p].scaleBreaks&&c[p].scaleBreaks._appliedBreaks.length)for(var u=c[p].scaleBreaks._appliedBreaks,m=0;m<u.length&&!(u[m].startValue>c[p].viewportMaximum);m++)u[m].endValue<c[p].viewportMinimum||(yt(c[p].scaleBreaks.firstBreakIndex)&&(c[p].scaleBreaks.firstBreakIndex=m),u[m].startValue>=c[p].viewPortMinimum&&(c[p].scaleBreaks.lastBreakIndex=m));for(var g,b,y,m=0,v=0,f=0,M=0,k=0,T=0,P=0,w=0,C=0,S=g=b=y=!1,p=0;p<c.length;p++)c[p]&&c[p].title&&(c[p]._titleTextBlock=new vt(c[p].ctx,{text:c[p].title,horizontalAlign:"center",fontSize:c[p].titleFontSize,fontFamily:c[p].titleFontFamily,fontWeight:c[p].titleFontWeight,fontColor:c[p].titleFontColor,fontStyle:c[p].titleFontStyle,borderColor:c[p].titleBorderColor,borderThickness:c[p].titleBorderThickness,backgroundColor:c[p].titleBackgroundColor,cornerRadius:c[p].titleCornerRadius,textBaseline:"top"}));for(p=0;p<c.length;p++)if(c[p].title)switch(c[p]._position){case"left":c[p]._titleTextBlock.maxWidth=c[p].titleMaxWidth||n.height,c[p]._titleTextBlock.maxHeight=c[p].titleWrap?.8*n.width:1.5*c[p].titleFontSize,c[p]._titleTextBlock.angle=-90;break;case"right":c[p]._titleTextBlock.maxWidth=c[p].titleMaxWidth||n.height,c[p]._titleTextBlock.maxHeight=c[p].titleWrap?.8*n.width:1.5*c[p].titleFontSize,c[p]._titleTextBlock.angle=90;break;default:c[p]._titleTextBlock.maxWidth=c[p].titleMaxWidth||n.width,c[p]._titleTextBlock.maxHeight=c[p].titleWrap?.8*n.height:1.5*c[p].titleFontSize,c[p]._titleTextBlock.angle=0}if("normal"===s){for(var A=[],_=[],B=[],F=[],L=[],I=[],V=[],W=[];m<4;){var D=0,z=0,X=0,Y=0,O=0,E=0,R=0,N=0,H=0,U=0,j=0,K=0;if(i&&0<i.length){for(B=[],j=0,p=0;p<i.length;p++)B.push(Math.ceil(i[p]?i[p].createLabelsAndCalculateWidth():0)),j+=B[p],R+=i[p]&&!d.isNavigator?i[p].margin:0;V.push(B)}else B.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0)),V.push(B);if(a&&0<a.length){for(F=[],K=0,p=0;p<a.length;p++)F.push(Math.ceil(a[p]?a[p].createLabelsAndCalculateWidth():0)),K+=F[p],N+=a[p]?a[p].margin:0;W.push(F)}else F.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateWidth():0)),W.push(F);if(o=Math.round(n.x1+j+R),r=Math.round(n.x2-K-N>d.width-x?d.width-x:n.x2-K-N),t&&0<t.length){for(A=[],H=0,p=0;p<t.length;p++)t[p]&&(t[p].lineCoordinates={}),t[p].lineCoordinates.width=Math.abs(r-o),t[p].title&&(t[p]._titleTextBlock.maxWidth=0<t[p].titleMaxWidth&&t[p].titleMaxWidth<t[p].lineCoordinates.width?t[p].titleMaxWidth:t[p].lineCoordinates.width),A.push(Math.ceil(t[p]?t[p].createLabelsAndCalculateHeight():0)),H+=A[p],O+=t[p]&&!d.isNavigator?t[p].margin:0;L.push(A)}else A.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0)),L.push(A);if(e&&0<e.length){for(_=[],U=0,p=0;p<e.length;p++)e[p]&&(e[p].lineCoordinates={}),e[p].lineCoordinates.width=Math.abs(r-o),e[p].title&&(e[p]._titleTextBlock.maxWidth=0<e[p].titleMaxWidth&&e[p].titleMaxWidth<e[p].lineCoordinates.width?e[p].titleMaxWidth:e[p].lineCoordinates.width),_.push(Math.ceil(e[p]?e[p].createLabelsAndCalculateHeight():0)),U+=_[p],E+=e[p]&&!d.isNavigator?e[p].margin:0;I.push(_)}else _.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0)),I.push(_);if(t&&0<t.length)for(p=0;p<t.length;p++)t[p]&&(t[p].lineCoordinates.x1=o,r=Math.round(n.x2-K-N>d.width-x?d.width-x:n.x2-K-N),t[p]._labels&&1<t[p]._labels.length&&(gt=mt=0,mt=t[p]._labels[1],gt="dateTime"===t[p].valueType?t[p]._labels[t[p]._labels.length-2]:t[p]._labels[t[p]._labels.length-1],v=mt.textBlock.width*Math.cos(Math.PI/180*Math.abs(mt.textBlock.angle))+(mt.textBlock.height-gt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(mt.textBlock.angle)),f=gt.textBlock.width*Math.cos(Math.PI/180*Math.abs(gt.textBlock.angle))+(gt.textBlock.height-gt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(gt.textBlock.angle))),!t[p]||!t[p].labelAutoFit||yt(G)||yt(J)||d.isNavigator||((w=0)<t[p].labelAngle?r<J+f&&(w+=0<t[p].labelAngle?J+f-r-K:0):t[p].labelAngle<0?G-v<o&&G-v<t[p].viewportMinimum&&(C=o-(R+t[p].tickLength+B+G-v+t[p].labelFontSize/2)):0===t[p].labelAngle&&(r<J+f&&(w=J+f/2-r-K),G-v<o&&G-v<t[p].viewportMinimum&&(C=o-R-t[p].tickLength-B-G+v/2)),t[p].viewportMaximum===t[p].maximum&&t[p].viewportMinimum===t[p].minimum&&0<t[p].labelAngle&&0<w?r-=w:t[p].viewportMaximum===t[p].maximum&&t[p].viewportMinimum===t[p].minimum&&t[p].labelAngle<0&&0<C?o+=C:t[p].viewportMaximum===t[p].maximum&&t[p].viewportMinimum===t[p].minimum&&0===t[p].labelAngle&&(0<C&&(o+=C),0<w&&(r-=w))),d.panEnabled?H=d.sessionVariables.axisX.height:d.sessionVariables.axisX.height=H,l=Math.round(n.y2-H-O+D),h=Math.round(n.y2),t[p].lineCoordinates.x2=r,t[p].lineCoordinates.width=r-o,t[p].lineCoordinates.y1=l,t[p].lineCoordinates.y2=l,t[p].bounds={x1:o,y1:l,x2:r,y2:h-(H+O-A[p]-D),width:r-o,height:h-l}),D+=A[p]+t[p].margin;if(e&&0<e.length)for(p=0;p<e.length;p++)e[p].lineCoordinates.x1=Math.round(n.x1+j+R),e[p].lineCoordinates.x2=Math.round(n.x2-K-N>d.width-x?d.width-x:n.x2-K-N),e[p].lineCoordinates.width=Math.abs(r-o),e[p]._labels&&1<e[p]._labels.length&&(gt=mt=0,mt=e[p]._labels[1],gt="dateTime"===e[p].valueType?e[p]._labels[e[p]._labels.length-2]:e[p]._labels[e[p]._labels.length-1],v=mt.textBlock.width*Math.cos(Math.PI/180*Math.abs(mt.textBlock.angle))+(mt.textBlock.height-gt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(mt.textBlock.angle)),f=gt.textBlock.width*Math.cos(Math.PI/180*Math.abs(gt.textBlock.angle))+(gt.textBlock.height-gt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(gt.textBlock.angle))),d.panEnabled?U=d.sessionVariables.axisX2.height:d.sessionVariables.axisX2.height=U,l=Math.round(n.y1),h=Math.round(n.y2+e[p].margin),e[p].lineCoordinates.y1=l+U+E-z,e[p].lineCoordinates.y2=l,e[p].bounds={x1:o,y1:l+(U+E-_[p]-z),x2:r,y2:h,width:r-o,height:h-l},z+=_[p]+e[p].margin;if(i&&0<i.length)for(p=0;p<i.length;p++){var q=d.isNavigator?0:10;i[p]&&(o=Math.round((t[0]?t:e)[0].lineCoordinates.x1),q=i[p]._labels&&0<i[p]._labels.length?i[p]._labels[i[p]._labels.length-1].textBlock.height/2:x,l=Math.round(n.y1+U+E<Math.max(q,x)?Math.max(q,x):n.y1+U+E),r=Math.round((t[0]?t:e)[0].lineCoordinates.x1),q=0<t.length?0:i[p]._labels&&0<i[p]._labels.length?i[p]._labels[0].textBlock.height/2:x,h=Math.round(n.y2-H-O-q),i[p].lineCoordinates={x1:r-X,y1:l,x2:r-X,y2:h,height:Math.abs(h-l)},i[p].bounds={x1:o-(B[p]+X),y1:l,x2:r,y2:h,width:r-o,height:h-l},i[p].title&&(i[p]._titleTextBlock.maxWidth=0<i[p].titleMaxWidth&&i[p].titleMaxWidth<i[p].lineCoordinates.height?i[p].titleMaxWidth:i[p].lineCoordinates.height),X+=B[p]+i[p].margin)}if(a&&0<a.length)for(p=0;p<a.length;p++){q=0;a[p]&&(o=Math.round((t[0]?t:e)[0].lineCoordinates.x2),r=Math.round(o),q=a[p]._labels&&0<a[p]._labels.length?a[p]._labels[a[p]._labels.length-1].textBlock.height/2:0,l=Math.round(n.y1+U+E<Math.max(q,x)?Math.max(q,x):n.y1+U+E),q=!(0<t.length)&&a[p]._labels&&0<a[p]._labels.length?a[p]._labels[0].textBlock.height/2:0,h=Math.round(n.y2-(H+O+q)),a[p].lineCoordinates={x1:o+Y,y1:l,x2:o+Y,y2:h,height:Math.abs(h-l)},a[p].bounds={x1:o,y1:l,x2:r+(F[p]+Y),y2:h,width:r-o,height:h-l},a[p].title&&(a[p]._titleTextBlock.maxWidth=0<a[p].titleMaxWidth&&a[p].titleMaxWidth<a[p].lineCoordinates.height?a[p].titleMaxWidth:a[p].lineCoordinates.height),Y+=F[p]+a[p].margin)}if(t&&0<t.length)for(var G,J,p=0;p<t.length;p++)t[p]&&(t[p].calculateValueToPixelConversionParameters(),t[p].calculateBreaksSizeInValues(),t[p]._labels&&1<t[p]._labels.length&&(G=(t[p].logarithmic?Math.log(t[p]._labels[1].position/t[p].viewportMinimum)/t[p].conversionParameters.lnLogarithmBase:t[p]._labels[1].position-t[p].viewportMinimum)*Math.abs(t[p].conversionParameters.pixelPerUnit)+t[p].lineCoordinates.x1,Q=t[p]._labels[t[p]._labels.length-("dateTime"===t[p].valueType?2:1)].position,Z=t[p].getApparentDifference(t[p].viewportMinimum,Q),J=t[p].logarithmic?(1<Z?Math.log(Z)/t[p].conversionParameters.lnLogarithmBase*Math.abs(t[p].conversionParameters.pixelPerUnit):0)+t[p].lineCoordinates.x1:(0<Z?Z*Math.abs(t[p].conversionParameters.pixelPerUnit):0)+t[p].lineCoordinates.x1));if(e&&0<e.length)for(var Q,Z,p=0;p<e.length;p++)e[p].calculateValueToPixelConversionParameters(),e[p].calculateBreaksSizeInValues(),e[p]._labels&&1<e[p]._labels.length&&(G=(e[p].logarithmic?Math.log(e[p]._labels[1].position/e[p].viewportMinimum)/e[p].conversionParameters.lnLogarithmBase:e[p]._labels[1].position-e[p].viewportMinimum)*Math.abs(e[p].conversionParameters.pixelPerUnit)+e[p].lineCoordinates.x1,Q=e[p]._labels[e[p]._labels.length-("dateTime"===e[p].valueType?2:1)].position,Z=e[p].getApparentDifference(e[p].viewportMinimum,Q),J=e[p].logarithmic?(1<Z?Math.log(Z)/e[p].conversionParameters.lnLogarithmBase*Math.abs(e[p].conversionParameters.pixelPerUnit):0)+e[p].lineCoordinates.x1:(0<Z?Z*Math.abs(e[p].conversionParameters.pixelPerUnit):0)+e[p].lineCoordinates.x1);for(p=0;p<c.length;p++)"axisY"===c[p].type&&(c[p].calculateValueToPixelConversionParameters(),c[p].calculateBreaksSizeInValues());if(0<m){if(t&&0<t.length)for(p=0;p<t.length;p++)S=L[m-1][p]===L[m][p];else S=!0;if(e&&0<e.length)for(p=0;p<e.length;p++)g=I[m-1][p]===I[m][p];else g=!0;if(i&&0<i.length)for(p=0;p<i.length;p++)b=V[m-1][p]===V[m][p];else b=!0;if(a&&0<a.length)for(p=0;p<a.length;p++)y=W[m-1][p]===W[m][p];else y=!0}if(S&&g&&b&&y)break;m++}if(t&&0<t.length)for(p=0;p<t.length;p++)t[p].calculateStripLinesThicknessInValues(),t[p].calculateBreaksInPixels();if(e&&0<e.length)for(p=0;p<e.length;p++)e[p].calculateStripLinesThicknessInValues(),e[p].calculateBreaksInPixels();if(i&&0<i.length)for(p=0;p<i.length;p++)i[p].calculateStripLinesThicknessInValues(),i[p].calculateBreaksInPixels();if(a&&0<a.length)for(p=0;p<a.length;p++)a[p].calculateStripLinesThicknessInValues(),a[p].calculateBreaksInPixels()}else{for(var $=[],tt=[],et=[],it=[],at=[],st=[],nt=[],ot=[];m<4;){var lt=0,rt=0,ht=0,dt=0,O=0,E=0,R=0,N=0,xt=0,ct=0,pt=0,ut=0;if(t&&0<t.length){for(et=[],pt=0,p=0;p<t.length;p++)et.push(Math.ceil(t[p]?t[p].createLabelsAndCalculateWidth():0)),pt+=et[p],O+=t[p]&&!d.isNavigator?t[p].margin:0;nt.push(et)}else et.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0)),nt.push(et);if(e&&0<e.length){for(it=[],ut=0,p=0;p<e.length;p++)it.push(Math.ceil(e[p]?e[p].createLabelsAndCalculateWidth():0)),ut+=it[p],E+=e[p]?e[p].margin:0;ot.push(it)}else it.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0)),ot.push(it);if(i&&0<i.length)for(p=0;p<i.length;p++)i[p].lineCoordinates={},o=Math.round(n.x1+pt+O),r=Math.round(n.x2-ut-E>d.width-10?d.width-10:n.x2-ut-E),i[p].labelAutoFit&&(yt(M)||(0<!t.length&&(o=i[p].labelAngle<0?Math.max(o,M):0===i[p].labelAngle?Math.max(o,M/2):o),0<!e.length&&(r=0<i[p].labelAngle||0===i[p].labelAngle?r-k/2:r))),i[p].lineCoordinates.x1=o,i[p].lineCoordinates.x2=r,i[p].lineCoordinates.width=Math.abs(r-o),i[p].title&&(i[p]._titleTextBlock.maxWidth=0<i[p].titleMaxWidth&&i[p].titleMaxWidth<i[p].lineCoordinates.width?i[p].titleMaxWidth:i[p].lineCoordinates.width);if(a&&0<a.length)for(p=0;p<a.length;p++)a[p].lineCoordinates={},o=Math.round(n.x1+pt+O),r=Math.round(n.x2-ut-E>a[p].chart.width-10?a[p].chart.width-10:n.x2-ut-E),a[p]&&a[p].labelAutoFit&&(yt(T)||(0<!t.length&&(o=0<a[p].labelAngle?Math.max(o,T):0===a[p].labelAngle?Math.max(o,T/2):o),0<!e.length&&(a[p].labelAngle<0||a[p].labelAngle,r-=P/2))),a[p].lineCoordinates.x1=o,a[p].lineCoordinates.x2=r,a[p].lineCoordinates.width=Math.abs(r-o),a[p].title&&(a[p]._titleTextBlock.maxWidth=0<a[p].titleMaxWidth&&a[p].titleMaxWidth<a[p].lineCoordinates.width?a[p].titleMaxWidth:a[p].lineCoordinates.width);if(i&&0<i.length){for($=[],xt=0,p=0;p<i.length;p++)$.push(Math.ceil(i[p]?i[p].createLabelsAndCalculateHeight():0)),xt+=$[p]+i[p].margin,R+=i[p].margin;at.push($)}else $.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0)),at.push($);if(a&&0<a.length){for(tt=[],ct=0,p=0;p<a.length;p++)tt.push(Math.ceil(a[p]?a[p].createLabelsAndCalculateHeight():0)),ct+=tt[p],N+=a[p].margin;st.push(tt)}else tt.push(Math.ceil(a[0]?a[0].createLabelsAndCalculateHeight():0)),st.push(tt);if(i&&0<i.length)for(p=0;p<i.length;p++)0<i[p]._labels.length&&(mt=i[p]._labels[0],gt=i[p]._labels[i[p]._labels.length-1],M=mt.textBlock.width*Math.cos(Math.PI/180*Math.abs(mt.textBlock.angle))+(mt.textBlock.height-gt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(mt.textBlock.angle)),k=gt.textBlock.width*Math.cos(Math.PI/180*Math.abs(gt.textBlock.angle))+(gt.textBlock.height-gt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(gt.textBlock.angle)));if(a&&0<a.length)for(var mt,gt,p=0;p<a.length;p++)a[p]&&0<a[p]._labels.length&&(mt=a[p]._labels[0],gt=a[p]._labels[a[p]._labels.length-1],T=mt.textBlock.width*Math.cos(Math.PI/180*Math.abs(mt.textBlock.angle))+(mt.textBlock.height-gt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(mt.textBlock.angle)),P=gt.textBlock.width*Math.cos(Math.PI/180*Math.abs(gt.textBlock.angle))+(gt.textBlock.height-gt.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(gt.textBlock.angle)));if(d.panEnabled)for(p=0;p<i.length;p++)$[p]=d.sessionVariables.axisY.height;else for(p=0;p<i.length;p++)d.sessionVariables.axisY.height=$[p];if(i&&0<i.length)for(p=i.length-1;0<=p;p--)l=Math.round(n.y2),h=Math.round(n.y2>i[p].chart.height-10?i[p].chart.height-10:n.y2),i[p].lineCoordinates.y1=l-($[p]+i[p].margin+lt),i[p].lineCoordinates.y2=l-($[p]+i[p].margin+lt),i[p].bounds={x1:o,y1:l-($[p]+lt+i[p].margin),x2:r,y2:h-(lt+i[p].margin),width:r-o,height:$[p]},i[p].title&&(i[p]._titleTextBlock.maxWidth=0<i[p].titleMaxWidth&&i[p].titleMaxWidth<i[p].lineCoordinates.width?i[p].titleMaxWidth:i[p].lineCoordinates.width),lt+=$[p]+i[p].margin;if(a&&0<a.length)for(p=a.length-1;0<=p;p--)a[p]&&(l=Math.round(n.y1),h=Math.round(n.y1+(tt[p]+a[p].margin+rt)),a[p].lineCoordinates.y1=h,a[p].lineCoordinates.y2=h,a[p].bounds={x1:o,y1:l+(a[p].margin+rt),x2:r,y2:h,width:r-o,height:ct},a[p].title&&(a[p]._titleTextBlock.maxWidth=0<a[p].titleMaxWidth&&a[p].titleMaxWidth<a[p].lineCoordinates.width?a[p].titleMaxWidth:a[p].lineCoordinates.width),rt+=tt[p]+a[p].margin);if(t&&0<t.length)for(p=0;p<t.length;p++){q=0;if(q=t[p]._labels&&0<t[p]._labels.length?t[p]._labels[0].textBlock.fontSize/2:0,o=Math.round(n.x1+O),l=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:n.y1<Math.max(q,10)?Math.max(q,10):n.y1):n.y1<Math.max(q,10)?Math.max(q,10):n.y1,r=Math.round(n.x1+pt+O),h=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:n.y2-xt>d.height-Math.max(q,10)?d.height-Math.max(q,10):n.y2-xt):n.y2>d.height-Math.max(q,10)?d.height-Math.max(q,10):n.y2,i&&0<i.length)for(var bt=0;bt<i.length;bt++)i[bt]&&i[bt].labelAutoFit&&(r=i[bt].labelAngle<0?Math.max(r,M):0===i[bt].labelAngle?Math.max(r,M/2):r,o=i[bt].labelAngle<0||0===i[bt].labelAngle?r-pt:o);if(a&&0<a.length)for(bt=0;bt<a.length;bt++)a[bt]&&a[bt].labelAutoFit&&(o=(r=a[bt].lineCoordinates.x1)-pt);t[p].lineCoordinates={x1:r-ht,y1:l,x2:r-ht,y2:h,height:Math.abs(h-l)},t[p].bounds={x1:r-(et[p]+ht),y1:l,x2:r,y2:h,width:r-o,height:h-l},t[p].title&&(t[p]._titleTextBlock.maxWidth=0<t[p].titleMaxWidth&&t[p].titleMaxWidth<t[p].lineCoordinates.height?t[p].titleMaxWidth:t[p].lineCoordinates.height),t[p].calculateValueToPixelConversionParameters(),t[p].calculateBreaksSizeInValues(),ht+=et[p]+t[p].margin}if(e&&0<e.length)for(p=0;p<e.length;p++){q=0;if(q=e[p]._labels&&0<e[p]._labels.length?e[p]._labels[0].textBlock.fontSize/2:0,o=Math.round(n.x1-O),l=a&&0<a.length?Math.round(a[0]?a[0].lineCoordinates.y2:n.y1<Math.max(q,10)?Math.max(q,10):n.y1):n.y1<Math.max(q,10)?Math.max(q,10):n.y1,r=Math.round(n.x2-ut-E),h=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y1:n.y2-xt>d.height-Math.max(q,10)?d.height-Math.max(q,10):n.y2-xt):n.y2>d.height-Math.max(q,10)?d.height-Math.max(q,10):n.y2,i&&0<i.length)for(bt=0;bt<i.length;bt++)i[bt]&&i[bt].labelAutoFit&&(r=i[bt].labelAngle<0?Math.max(r,M):0===i[bt].labelAngle?Math.max(r,M/2):r,o=i[bt].labelAngle<0||0===i[bt].labelAngle?r-ut:o);if(a&&0<a.length)for(bt=0;bt<a.length;bt++)a[bt]&&a[bt].labelAutoFit&&(o=(r=a[bt].lineCoordinates.x2)-ut);e[p].lineCoordinates={x1:r+dt,y1:l,x2:r+dt,y2:h,height:Math.abs(h-l)},e[p].bounds={x1:o,y1:l,x2:r+it[p]+dt,y2:h,width:r-o,height:h-l},e[p].title&&(e[p]._titleTextBlock.maxWidth=0<e[p].titleMaxWidth&&e[p].titleMaxWidth<e[p].lineCoordinates.height?e[p].titleMaxWidth:e[p].lineCoordinates.height),e[p].calculateValueToPixelConversionParameters(),e[p].calculateBreaksSizeInValues(),dt+=it[p]+e[p].margin}for(p=0;p<c.length;p++)"axisY"===c[p].type&&(c[p].calculateValueToPixelConversionParameters(),c[p].calculateBreaksSizeInValues());if(0<m){if(t&&0<t.length)for(p=0;p<t.length;p++)S=nt[m-1][p]===nt[m][p];else S=!0;if(e&&0<e.length)for(p=0;p<e.length;p++)g=ot[m-1][p]===ot[m][p];else g=!0;if(i&&0<i.length)for(p=0;p<i.length;p++)b=at[m-1][p]===at[m][p];else b=!0;if(a&&0<a.length)for(p=0;p<a.length;p++)y=st[m-1][p]===st[m][p];else y=!0}if(S&&g&&b&&y)break;m++}if(i&&0<i.length)for(p=0;p<i.length;p++)i[p].calculateStripLinesThicknessInValues(),i[p].calculateBreaksInPixels();if(a&&0<a.length)for(p=0;p<a.length;p++)a[p].calculateStripLinesThicknessInValues(),a[p].calculateBreaksInPixels();if(t&&0<t.length)for(p=0;p<t.length;p++)t[p].calculateStripLinesThicknessInValues(),t[p].calculateBreaksInPixels();if(e&&0<e.length)for(p=0;p<e.length;p++)e[p].calculateStripLinesThicknessInValues(),e[p].calculateBreaksInPixels()}},_.render=function(t,e,i,a,s){var n=(t[0]?t:e)[0].chart,o=n.ctx,l=n._axes;if(n.alignVerticalAxes&&n.alignVerticalAxes(),o.save(),o.beginPath(),t[0]&&o.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[0].bounds.height),e[0]&&o.rect(5,e[e.length-1].bounds.y1,e[0].chart.width-10,e[0].bounds.height),o.clip(),t&&0<t.length)for(var r=0;r<t.length;r++)t[r].renderLabelsTicksAndTitle();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderLabelsTicksAndTitle();if(o.restore(),i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderLabelsTicksAndTitle();if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderLabelsTicksAndTitle();n.preparePlotArea();n=n.plotArea;if(o.save(),o.beginPath(),o.rect(n.x1,n.y1,Math.abs(n.x2-n.x1),Math.abs(n.y2-n.y1)),o.clip(),t&&0<t.length)for(r=0;r<l.length;r++)l[r].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderStripLinesOfThicknessType("value");if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderInterlacedColors();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderInterlacedColors();if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderInterlacedColors();if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderInterlacedColors();if(o.restore(),t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderGrid(),rt&&(t[r].createMask(),t[r].renderBreaksBackground());if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderGrid(),rt&&(e[r].createMask(),e[r].renderBreaksBackground());if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderGrid(),rt&&(i[r].createMask(),i[r].renderBreaksBackground());if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderGrid(),rt&&(a[r].createMask(),a[r].renderBreaksBackground());if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderAxisLine();if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderAxisLine();if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderAxisLine();if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderAxisLine();if(t&&0<t.length)for(r=0;r<t.length;r++)t[r].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(r=0;r<e.length;r++)e[r].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(r=0;r<i.length;r++)i[r].renderStripLinesOfThicknessType("pixel");if(a&&0<a.length)for(r=0;r<a.length;r++)a[r].renderStripLinesOfThicknessType("pixel")},_.prototype.calculateStripLinesThicknessInValues=function(){for(var t,e,i=0;i<this.stripLines.length;i++)null!==this.stripLines[i].startValue&&null!==this.stripLines[i].endValue&&(t=Math.min(this.stripLines[i].startValue,this.stripLines[i].endValue),e=Math.max(this.stripLines[i].startValue,this.stripLines[i].endValue),e=this.getApparentDifference(t,e),this.logarithmic?this.stripLines[i].value*=Math.sqrt(Math.log(this.stripLines[i].endValue/this.stripLines[i].startValue)/Math.log(e)):this.stripLines[i].value+=(Math.abs(this.stripLines[i].endValue-this.stripLines[i].startValue)-e)/2,this.stripLines[i].thickness=e,this.stripLines[i]._thicknessType="value")},_.prototype.calculateBreaksSizeInValues=function(){for(var t,e="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,i=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],a=this.conversionParameters.pixelPerUnit||e/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),s=this.scaleBreaks&&!yt(this.scaleBreaks.options.spacing),n=0;n<i.length;n++)t=s||!yt(i[n].options.spacing),i[n].spacing=l(i[n].spacing,e,8,t?.1*e:8,t?0:3)<<0,i[n].size=i[n].spacing<0?0:Math.abs(i[n].spacing/a),this.logarithmic&&(i[n].size=Math.pow(this.logarithmBase,i[n].size))},_.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&this.scaleBreaks._appliedBreaks.length<=0)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var e=0;e<t.length&&!(t[e].startValue>this.conversionParameters.maximum);e++)t[e].endValue<this.conversionParameters.minimum||(yt(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=e),t[e].startValue>=this.conversionParameters.minimum&&(t[e].startPixel=this.convertValueToPixel(t[e].startValue),this.scaleBreaks.lastBreakIndex=e),t[e].endValue<=this.conversionParameters.maximum&&(t[e].endPixel=this.convertValueToPixel(t[e].endValue)))}},_.prototype.renderLabelsTicksAndTitle=function(){var e=this,i=!1,t=0,a=0,s=1,n=0;this.conversionParameters.pixelPerUnit,O(this.interval,this.intervalType);if(0!==this.labelAngle&&360!==this.labelAngle&&(s=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var o,l=[],s=0!==this.labelAngle&&360!==this.labelAngle?1:1.2,r=this.viewportMaximum,h=this.lineCoordinates.width/Math.log(this.range),d=this._labels.length-1;0<=d&&!((c=this._labels[d]).position<this.viewportMinimum);d--)c.position>this.viewportMaximum||(d===this._labels.length-1||o<Math.log(r/c.position)*h/s)&&(l.push(c),r=c.position,o=c.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||(t+=c.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));t>this.lineCoordinates.width*s&&this.labelAutoFit&&(i=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){for(var x,l=[],r=this.viewportMaximum,h=this.lineCoordinates.height/Math.log(this.range),d=this._labels.length-1;0<=d&&!((c=this._labels[d]).position<this.viewportMinimum);d--)c.position>this.viewportMaximum||(d===this._labels.length-1||x<Math.log(r/c.position)*h)&&(l.push(c),r=c.position,x=c.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||(a+=c.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+c.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));a>this.lineCoordinates.height*s&&this.labelAutoFit&&(i=!0)}}this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort(function(t,e){return t.position-e.position});var c,p,u,m,d=0;if("bottom"===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||(p=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,u=this.ctx.lineWidth%2==1?.5+(p.x<<0):p.x<<0,this.ctx.beginPath(),this.ctx.moveTo(u,p.y<<0),this.ctx.lineTo(u,p.y+this.tickLength<<0),this.ctx.stroke()),0===c.textBlock.angle?(p.x-=c.textBlock.width/2,p.y="inside"===this.labelPlacement?p.y-(this.tickLength+c.textBlock.fontSize/2):p.y+this.tickLength+c.textBlock.fontSize/2):(p.x="inside"===this.labelPlacement?this.labelAngle<0?p.x:p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):p.x-(this.labelAngle<0?c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),p.y="inside"===this.labelPlacement?this.labelAngle<0?p.y-this.tickLength-5:p.y-this.tickLength-Math.abs((this.labelAngle,c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5)):p.y+this.tickLength+Math.abs(this.labelAngle<0?c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),c.textBlock.x=p.x,c.textBlock.y=p.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<e._labels.length;d++){var t;(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(p=e.getPixelCoordinatesOnAxis(c.position),e.tickThickness&&(e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor,t=e.ctx.lineWidth%2==1?.5+(p.x<<0):p.x<<0,e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(t,p.y<<0),e.ctx.lineTo(t,p.y-e.tickLength<<0),e.ctx.stroke(),e.ctx.restore()))}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||(p=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,u=this.ctx.lineWidth%2==1?.5+(p.x<<0):p.x<<0,this.ctx.beginPath(),this.ctx.moveTo(u,p.y<<0),this.ctx.lineTo(u,p.y-this.tickLength<<0),this.ctx.stroke()),0===c.textBlock.angle?(p.x-=c.textBlock.width/2,p.y="inside"===this.labelPlacement?p.y+this.labelFontSize/2+this.tickLength+5:p.y-(this.tickLength+c.textBlock.height-c.textBlock.fontSize/2)):(p.x="inside"===this.labelPlacement?0<this.labelAngle?p.x:p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):p.x+(c.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),p.y="inside"===this.labelPlacement?0<this.labelAngle?p.y+this.tickLength+5:p.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:p.y-(this.tickLength+((c.textBlock.height-c.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),c.textBlock.x=p.x,c.textBlock.y=p.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<e._labels.length;d++){var t;(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(p=e.getPixelCoordinatesOnAxis(c.position),e.tickThickness&&(e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor,t=this.ctx.lineWidth%2==1?.5+(p.x<<0):p.x<<0,e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(t,p.y<<0),e.ctx.lineTo(t,p.y+e.tickLength<<0),e.ctx.stroke(),e.ctx.restore()))}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||(p=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,m=this.ctx.lineWidth%2==1?.5+(p.y<<0):p.y<<0,this.ctx.beginPath(),this.ctx.moveTo(p.x<<0,m),this.ctx.lineTo(p.x-this.tickLength<<0,m),this.ctx.stroke()),0===this.labelAngle?(c.textBlock.y=p.y,c.textBlock.x="inside"===this.labelPlacement?p.x+this.tickLength+5:p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(c.textBlock.y="inside"===this.labelPlacement?p.y:p.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c.textBlock.x="inside"===this.labelPlacement?p.x+this.tickLength+5:0<this.labelAngle?p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<e._labels.length;d++){var t;(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(p=e.getPixelCoordinatesOnAxis(c.position),e.tickThickness&&(e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor,t=e.ctx.lineWidth%2==1?.5+(p.y<<0):p.y<<0,e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(p.x<<0,t),e.ctx.lineTo(p.x+e.tickLength<<0,t),e.ctx.stroke(),e.ctx.restore()))}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||(p=this.getPixelCoordinatesOnAxis(c.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,m=this.ctx.lineWidth%2==1?.5+(p.y<<0):p.y<<0,this.ctx.beginPath(),this.ctx.moveTo(p.x<<0,m),this.ctx.lineTo(p.x+this.tickLength<<0,m),this.ctx.stroke()),0===this.labelAngle?(c.textBlock.y=p.y,c.textBlock.x="inside"===this.labelPlacement?p.x-c.textBlock.width-this.tickLength-5:p.x+this.tickLength+5):(c.textBlock.y="inside"===this.labelPlacement?p.y-c.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):this.labelAngle<0?p.y:p.y-(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),c.textBlock.x="inside"===this.labelPlacement?p.x-c.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?p.x+(c.textBlock.height-c.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:p.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<e._labels.length;d++){var t;(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(p=e.getPixelCoordinatesOnAxis(c.position),e.tickThickness&&(e.ctx.lineWidth=e.tickThickness,e.ctx.strokeStyle=e.tickColor,t=e.ctx.lineWidth%2==1?.5+(p.y<<0):p.y<<0,e.ctx.save(),e.ctx.beginPath(),e.ctx.moveTo(p.x<<0,t),e.ctx.lineTo(p.x-e.tickLength<<0,t),e.ctx.stroke(),e.ctx.restore()))}},this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(n=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",function(){for(d=0;d<e._labels.length;d++)(c=e._labels[d]).position<e.viewportMinimum||c.position>e.viewportMaximum||i&&n++%2!=0&&e.labelAutoFit||(e.ctx.save(),e.ctx.beginPath(),c.textBlock.render(!0),e.ctx.restore())},this);else for(d=0;d<this._labels.length;d++)(c=this._labels[d]).position<this.viewportMinimum||c.position>this.viewportMaximum||i&&n++%2!=0&&this.labelAutoFit||c.textBlock.render(!0)},_.prototype.renderInterlacedColors=function(){var t,e,i=this.chart.plotArea.ctx,a=this.chart.plotArea,s=0,n=!0;if("bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(i.fillStyle=this.interlacedColor,s=0;s<this._labels.length;s++)n=!n||(e=this.getPixelCoordinatesOnAxis(this._labels[s].position),t=s+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[s+1].position),i.fillRect(a.x1,Math.min(e.y,t.y),Math.abs(a.x1-a.x2),Math.abs(t.y-e.y)),!1)}else for(i.fillStyle=this.interlacedColor,s=0;s<this._labels.length;s++)n=!n||(t=this.getPixelCoordinatesOnAxis(this._labels[s].position),e=s+1>this._labels.length-1?this.getPixelCoordinatesOnAxis(this.viewportMaximum):this.getPixelCoordinatesOnAxis(this._labels[s+1].position),i.fillRect(Math.min(e.x,t.x),a.y1,Math.abs(e.x-t.x),Math.abs(a.y1-a.y2)),!1);i.beginPath()},_.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){for(var e=this,i=0,a=0,s=!1,n=!1,o=[],l=[],r=!1,i=0;i<this.stripLines.length;i++)(p=this.stripLines[i])._thicknessType===t&&("pixel"===t&&(p.value<this.viewportMinimum||p.value>this.viewportMaximum||yt(p.value)||isNaN(this.range))||o.push(p));for(i=0;i<this._stripLineLabels.length;i++){var h,d,x,c,p=this.stripLines[i];(h=this._stripLineLabels[i]).position<this.viewportMinimum||h.position>this.viewportMaximum||isNaN(this.range)||(c=this.getPixelCoordinatesOnAxis(h.position),"outside"===h.stripLine.labelPlacement?(p&&(this.ctx.strokeStyle=p.color,"pixel"===p._thicknessType&&(this.ctx.lineWidth=p.thickness)),"bottom"===this._position?(d=this.ctx.lineWidth%2==1?.5+(c.x<<0):c.x<<0,this.ctx.beginPath(),this.ctx.moveTo(d,c.y<<0),this.ctx.lineTo(d,c.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(c.x-=h.textBlock.width/2,c.y+=this.tickLength+h.textBlock.fontSize/2):(c.x-=this.labelAngle<0?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,c.y+=this.tickLength+Math.abs(this.labelAngle<0?h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))):"top"===this._position?(d=this.ctx.lineWidth%2==1?.5+(c.x<<0):c.x<<0,this.ctx.beginPath(),this.ctx.moveTo(d,c.y<<0),this.ctx.lineTo(d,c.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(c.x-=h.textBlock.width/2,c.y-=this.tickLength+h.textBlock.height):(c.x+=(h.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),c.y-=this.tickLength+(h.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(x=this.ctx.lineWidth%2==1?.5+(c.y<<0):c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,x),this.ctx.lineTo(c.x-this.tickLength<<0,x),this.ctx.stroke(),0===this.labelAngle?c.x=c.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(c.y=c.y-h.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),c.x=0<this.labelAngle?c.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:c.x-h.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(x=this.ctx.lineWidth%2==1?.5+(c.y<<0):c.y<<0,this.ctx.beginPath(),this.ctx.moveTo(c.x<<0,x),this.ctx.lineTo(c.x+this.tickLength<<0,x),this.ctx.stroke(),0===this.labelAngle?c.x=c.x+this.tickLength+5:(c.y=this.labelAngle<0?c.y:c.y-(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),c.x=0<this.labelAngle?c.x+(h.textBlock.height-h.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:c.x+this.tickLength+5))):(h.textBlock.angle=-90,"bottom"===this._position?(h.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth||this.chart.plotArea.height-3,h.textBlock.measureText(),c.x-h.textBlock.height>this.chart.plotArea.x1?yt(p.startValue)?c.x-=h.textBlock.height-h.textBlock.fontSize/2:c.x-=h.textBlock.height/2-h.textBlock.fontSize/2+3:(h.textBlock.angle=90,yt(p.startValue)?c.x+=h.textBlock.height-h.textBlock.fontSize/2:c.x+=h.textBlock.height/2-h.textBlock.fontSize/2+3),-90===h.textBlock.angle?c.y="near"===h.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+h.textBlock.width)/2:this.chart.plotArea.y1+h.textBlock.width+3:c.y="near"===h.stripLine.labelAlign?this.chart.plotArea.y2-h.textBlock.width-3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-h.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(h.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth||this.chart.plotArea.height-3,h.textBlock.measureText(),c.x-h.textBlock.height>this.chart.plotArea.x1?yt(p.startValue)?c.x-=h.textBlock.height-h.textBlock.fontSize/2:c.x-=h.textBlock.height/2-h.textBlock.fontSize/2+3:(h.textBlock.angle=90,yt(p.startValue)?c.x+=h.textBlock.height-h.textBlock.fontSize/2:c.x+=h.textBlock.height/2-h.textBlock.fontSize/2+3),-90===h.textBlock.angle?c.y="near"===h.stripLine.labelAlign?this.chart.plotArea.y1+h.textBlock.width+3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+h.textBlock.width)/2:this.chart.plotArea.y2-3:c.y="near"===h.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-h.textBlock.width)/2:this.chart.plotArea.y2-h.textBlock.width-3):"left"===this._position?(h.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth||this.chart.plotArea.width-3,h.textBlock.angle=0,h.textBlock.measureText(),!(c.y-h.textBlock.height>this.chart.plotArea.y1)&&c.y-h.textBlock.height<this.chart.plotArea.y2?c.y+=h.textBlock.fontSize/2+3:yt(p.startValue)?c.y-=h.textBlock.height-h.textBlock.fontSize/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize+3,c.x="near"===h.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-h.textBlock.width/2:this.chart.plotArea.x2-h.textBlock.width-3):"right"===this._position&&(h.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth||this.chart.plotArea.width-3,h.textBlock.angle=0,h.textBlock.measureText(),c.y-+h.textBlock.height>this.chart.plotArea.y1?yt(p.startValue)?c.y-=h.textBlock.height-h.textBlock.fontSize/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize/2-3:c.y-h.textBlock.height<this.chart.plotArea.y2?c.y+=h.textBlock.fontSize/2+3:yt(p.startValue)?c.y-=h.textBlock.height-h.textBlock.fontSize/2:c.y-=h.textBlock.height/2-h.textBlock.fontSize/2+3,c.x="near"===h.stripLine.labelAlign?this.chart.plotArea.x2-h.textBlock.width-3:"center"===h.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-h.textBlock.width/2:this.chart.plotArea.x1+3)),h.textBlock.x=c.x,h.textBlock.y=c.y,l.push(h))}if(!r){for(n=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),i=0;i<o.length;i++)(p=o[i]).showOnTop?s||(s=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),a=0;a<o.length;a++)(p=o[a]).showOnTop&&p.render();this.ctx.restore()},p)):p.render();for(i=0;i<l.length;i++)(h=l[i]).stripLine.showOnTop?n||(n=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(a=0;a<l.length;a++)"inside"===(h=l[a]).stripLine.labelPlacement&&h.stripLine.showOnTop&&(e.ctx.save(),e.ctx.beginPath(),e.ctx.rect(e.chart.plotArea.x1,e.chart.plotArea.y1,e.chart.plotArea.width,e.chart.plotArea.height),e.ctx.clip(),h.textBlock.render(!0),e.ctx.restore())},h.textBlock)):"inside"===h.stripLine.labelPlacement&&h.textBlock.render(!0);this.ctx.restore(),r=!0}if(r)for(n=!1,i=0;i<l.length;i++)(h=l[i]).stripLine.showOnTop?n||(n=!0,this.chart.addEventListener("dataAnimationIterationEnd",function(){for(a=0;a<l.length;a++)"outside"===(h=l[a]).stripLine.labelPlacement&&h.stripLine.showOnTop&&h.textBlock.render(!0)},h.textBlock)):"outside"===h.stripLine.labelPlacement&&h.textBlock.render(!0)}},_.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},_.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;rt?(this.maskCanvas=Q(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var e=0;e<t.length;e++)t[e].endValue<this.viewportMinimum||t[e].startValue>this.viewportMaximum||isNaN(this.range)||t[e].render(this.maskCtx);this.maskCtx.restore()}},_.prototype.renderCrosshair=function(t,e){this.crosshair.render(t,e)},_.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var e,i,a=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(xt(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[n].position),i=t.lineWidth%2==1?.5+(e.x<<0):e.x<<0,t.moveTo(i,a.y1<<0),t.lineTo(i,a.y2<<0),t.stroke());else if("left"===this._position||"right"===this._position)for(var s,n=0;n<this._labels.length;n++)this._labels[n].position<this.viewportMinimum||this._labels[n].position>this.viewportMaximum||this._labels[n].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[n].position),s=t.lineWidth%2==1?.5+(e.y<<0):e.y<<0,t.moveTo(a.x1<<0,s),t.lineTo(a.x2<<0,s),t.stroke());t.restore()}},_.prototype.renderAxisLine=function(){var t,e,i=this.chart.ctx,a=rt?this.chart._preRenderCtx:i,s=Math.ceil(this.tickThickness/(this.reversed?-2:2)),n=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(a.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){e=this.reversed?(t=this.lineCoordinates.x2,this.lineCoordinates.x1):(t=this.lineCoordinates.x1,this.lineCoordinates.x2),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor||"black",a.setLineDash&&a.setLineDash(xt(this.lineDashType,this.lineThickness));var o=this.lineThickness%2==1?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(a.beginPath(),this.scaleBreaks&&!yt(this.scaleBreaks.firstBreakIndex))if(yt(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+n;else for(var l=this.scaleBreaks.firstBreakIndex;l<=this.scaleBreaks.lastBreakIndex;l++)a.moveTo(t,o),a.lineTo(this.scaleBreaks._appliedBreaks[l].startPixel+s,o),t=this.scaleBreaks._appliedBreaks[l].endPixel+n;t&&(a.moveTo(t,o),a.lineTo(e,o)),a.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){e=this.reversed?(t=this.lineCoordinates.y1,this.lineCoordinates.y2):(t=this.lineCoordinates.y2,this.lineCoordinates.y1),a.lineWidth=this.lineThickness,a.strokeStyle=this.lineColor,a.setLineDash&&a.setLineDash(xt(this.lineDashType,this.lineThickness));var r=this.lineThickness%2==1?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0;if(a.beginPath(),this.scaleBreaks&&!yt(this.scaleBreaks.firstBreakIndex))if(yt(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+s;else for(l=this.scaleBreaks.firstBreakIndex;l<=this.scaleBreaks.lastBreakIndex;l++)a.moveTo(r,t),a.lineTo(r,this.scaleBreaks._appliedBreaks[l].startPixel+n),t=this.scaleBreaks._appliedBreaks[l].endPixel+s;t&&(a.moveTo(r,t),a.lineTo(r,e)),a.stroke()}rt&&(i.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),a.clearRect(0,0,this.chart.width,this.chart.height)),a.restore()},_.prototype.getPixelCoordinatesOnAxis=function(t){var e={};return"bottom"!==this._position&&"top"!==this._position||(this.conversionParameters.pixelPerUnit,e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(this.conversionParameters.pixelPerUnit,e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2),e},_.prototype.convertPixelToValue=function(t){if(void 0===t)return null;var e,i,a=0,s=0,n=!0,o=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],s="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x;if(this.logarithmic){if(l=i=Math.pow(this.logarithmBase,(s-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),s<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(e=0;e<o.length;e++)if(!(o[e].endValue<this.conversionParameters.minimum))if(n)if(o[e].startValue<this.conversionParameters.minimum){if(1<o[e].size&&this.conversionParameters.minimum*Math.pow(o[e].endValue/o[e].startValue,Math.log(i)/Math.log(o[e].size))<o[e].endValue){l=Math.pow(o[e].endValue/o[e].startValue,Math.log(i)/Math.log(o[e].size));break}l*=o[e].endValue/this.conversionParameters.minimum/Math.pow(o[e].size,Math.log(o[e].endValue/this.conversionParameters.minimum)/Math.log(o[e].endValue/o[e].startValue)),i/=Math.pow(o[e].size,Math.log(o[e].endValue/this.conversionParameters.minimum)/Math.log(o[e].endValue/o[e].startValue)),n=!1}else{if(!(i>o[e].startValue/this.conversionParameters.minimum))break;if((i/=o[e].startValue/this.conversionParameters.minimum)<o[e].size){l*=Math.pow(o[e].endValue/o[e].startValue,1===o[e].size?1:Math.log(i)/Math.log(o[e].size))/i;break}l*=o[e].endValue/o[e].startValue/o[e].size,i/=o[e].size,n=!1}else{if(!(i>o[e].startValue/o[e-1].endValue))break;if((i/=o[e].startValue/o[e-1].endValue)<o[e].size){l*=Math.pow(o[e].endValue/o[e].startValue,1===o[e].size?1:Math.log(i)/Math.log(o[e].size))/i;break}l*=o[e].endValue/o[e].startValue/o[e].size,i/=o[e].size}}else for(e=o.length-1;0<=e;e--)if(!(o[e].startValue>this.conversionParameters.minimum))if(n)if(o[e].endValue>this.conversionParameters.minimum){if(1<o[e].size&&this.conversionParameters.minimum*Math.pow(o[e].endValue/o[e].startValue,Math.log(i)/Math.log(o[e].size))>o[e].startValue){l=Math.pow(o[e].endValue/o[e].startValue,Math.log(i)/Math.log(o[e].size));break}l*=o[e].startValue/this.conversionParameters.minimum*Math.pow(o[e].size,Math.log(o[e].startValue/this.conversionParameters.minimum)/Math.log(o[e].endValue/o[e].startValue))*i,i*=Math.pow(o[e].size,Math.log(this.conversionParameters.minimum/o[e].startValue)/Math.log(o[e].endValue/o[e].startValue)),n=!1}else{if(!(i<o[e].endValue/this.conversionParameters.minimum))break;if((i/=o[e].endValue/this.conversionParameters.minimum)>1/o[e].size){l*=Math.pow(o[e].endValue/o[e].startValue,o[e].size<=1?1:Math.log(i)/Math.log(o[e].size))*i;break}l/=o[e].endValue/o[e].startValue/o[e].size,i*=o[e].size,n=!1}else{if(!(i<o[e].endValue/o[e+1].startValue))break;if((i/=o[e].endValue/o[e+1].startValue)>1/o[e].size){l*=Math.pow(o[e].endValue/o[e].startValue,o[e].size<=1?1:Math.log(i)/Math.log(o[e].size))*i;break}l/=o[e].endValue/o[e].startValue/o[e].size,i*=o[e].size}a=l*this.viewportMinimum}else{var l=i=(s-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit;if(s<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(e=0;e<o.length;e++)if(!(o[e].endValue<this.conversionParameters.minimum))if(n)if(o[e].startValue<this.conversionParameters.minimum){if(o[e].size&&this.conversionParameters.minimum+i*(o[e].endValue-o[e].startValue)/o[e].size<o[e].endValue){l=o[e].size<=0?0:i*(o[e].endValue-o[e].startValue)/o[e].size;break}l+=o[e].endValue-this.conversionParameters.minimum-o[e].size*(o[e].endValue-this.conversionParameters.minimum)/(o[e].endValue-o[e].startValue),i-=o[e].size*(o[e].endValue-this.conversionParameters.minimum)/(o[e].endValue-o[e].startValue),n=!1}else{if(!(i>o[e].startValue-this.conversionParameters.minimum))break;if((i-=o[e].startValue-this.conversionParameters.minimum)<o[e].size){l+=(o[e].endValue-o[e].startValue)*(0===o[e].size?1:i/o[e].size)-i;break}l+=o[e].endValue-o[e].startValue-o[e].size,i-=o[e].size,n=!1}else{if(!(i>o[e].startValue-o[e-1].endValue))break;if((i-=o[e].startValue-o[e-1].endValue)<o[e].size){l+=(o[e].endValue-o[e].startValue)*(0===o[e].size?1:i/o[e].size)-i;break}l+=o[e].endValue-o[e].startValue-o[e].size,i-=o[e].size}}else for(e=o.length-1;0<=e;e--)if(!(o[e].startValue>this.conversionParameters.minimum))if(n)if(o[e].endValue>this.conversionParameters.minimum){if(o[e].size&&this.conversionParameters.minimum+i*(o[e].endValue-o[e].startValue)/o[e].size>o[e].startValue){l=o[e].size<=0?0:i*(o[e].endValue-o[e].startValue)/o[e].size;break}l+=o[e].startValue-this.conversionParameters.minimum+o[e].size*(this.conversionParameters.minimum-o[e].startValue)/(o[e].endValue-o[e].startValue),i+=o[e].size*(this.conversionParameters.minimum-o[e].startValue)/(o[e].endValue-o[e].startValue),n=!1}else{if(!(i<o[e].endValue-this.conversionParameters.minimum))break;if((i-=o[e].endValue-this.conversionParameters.minimum)>-1*o[e].size){l+=(o[e].endValue-o[e].startValue)*(0===o[e].size?1:i/o[e].size)+i;break}l-=o[e].endValue-o[e].startValue-o[e].size,i+=o[e].size,n=!1}else{if(!(i<o[e].endValue-o[e+1].startValue))break;if((i-=o[e].endValue-o[e+1].startValue)>-1*o[e].size){l+=(o[e].endValue-o[e].startValue)*(0===o[e].size?1:i/o[e].size)+i;break}l-=o[e].endValue-o[e].startValue-o[e].size,i+=o[e].size}a=this.conversionParameters.minimum+l}return a},_.prototype.convertValueToPixel=function(t){var t=this.getApparentDifference(this.conversionParameters.minimum,t,t),t=this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5;return t},_.prototype.getApparentDifference=function(t,e,i,a){var s=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic)for(var n=yt(i)?e/t:i,o=0;o<s.length&&!(e<s[o].startValue);o++)t>s[o].endValue||(t<=s[o].startValue&&e>=s[o].endValue?n=n/s[o].endValue*s[o].startValue*s[o].size:t>=s[o].startValue&&e>=s[o].endValue?n=n/s[o].endValue*t*Math.pow(s[o].size,Math.log(s[o].endValue/t)/Math.log(s[o].endValue/s[o].startValue)):t<=s[o].startValue&&e<=s[o].endValue?n=n/e*s[o].startValue*Math.pow(s[o].size,Math.log(e/s[o].startValue)/Math.log(s[o].endValue/s[o].startValue)):!a&&t>s[o].startValue&&e<s[o].endValue&&(n=t*Math.pow(s[o].size,Math.log(e/t)/Math.log(s[o].endValue/s[o].startValue))));else for(n=yt(i)?Math.abs(e-t):i,o=0;o<s.length&&!(e<s[o].startValue);o++)t>s[o].endValue||(t<=s[o].startValue&&e>=s[o].endValue?n=n-s[o].endValue+s[o].startValue+s[o].size:t>s[o].startValue&&e>=s[o].endValue?n=n-s[o].endValue+t+s[o].size*(s[o].endValue-t)/(s[o].endValue-s[o].startValue):t<=s[o].startValue&&e<s[o].endValue?n=n-e+s[o].startValue+s[o].size*(e-s[o].startValue)/(s[o].endValue-s[o].startValue):!a&&t>s[o].startValue&&e<s[o].endValue&&(n=t+s[o].size*(e-t)/(s[o].endValue-s[o].startValue)));return n},_.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},_.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=this.convertPixelToValue(t.y):"bottom"===this._position&&(e=this.convertPixelToValue(t.x)),e},_.prototype.calculateValueToPixelConversionParameters=function(t){var e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i={pixelPerUnit:null,minimum:null,reference:null},a=this.lineCoordinates.width,s=this.lineCoordinates.height,n="bottom"===this._position||"top"===this._position?a:s,o=Math.abs(this.range);if(this.logarithmic)for(var l=0;l<e.length&&!(this.viewportMaximum<e[l].startValue);l++)this.viewportMinimum>e[l].endValue||(this.viewportMinimum>=e[l].startValue&&this.viewportMaximum<=e[l].endValue?n=0:this.viewportMinimum<=e[l].startValue&&this.viewportMaximum>=e[l].endValue?(o=o/e[l].endValue*e[l].startValue,0<e[l].spacing.toString().indexOf("%")?n*=1-parseFloat(e[l].spacing)/100:n-=Math.min(e[l].spacing,.1*n)):this.viewportMinimum>e[l].startValue&&this.viewportMaximum>=e[l].endValue?(o=o/e[l].endValue*this.viewportMinimum,0<e[l].spacing.toString().indexOf("%")?n*=1-parseFloat(e[l].spacing)/100*Math.log(e[l].endValue/this.viewportMinimum)/Math.log(e[l].endValue/e[l].startValue):n-=Math.min(e[l].spacing,.1*n)*Math.log(e[l].endValue/this.viewportMinimum)/Math.log(e[l].endValue/e[l].startValue)):this.viewportMinimum<=e[l].startValue&&this.viewportMaximum<e[l].endValue&&(o=o/this.viewportMaximum*e[l].startValue,0<e[l].spacing.toString().indexOf("%")?n*=1-parseFloat(e[l].spacing)/100*Math.log(this.viewportMaximum/e[l].startValue)/Math.log(e[l].endValue/e[l].startValue):n-=Math.min(e[l].spacing,.1*n)*Math.log(this.viewportMaximum/e[l].startValue)/Math.log(e[l].endValue/e[l].startValue)));else for(l=0;l<e.length&&!(this.viewportMaximum<e[l].startValue);l++)this.viewportMinimum>e[l].endValue||(this.viewportMinimum>=e[l].startValue&&this.viewportMaximum<=e[l].endValue?n=0:this.viewportMinimum<=e[l].startValue&&this.viewportMaximum>=e[l].endValue?(o=o-e[l].endValue+e[l].startValue,0<e[l].spacing.toString().indexOf("%")?n*=1-parseFloat(e[l].spacing)/100:n-=Math.min(e[l].spacing,.1*n)):this.viewportMinimum>e[l].startValue&&this.viewportMaximum>=e[l].endValue?(o=o-e[l].endValue+this.viewportMinimum,0<e[l].spacing.toString().indexOf("%")?n*=1-parseFloat(e[l].spacing)/100*(e[l].endValue-this.viewportMinimum)/(e[l].endValue-e[l].startValue):n-=Math.min(e[l].spacing,.1*n)*(e[l].endValue-this.viewportMinimum)/(e[l].endValue-e[l].startValue)):this.viewportMinimum<=e[l].startValue&&this.viewportMaximum<e[l].endValue&&(o=o-this.viewportMaximum+e[l].startValue,0<e[l].spacing.toString().indexOf("%")?n*=1-parseFloat(e[l].spacing)/100*(this.viewportMaximum-e[l].startValue)/(e[l].endValue-e[l].startValue):n-=Math.min(e[l].spacing,.1*n)*(this.viewportMaximum-e[l].startValue)/(e[l].endValue-e[l].startValue)));i.minimum=this.viewportMinimum,i.maximum=this.viewportMaximum,i.range=o,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(i.lnLogarithmBase=Math.log(this.logarithmBase),i.pixelPerUnit=(this.reversed?-1:1)*n*i.lnLogarithmBase/Math.log(Math.abs(o))):i.pixelPerUnit=(this.reversed?-1:1)*n/Math.abs(o),i.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(i.lnLogarithmBase=Math.log(this.logarithmBase),i.pixelPerUnit=(this.reversed?1:-1)*n*i.lnLogarithmBase/Math.log(Math.abs(o))):i.pixelPerUnit=(this.reversed?1:-1)*n/Math.abs(o),i.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=i},_.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var t=this.chart.layoutManager.getFreeSpace(),e=!1,i=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width);var a="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40,s=4;"axisX"===this.type&&(s=this.maxWidth<600?8:6);var n,o,l,t=Math.max(s,Math.floor(this.maxWidth/a)),s=0;if(!yt(this.options.viewportMinimum)&&!yt(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!yt(this.options.viewportMinimum)||yt(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!yt(this.options.viewportMaximum)||yt(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(var r=0;r<this.scaleBreaks._appliedBreaks.length;r++)if((!yt(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue||!yt(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[r].startValue||!yt(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue)&&(!yt(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue||!yt(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[r].endValue||!yt(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue)){this.scaleBreaks._appliedBreaks.splice(r,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(var h=0;h<this.dataSeries.length;h++)"dateTime"===this.dataSeries[h].xValueType&&(i=!0);n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,(o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-n==0&&(o+=s=void 0===this.options.interval?.4:this.options.interval,n-=s),this.dataInfo.minDiff!==1/0?l=this.dataInfo.minDiff:1<o-n?l=.5*Math.abs(o-n):(l=1,i&&(e=!0))}else"axisY"===this.type&&(n=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,o=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(n)||isFinite(o)?isFinite(n)?isFinite(o)||(o=n):n=o:(o=void 0===this.options.interval?-1/0:this.options.interval,n=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===n&&0===o?(o+=9,n=0):o-n==0?(o+=s=Math.min(Math.abs(.01*Math.abs(o)),5),n-=s):o<n?(s=Math.min(.01*Math.abs(this.getApparentDifference(o,n,null,!0)),5),0<=o?n=o-s:o=isFinite(n)?n+s:0):(s=Math.min(.01*Math.abs(this.getApparentDifference(n,o,null,!0)),.05),0!==o&&(o+=s),0!==n&&(n-=s)),l=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<o-n?.5*Math.abs(o-n):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<n&&(n=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&o<0&&(o=0));a=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?n:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?o:this.viewportMaximum,null,!0),"axisX"===this.type&&i?(this.intervalType||(+a<=t?(this.interval=1,this.intervalType="millisecond"):a/2<=t?(this.interval=2,this.intervalType="millisecond"):a/5<=t?(this.interval=5,this.intervalType="millisecond"):a/10<=t?(this.interval=10,this.intervalType="millisecond"):a/20<=t?(this.interval=20,this.intervalType="millisecond"):a/50<=t?(this.interval=50,this.intervalType="millisecond"):a/100<=t?(this.interval=100,this.intervalType="millisecond"):a/200<=t?(this.interval=200,this.intervalType="millisecond"):a/250<=t?(this.interval=250,this.intervalType="millisecond"):a/300<=t?(this.interval=300,this.intervalType="millisecond"):a/400<=t?(this.interval=400,this.intervalType="millisecond"):a/500<=t?(this.interval=500,this.intervalType="millisecond"):a/+f.secondDuration<=t?(this.interval=1,this.intervalType="second"):a/(2*f.secondDuration)<=t?(this.interval=2,this.intervalType="second"):a/(5*f.secondDuration)<=t?(this.interval=5,this.intervalType="second"):a/(10*f.secondDuration)<=t?(this.interval=10,this.intervalType="second"):a/(15*f.secondDuration)<=t?(this.interval=15,this.intervalType="second"):a/(20*f.secondDuration)<=t?(this.interval=20,this.intervalType="second"):a/(30*f.secondDuration)<=t?(this.interval=30,this.intervalType="second"):a/+f.minuteDuration<=t?(this.interval=1,this.intervalType="minute"):a/(2*f.minuteDuration)<=t?(this.interval=2,this.intervalType="minute"):a/(5*f.minuteDuration)<=t?(this.interval=5,this.intervalType="minute"):a/(10*f.minuteDuration)<=t?(this.interval=10,this.intervalType="minute"):a/(15*f.minuteDuration)<=t?(this.interval=15,this.intervalType="minute"):a/(20*f.minuteDuration)<=t?(this.interval=20,this.intervalType="minute"):a/(30*f.minuteDuration)<=t?(this.interval=30,this.intervalType="minute"):a/+f.hourDuration<=t?(this.interval=1,this.intervalType="hour"):a/(2*f.hourDuration)<=t?(this.interval=2,this.intervalType="hour"):a/(3*f.hourDuration)<=t?(this.interval=3,this.intervalType="hour"):a/(6*f.hourDuration)<=t?(this.interval=6,this.intervalType="hour"):a/+f.dayDuration<=t?(this.interval=1,this.intervalType="day"):a/(2*f.dayDuration)<=t?(this.interval=2,this.intervalType="day"):a/(4*f.dayDuration)<=t?(this.interval=4,this.intervalType="day"):a/+f.weekDuration<=t?(this.interval=1,this.intervalType="week"):a/(2*f.weekDuration)<=t?(this.interval=2,this.intervalType="week"):a/(3*f.weekDuration)<=t?(this.interval=3,this.intervalType="week"):a/+f.monthDuration<=t?(this.interval=1,this.intervalType="month"):a/(2*f.monthDuration)<=t?(this.interval=2,this.intervalType="month"):a/(3*f.monthDuration)<=t?(this.interval=3,this.intervalType="month"):a/(6*f.monthDuration)<=t?(this.interval=6,this.intervalType="month"):(this.interval=a/+f.yearDuration<=t?1:a/(2*f.yearDuration)<=t?2:a/(4*f.yearDuration)<=t?4:Math.floor(_.getNiceNumber(a/(t-1),!0)/f.yearDuration),this.intervalType="year")),null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||(this.viewportMinimum=n-l/2),null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||(this.viewportMaximum=o+l/2),e?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType||"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType||"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",a=_.getNiceNumber(a,!1),this.options&&0<this.options.interval?this.interval=this.options.interval:this.interval=_.getNiceNumber(a/(t-1),!0),null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||("axisX"===this.type?this.viewportMinimum=n-l/2:this.viewportMinimum=Math.floor(n/this.interval)*this.interval),null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||("axisX"===this.type?this.viewportMaximum=o+l/2:this.viewportMaximum=Math.ceil(o/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=_.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(n=null!==this.minimum?this.minimum:this.dataInfo.min,(o=null!==this.maximum?this.maximum:this.dataInfo.max)-n==0&&(o+=s=void 0===this.options.interval?.4:this.options.interval,n-=s),l=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<o-n?.5*Math.abs(o-n):1):"axisY"===this.type&&(n=null!==this.minimum?this.minimum:this.dataInfo.min,o=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(n)||isFinite(o)?0===n&&0===o?(o+=9,n=0):o-n==0?(o+=s=Math.min(Math.abs(.01*Math.abs(o)),5),n-=s):o<n?(s=Math.min(.01*Math.abs(this.getApparentDifference(o,n,null,!0)),5),0<=o?n=o-s:o=isFinite(n)?n+s:0):(s=Math.min(.01*Math.abs(this.getApparentDifference(n,o,null,!0)),.05),0!==o&&(o+=s),0!==n&&(n-=s)):(o=void 0===this.options.interval?-1/0:this.options.interval,n=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),l=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:1<o-n?.5*Math.abs(o-n):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<n&&(n=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&o<0&&(o=0)),a=Math.abs(this.getApparentDifference(n,o,null,!0)),"axisX"===this.type&&i?(this.valueType="dateTime",null!==this.minimum&&!isNaN(this.minimum)||(this.minimum=n-l/2),null!==this.maximum&&!isNaN(this.maximum)||(this.maximum=o+l/2)):(this.intervalType=this.valueType="number",null===this.minimum&&("axisX"===this.type?this.minimum=n-l/2:this.minimum=Math.floor(n/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&("axisX"===this.type?this.maximum=o+l/2:this.maximum=Math.ceil(o/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),yt(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),yt(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,"axisX"===this.type&&i?this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):this.intervalStartPosition=Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=_.generateValueFormatString(this.range,2))}},_.prototype.calculateLogarithmicAxisParameters=function(){var t,e=this.chart.layoutManager.getFreeSpace(),i=Math.log(this.logarithmBase);"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width);var a,s,n="axisX"===this.type?this.maxWidth<500?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),o=1;if(null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||(this.viewportMinimum=this.minimum),null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||(this.viewportMaximum=this.maximum),this.scaleBreaks)for(var l=0;l<this.scaleBreaks._appliedBreaks.length;l++)if((!yt(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue||!yt(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[l].startValue||!yt(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue)&&(!yt(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue||!yt(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[l].endValue||!yt(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue)){this.scaleBreaks._appliedBreaks.splice(l,1);break}"axisX"===this.type?(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,(h=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/a==1&&(h*=o=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),a/=o),s=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:h/a>this.logarithmBase?h/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,h=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,a<=0&&!isFinite(h)?(h=void 0===this.options.interval?0:this.options.interval,a=1):a<=0?a=h:isFinite(h)||(h=a),1===a&&1===h?(h*=this.logarithmBase-1/this.logarithmBase,a=1):h/a==1?(h*=o=Math.min(h*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),a/=o):h<a?(o=Math.min(a/h*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=h?a=h/o:h=a*o):(o=Math.min(h/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==h&&(h*=o),1!==a&&(a/=o)),s=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:h/a>this.logarithmBase?h/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<a&&(a=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&h<1&&(h=1));var r=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?h:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum),e=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?h:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?a:this.viewportMinimum);this.intervalType="number",r=Math.pow(this.logarithmBase,_.getNiceNumber(Math.abs(Math.log(r)/i),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=_.getNiceExponent(Math.log(r)/i/(n-1),!0),t=_.getNiceNumber(e/(n-1),!0)),null!==this.viewportMinimum&&!isNaN(this.viewportMinimum)||("axisX"===this.type?this.viewportMinimum=a/Math.sqrt(s):this.viewportMinimum=Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/i/this.interval))),null!==this.viewportMaximum&&!isNaN(this.viewportMaximum)||("axisX"===this.type?this.viewportMaximum=h*Math.sqrt(s):this.viewportMaximum=Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(h)/i/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=_.getNiceExponent(Math.ceil(Math.log(r)/i)/(n-1)),t=_.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(n-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(a=null!==this.minimum?this.minimum:this.dataInfo.min,(h=null!==this.maximum?this.maximum:this.dataInfo.max)/a==1&&(h*=o=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),a/=o),s=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:h/a>this.logarithmBase?h/a*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(a=null!==this.minimum?this.minimum:this.dataInfo.min,h=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(a)||isFinite(h)?1===a&&1===h?(h*=this.logarithmBase,a/=this.logarithmBase):h/a==1?(h*=o=Math.pow(this.logarithmBase,this.interval),a/=o):h<a?(o=Math.min(a/h*.01,5),1<=h?a=h/o:h=a*o):(o=Math.min(h/a*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==h&&(h*=o),1!==a&&(a/=o)):(h=void 0===this.options.interval?0:this.options.interval,a=1),s=this.dataInfo.minDiff!==1/0?this.dataInfo.minDiff:h/a>this.logarithmBase?h/a*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<a&&(a=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&h<1&&(h=1)),r=h/a,this.intervalType="number",null===this.minimum&&("axisX"===this.type?this.minimum=a/Math.sqrt(s):this.minimum=Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(a)/i/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&("axisX"===this.type?this.maximum=h*Math.sqrt(s):this.maximum=Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(h)/i/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum);var h=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval);if(this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=n,!this.options.interval&&this.range<Math.pow(this.logarithmBase,this.viewportMaximum<8||n<3?2:3)){for(var d=Math.floor(this.viewportMinimum/t+.5)*t;d<this.viewportMinimum;)d+=t;this.equidistantInterval=!1,this.intervalStartPosition=d,this.interval=t}else this.options.interval||(n=Math.ceil(this.interval),this.range>this.interval&&(this.interval=n,h=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(i*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=h;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",this.viewportMinimum<1)){var x=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2;if(2<(x=isNaN(x)||!isFinite(x)?2:x))for(l=0;l<x-2;l++)this.valueFormatString+="#"}},_.generateValueFormatString=function(t,e){var i="#,##0.",a=e;t<1&&(a+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),!isNaN(a)&&isFinite(a)||(a=e));for(var s=0;s<a;s++)i+="#";return i},_.getNiceExponent=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),t=t/Math.pow(10,i),t=i<0?t<=1?1:t<=5?5:10:Math.max(Math.floor(t),1);return i<-20?Number(t*Math.pow(10,i)):Number((t*Math.pow(10,i)).toFixed(20))},_.getNiceNumber=function(t,e){var i=Math.floor(Math.log(t)/Math.LN10),t=t/Math.pow(10,i),t=e?t<1.5?1:t<3?2:t<7?5:10:t<=1?1:t<=2?2:t<=5?5:10;return i<-20?Number(t*Math.pow(10,i)):Number((t*Math.pow(10,i)).toFixed(20))},_.prototype.getLabelStartPoint=function(){var t=O(this.interval,this.intervalType),t=Math.floor(this.viewportMinimum/t)*t,t=new Date(t);return"millisecond"===this.intervalType||("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},M(x,at),M(v,at),v.prototype.createUserOptions=function(t){var e;void 0===t&&!this.options._isPlaceholder||(e=0,this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(dt(this.parent[this.optionsName]),e=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options[this.optionsName][e]=this.options)},v.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var e=this.ctx,i=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var a=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),s=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1;H(this.id);var n,o,l,r,h=Math.max(this.spacing,3),t=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=t,this.ctx.setLineDash&&this.ctx.setLineDash(xt(this.lineDashType,t)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(n=t%2==1?.5+(a.x<<0):a.x<<0,o=t%2==1?.5+(s.x<<0):s.x<<0,"top"===this.scaleBreaks.parent._position?(l=this.chart.plotArea.y1,r=this.chart.plotArea.y2+t/2+.5<<0):(l=this.chart.plotArea.y2,r=this.chart.plotArea.y1-t/2+.5<<0,h*=-1),this.bounds={x1:n-t/2,y1:l,x2:o+t/2,y2:r},this.ctx.moveTo(n,l),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&h<=0||"bottom"===this.scaleBreaks.parent._position&&0<=h)this.ctx.lineTo(n,r),this.ctx.lineTo(o,r),this.ctx.lineTo(o,l);else if("wavy"===this.type){for(var d,x=n,c=.5,p=(r-(d=l))/h/3,u=0;u<p;u++)this.ctx.bezierCurveTo(x+c*h,d+h,x+c*h,d+2*h,x,d+3*h),d+=3*h,c*=-1;this.ctx.bezierCurveTo(x+c*h,d+h,x+c*h,d+2*h,x,d+3*h),c*=-1,this.ctx.lineTo(x=o,d);for(u=0;u<p;u++)this.ctx.bezierCurveTo(x+c*h,d-h,x+c*h,d-2*h,x,d-3*h),d-=3*h,c*=-1}else if("zigzag"===this.type){c=-1,x=n+h,p=(r-(d=l+h))/h/2;for(u=0;u<p;u++)this.ctx.lineTo(x,d),x+=2*c*h,d+=2*h,c*=-1;this.ctx.lineTo(x,d),x+=o-n;for(u=0;u<p+1;u++)this.ctx.lineTo(x,d),x+=2*c*h,d-=2*h,c*=-1;this.ctx.lineTo(x+c*h,d+h)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(l=t%2==1?.5+(s.y<<0):s.y<<0,r=t%2==1?.5+(a.y<<0):a.y<<0,"left"===this.scaleBreaks.parent._position?(n=this.chart.plotArea.x1,o=this.chart.plotArea.x2+t/2+.5<<0):(n=this.chart.plotArea.x2,o=this.chart.plotArea.x1-t/2+.5<<0,h*=-1),this.bounds={x1:n,y1:l-t/2,x2:o,y2:r+t/2},this.ctx.moveTo(n,l),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&h<=0||"right"===this.scaleBreaks.parent._position&&0<=h)this.ctx.lineTo(o,l),this.ctx.lineTo(o,r),this.ctx.lineTo(n,r);else if("wavy"===this.type){d=l,c=.5,p=(o-(x=n))/h/3;for(u=0;u<p;u++)this.ctx.bezierCurveTo(x+h,d+c*h,x+2*h,d+c*h,x+3*h,d),x+=3*h,c*=-1;this.ctx.bezierCurveTo(x+h,d+c*h,x+2*h,d+c*h,x+3*h,d),c*=-1,this.ctx.lineTo(x,d=r);for(u=0;u<p;u++)this.ctx.bezierCurveTo(x-h,d+c*h,x-2*h,d+c*h,x-3*h,d),x-=3*h,c*=-1}else if("zigzag"===this.type){c=1,d=l-h,p=(o-(x=n+h))/h/2;for(u=0;u<p;u++)this.ctx.lineTo(x,d),d+=2*c*h,x+=2*h,c*=-1;this.ctx.lineTo(x,d),d+=r-l;for(u=0;u<p+1;u++)this.ctx.lineTo(x,d),d+=2*c*h,x-=2*h,c*=-1;this.ctx.lineTo(x+h,d+c*h)}0<t&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=i,this.ctx=e}},M(c,at),c.prototype.createUserOptions=function(t){var e;void 0===t&&!this.options._isPlaceholder||(e=0,this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(dt(this.parent.stripLines),e=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options.stripLines[e]=this.options)},c.prototype.render=function(){this.ctx.save();var t,e,i,a,s,n,o=this.parent.getPixelCoordinatesOnAxis(this.value),l=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);0<l&&(t=null===this.opacity?1:this.opacity,this.ctx.strokeStyle=this.color,this.ctx.beginPath(),e=this.ctx.globalAlpha,this.ctx.globalAlpha=t,H(this.id),this.ctx.lineWidth=l,this.ctx.setLineDash&&this.ctx.setLineDash(xt(this.lineDashType,l)),"bottom"===this.parent._position||"top"===this.parent._position?(a=i=this.ctx.lineWidth%2==1?.5+(o.x<<0):o.x<<0,s=this.chart.plotArea.y1,n=this.chart.plotArea.y2,this.bounds={x1:a-l/2,y1:s,x2:i+l/2,y2:n}):"left"!==this.parent._position&&"right"!==this.parent._position||(s=n=this.ctx.lineWidth%2==1?.5+(o.y<<0):o.y<<0,a=this.chart.plotArea.x1,i=this.chart.plotArea.x2,this.bounds={x1:a,y1:s-l/2,x2:i,y2:n+l/2}),this.ctx.moveTo(a,s),this.ctx.lineTo(i,n),this.ctx.stroke(),this.ctx.globalAlpha=e),this.ctx.restore()},M(p,at),p.prototype.render=function(t,e){var i=null,a=null,s=null;this.valueFormatString||("dateTime"===this.parent.valueType?this.valueFormatString=this.parent.valueFormatString:(r=0,r="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&this.parent.range<25?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(this.parent.range<5?2:this.parent.range<10?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(this.parent.range<5?2:this.parent.range<10?1:0),this.valueFormatString=_.generateValueFormatString(this.parent.range,r)));var n=null===this.opacity?1:this.opacity,o=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness),l=this.chart.overlaidCanvasCtx,r=l.globalAlpha;if(l.globalAlpha=n,l.beginPath(),l.strokeStyle=this.color,l.lineWidth=o,l.save(),this.labelFontSize=(yt(this.options.labelFontSize)?this.parent:this).labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=yt(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=yt(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=yt(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=yt(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<o&&l.setLineDash&&l.setLineDash(xt(this.lineDashType,o)),s=new vt(l,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:"",horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var h=0,d=[];if("xySwapped"===this.chart.plotInfo.axisPlacement){var x=null;"bottom"===this.parent._position||"top"===this.parent._position?h=this.parent.dataSeries[0].axisX.convertPixelToValue({y:e}):"left"!==this.parent._position&&"right"!==this.parent._position||(h=this.parent.convertPixelToValue({y:e}));for(var c=0;c<this.parent.dataSeries.length;c++)(x=this.parent.dataSeries[c].getDataPointAtX(h,!0))&&0<=x.index&&(x.dataSeries=this.parent.dataSeries[c],null!==x.dataPoint.y&&d.push(x));if(x=null,0===d.length)return;d.sort(function(t,e){return t.distance-e.distance});var p=Math.abs(t-this.parent.convertValueToPixel(d[0].dataPoint.y)),u=0;if("rangeBar"===d[0].dataSeries.type||"error"===d[0].dataSeries.type)for(var p=Math.abs(t-this.parent.convertValueToPixel(d[u].dataPoint.y[0])),m=0,g=0;g<d.length;g++)if(d[g].dataPoint.y&&d[g].dataPoint.y.length)for(var b=0;b<d[g].dataPoint.y.length;b++)(m=Math.abs(t-this.parent.convertValueToPixel(d[g].dataPoint.y[b])))<p&&(p=m,u=g);else(m=Math.abs(t-this.parent.convertValueToPixel(d[g].dataPoint.y)))<p&&(p=m,u=g);else if("stackedBar"===d[0].dataSeries.type)for(var p=Math.abs(t-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,y=0,u=0,g=0;g<d.length;g++)if(d[g].dataPoint.y&&d[g].dataPoint.y.length)for(b=0;b<d[g].dataPoint.y.length;b++)(m=Math.abs(t-this.parent.convertValueToPixel(d[g].dataPoint.y[b])))<p&&(p=m,u=g);else y+=d[g].dataPoint.y,(m=Math.abs(t-this.parent.convertValueToPixel(y)))<p&&(p=m,u=g);else if("stackedBar100"===d[0].dataSeries.type)for(var p=Math.abs(t-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,y=0,v=0,g=0;g<d.length;g++)if(d[g].dataPoint.y&&d[g].dataPoint.y.length)for(b=0;b<d[g].dataPoint.y.length;b++)(m=Math.abs(t-this.parent.convertValueToPixel(d[g].dataPoint.y[b])))<p&&(p=m,u=g);else{y+=d[g].dataPoint.y;var f=d[g].dataPoint.x.getTime?d[g].dataPoint.x.getTime():d[g].dataPoint.x;v=y/d[g].dataSeries.plotUnit.dataPointYSums[f]*100,(m=Math.abs(t-this.parent.convertValueToPixel(v)))<p&&(p=m,u=g)}else for(p=Math.abs(t-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,u=0,g=0;g<d.length;g++)if(d[g].dataPoint.y&&d[g].dataPoint.y.length)for(b=0;b<d[g].dataPoint.y.length;b++)(m=Math.abs(t-this.parent.convertValueToPixel(d[g].dataPoint.y[b])))<p&&(p=m,u=g);else(m=Math.abs(t-this.parent.convertValueToPixel(d[g].dataPoint.y)))<p&&(p=m,u=g);var M=d[u];if("bottom"===this.parent._position||"top"===this.parent._position){var k=0;if("rangeBar"===this.parent.dataSeries[u].type||"error"===this.parent.dataSeries[u].type){for(p=Math.abs(t-this.parent.convertValueToPixel(M.dataPoint.y[0])),m=0,g=0;g<M.dataPoint.y.length;g++)(m=Math.abs(t-this.parent.convertValueToPixel(M.dataPoint.y[g])))<p&&(p=m,k=g);i=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(M.dataPoint.y[k])<<0):this.parent.convertValueToPixel(M.dataPoint.y[k])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y[k]}):yt(this.options.label)?R(M.dataPoint.y[k],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[u].type){for(p=Math.abs(t-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,y=0,g=u;0<=g;g--)y+=d[g].dataPoint.y,(m=Math.abs(t-this.parent.convertValueToPixel(y)))<p&&(p=m,k=g);i=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y}):yt(this.options.label)?R(M.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[u].type){for(p=Math.abs(t-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,y=0,v=0,g=u;0<=g;g--){y+=d[g].dataPoint.y;f=d[g].dataPoint.x.getTime?d[g].dataPoint.x.getTime():d[g].dataPoint.x;v=y/d[g].dataSeries.plotUnit.dataPointYSums[f]*100,(m=Math.abs(t-this.parent.convertValueToPixel(v)))<p&&(p=m,k=g)}i=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:v}):yt(this.options.label)?R(v,this.valueFormatString,this.chart._cultureInfo):this.label}else i=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(M.dataPoint.y)<<0):this.parent.convertValueToPixel(M.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y}):yt(this.options.label)?R(M.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;P=w=i,T=this.chart.plotArea.y1,A=this.chart.plotArea.y2,this.bounds={x1:P-o/2,y1:T,x2:w+o/2,y2:A},s.x=P-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2?s.x=this.chart.bounds.x2-s.width:s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){var T=A=a=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(M.dataPoint.x)<<0):this.parent.convertValueToPixel(M.dataPoint.x)<<0,P=this.chart.plotArea.x1,w=this.chart.plotArea.x2,C=!(this.bounds={x1:P,y1:T-o/2,x2:w,y2:A+o/2});if(this.parent.labels)for(var S=Math.ceil(this.parent.interval),g=0;g<this.parent.viewportMaximum;g+=S){if(!this.parent.labels[g]){C=!1;break}C=!0}if(C){if("axisX"===this.parent.type)for(h=this.parent.convertPixelToValue({y:e}),x=null,c=0;c<this.parent.dataSeries.length;c++)(x=this.parent.dataSeries[c].getDataPointAtX(h,!0))&&0<=x.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):(yt(this.options.label)?x.dataPoint:this).label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):yt(this.options.label)?N(M.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):yt(this.options.label)?R(M.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.y=A+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}d=null}else{if("bottom"===this.parent._position||"top"===this.parent._position){h=this.parent.convertPixelToValue({x:t});for(c=0;c<this.parent.dataSeries.length;c++)(x=this.parent.dataSeries[c].getDataPointAtX(h,!0))&&0<=x.index&&(x.dataSeries=this.parent.dataSeries[c],null!==x.dataPoint.y&&d.push(x));if(0===d.length)return;d.sort(function(t,e){return t.distance-e.distance});M=d[0];P=w=i=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(M.dataPoint.x)<<0):this.parent.convertValueToPixel(M.dataPoint.x)<<0,T=this.chart.plotArea.y1;var A=this.chart.plotArea.y2,C=!(this.bounds={x1:P-o/2,y1:T,x2:w+o/2,y2:A});if(this.parent.labels)for(S=Math.ceil(this.parent.interval),g=0;g<this.parent.viewportMaximum;g+=S){if(!this.parent.labels[g]){C=!1;break}C=!0}if(C){if("axisX"===this.parent.type){h=this.parent.convertPixelToValue({x:t});for(x=null,c=0;c<this.parent.dataSeries.length;c++)(x=this.parent.dataSeries[c].getDataPointAtX(h,!0))&&0<=x.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):(yt(this.options.label)?x.dataPoint:this).label)}}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):yt(this.options.label)?N(M.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.x}):yt(this.options.label)?R(M.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.x=P-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){!yt(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(h=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t}));for(c=0;c<this.parent.dataSeries.length;c++)(x=this.parent.dataSeries[c].getDataPointAtX(h,!0))&&0<=x.index&&(x.dataSeries=this.parent.dataSeries[c],null!==x.dataPoint.y&&d.push(x));if(0===d.length)return;d.sort(function(t,e){return t.distance-e.distance});u=0;if("rangeColumn"===d[0].dataSeries.type||"rangeArea"===d[0].dataSeries.type||"error"===d[0].dataSeries.type||"rangeSplineArea"===d[0].dataSeries.type||"candlestick"===d[0].dataSeries.type||"ohlc"===d[0].dataSeries.type||"boxAndWhisker"===d[0].dataSeries.type)for(p=Math.abs(e-this.parent.convertValueToPixel(d[0].dataPoint.y[0])),m=0,g=0;g<d.length;g++)if(d[g].dataPoint.y&&d[g].dataPoint.y.length)for(b=0;b<d[g].dataPoint.y.length;b++)(m=Math.abs(e-this.parent.convertValueToPixel(d[g].dataPoint.y[b])))<p&&(p=m,u=g);else(m=Math.abs(e-this.parent.convertValueToPixel(d[g].dataPoint.y)))<p&&(p=m,u=g);else if("stackedColumn"===d[0].dataSeries.type||"stackedArea"===d[0].dataSeries.type)for(p=Math.abs(e-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,y=0,g=0;g<d.length;g++)if(d[g].dataPoint.y&&d[g].dataPoint.y.length)for(b=0;b<d[g].dataPoint.y.length;b++)(m=Math.abs(e-this.parent.convertValueToPixel(d[g].dataPoint.y[b])))<p&&(p=m,u=g);else y+=d[g].dataPoint.y,(m=Math.abs(e-this.parent.convertValueToPixel(y)))<p&&(p=m,u=g);else if("stackedColumn100"===d[0].dataSeries.type||"stackedArea100"===d[0].dataSeries.type)for(p=Math.abs(e-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,y=0,v=0,g=0;g<d.length;g++)if(d[g].dataPoint.y&&d[g].dataPoint.y.length)for(b=0;b<d[g].dataPoint.y.length;b++)(m=Math.abs(e-this.parent.convertValueToPixel(d[g].dataPoint.y[b])))<p&&(p=m,u=g);else{y+=d[g].dataPoint.y;f=d[g].dataPoint.x.getTime?d[g].dataPoint.x.getTime():d[g].dataPoint.x;v=y/d[g].dataSeries.plotUnit.dataPointYSums[f]*100,(m=Math.abs(e-this.parent.convertValueToPixel(v)))<p&&(p=m,u=g)}else for(p=Math.abs(e-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,g=0;g<d.length;g++)if(d[g].dataPoint.y&&d[g].dataPoint.y.length)for(b=0;b<d[g].dataPoint.y.length;b++)(m=Math.abs(e-this.parent.convertValueToPixel(d[g].dataPoint.y[b])))<p&&(p=m,u=g);else(m=Math.abs(e-this.parent.convertValueToPixel(d[g].dataPoint.y)))<p&&(p=m,u=g);M=d[u],k=0;if("rangeColumn"===this.parent.dataSeries[u].type||"rangeArea"===this.parent.dataSeries[u].type||"error"===this.parent.dataSeries[u].type||"rangeSplineArea"===this.parent.dataSeries[u].type||"candlestick"===this.parent.dataSeries[u].type||"ohlc"===this.parent.dataSeries[u].type||"boxAndWhisker"===this.parent.dataSeries[u].type){for(p=Math.abs(e-this.parent.convertValueToPixel(M.dataPoint.y[0])),m=0,g=0;g<M.dataPoint.y.length;g++)(m=Math.abs(e-this.parent.convertValueToPixel(M.dataPoint.y[g])))<p&&(p=m,k=g);a=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(M.dataPoint.y[k])<<0):this.parent.convertValueToPixel(M.dataPoint.y[k])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y[k]}):yt(this.options.label)?R(M.dataPoint.y[k],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[u].type||"stackedArea"===this.parent.dataSeries[u].type){for(p=Math.abs(e-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,y=0,g=u;0<=g;g--)y+=d[g].dataPoint.y,(m=Math.abs(e-this.parent.convertValueToPixel(y)))<p&&(p=m,k=g);a=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y}):yt(this.options.label)?R(M.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[u].type||"stackedArea100"===this.parent.dataSeries[u].type){for(p=Math.abs(e-this.parent.convertValueToPixel(d[0].dataPoint.y)),m=0,y=0,g=u;0<=g;g--){y+=d[g].dataPoint.y;f=d[g].dataPoint.x.getTime?d[g].dataPoint.x.getTime():d[g].dataPoint.x;v=y/d[g].dataSeries.plotUnit.dataPointYSums[f]*100,(m=Math.abs(e-this.parent.convertValueToPixel(v)))<p&&(p=m,k=g)}a=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:v}):yt(this.options.label)?R(v,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[u].type?(a=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(M.dataSeries.dataPointEOs[M.index].cumulativeSum)<<0):this.parent.convertValueToPixel(M.dataSeries.dataPointEOs[M.index].cumulativeSum)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataSeries.dataPointEOs[M.index].cumulativeSum}):yt(this.options.label)?R(M.dataSeries.dataPointEOs[M.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(a=l.lineWidth%2==1?.5+(this.parent.convertValueToPixel(M.dataPoint.y)<<0):this.parent.convertValueToPixel(M.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:M.dataPoint.y}):yt(this.options.label)?R(M.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);T=A=a,P=this.chart.plotArea.x1,w=this.chart.plotArea.x2,this.bounds={x1:P,y1:T-o/2,x2:w,y2:A+o/2},s.y=A+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}d=null}"bottom"!==this.parent._position&&"top"!==this.parent._position||P>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&w<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<o&&(l.moveTo(P,T),l.lineTo(w,A),l.stroke()),l.restore(),!yt(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)),"left"!==this.parent._position&&"right"!==this.parent._position||A>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&T<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<o&&(l.moveTo(P,T),l.lineTo(w,A),l.stroke()),l.restore(),!yt(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(P=w=i=l.lineWidth%2==1?.5+(t<<0):t<<0,T=this.chart.plotArea.y1,A=this.chart.plotArea.y2,this.bounds={x1:P-o/2,y1:T,x2:w+o/2,y2:A}):"left"!==this.parent._position&&"right"!==this.parent._position||(T=A=a=l.lineWidth%2==1?.5+(e<<0):e<<0,P=this.chart.plotArea.x1,w=this.chart.plotArea.x2,this.bounds={x1:P,y1:T-o/2,x2:w,y2:A+o/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){C=!1;if(this.parent.labels)for(S=Math.ceil(this.parent.interval),g=0;g<this.parent.viewportMaximum;g+=S){if(!this.parent.labels[g]){C=!1;break}C=!0}if(C){if("axisX"===this.parent.type){h=this.parent.convertPixelToValue({y:e});for(x=null,c=0;c<this.parent.dataSeries.length;c++)(x=this.parent.dataSeries[c].getDataPointAtX(h,!0))&&0<=x.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):(yt(this.options.label)?x.dataPoint:this).label)}}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):yt(this.options.label)?N(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):yt(this.options.label)?R(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);s.y=e+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x1-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):yt(this.options.label)?R(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,s.x=P-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2),"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){C=!1;if(this.parent.labels)for(S=Math.ceil(this.parent.interval),g=0;g<this.parent.viewportMaximum;g+=S){if(!this.parent.labels[g]){C=!1;break}C=!0}if(C){if("axisX"===this.parent.type){h=this.parent.convertPixelToValue({x:t});for(x=null,c=0;c<this.parent.dataSeries.length;c++)(x=this.parent.dataSeries[c].getDataPointAtX(h,!0))&&0<=x.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):(yt(this.options.label)?x.dataPoint:this).label)}}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):yt(this.options.label)?N(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):""}):yt(this.options.label)?R(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);s.x=P-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):yt(this.options.label)?R(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,s.y=e+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2));0<o&&(l.moveTo(P,T),l.lineTo(w,A),l.stroke()),l.restore(),!yt(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)}l.globalAlpha=r},M(a,at),a.prototype._initialize=function(){var t;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",t='<div style=" width: auto;',t+="height: auto;",t+="min-width: 50px;",t+="line-height: auto;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: normal;",t+="font-style: "+(rt?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=rt?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",rt||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),this.container.innerHTML=t+='} "> Sample Tooltip</div>',this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},a.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&(new Date).getTime()-this._lastUpdated<4||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,e))},a.prototype._updateToolTip=function(t,e,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===t||void 0===e){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,e=this._prevY}else this._prevX=t,this._prevY=e;var a=null,s=null,n=[],o=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var l=[];if(this.chart.axisX)for(var r=0;r<this.chart.axisX.length;r++){o=this.chart.axisX[r].convertPixelToValue({y:e});for(var h=null,d=0;d<this.chart.axisX[r].dataSeries.length;d++)(h=this.chart.axisX[r].dataSeries[d].getDataPointAtX(o,i))&&0<=h.index&&(h.dataSeries=this.chart.axisX[r].dataSeries[d],null!==h.dataPoint.y&&l.push(h));h=null}if(this.chart.axisX2)for(r=0;r<this.chart.axisX2.length;r++){o=this.chart.axisX2[r].convertPixelToValue({y:e});for(h=null,d=0;d<this.chart.axisX2[r].dataSeries.length;d++)(h=this.chart.axisX2[r].dataSeries[d].getDataPointAtX(o,i))&&0<=h.index&&(h.dataSeries=this.chart.axisX2[r].dataSeries[d],null!==h.dataPoint.y&&l.push(h));h=null}}else{l=[];if(this.chart.axisX)for(r=0;r<this.chart.axisX.length;r++){o=this.chart.axisX[r].convertPixelToValue({x:t});for(h=null,d=0;d<this.chart.axisX[r].dataSeries.length;d++)(h=this.chart.axisX[r].dataSeries[d].getDataPointAtX(o,i))&&0<=h.index&&(h.dataSeries=this.chart.axisX[r].dataSeries[d],null!==h.dataPoint.y&&l.push(h))}if(this.chart.axisX2)for(r=0;r<this.chart.axisX2.length;r++){o=this.chart.axisX2[r].convertPixelToValue({x:t});for(h=null,d=0;d<this.chart.axisX2[r].dataSeries.length;d++)(h=this.chart.axisX2[r].dataSeries[d].getDataPointAtX(o,i))&&0<=h.index&&(h.dataSeries=this.chart.axisX2[r].dataSeries[d],null!==h.dataPoint.y&&l.push(h))}}if(0===l.length)return;l.sort(function(t,e){return t.distance-e.distance});i=l[0];for(d=0;d<l.length;d++)l[d].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&n.push(l[d]);l=null}else{var x=this.chart.getDataPointAtXY(t,e,i);if(x)this.currentDataPointIndex=x.dataPointIndex,this.currentSeriesIndex=x.dataSeries.index;else if(rt){x=W(t,e,this.chart._eventManager.ghostCtx);if(0<x&&void 0!==this.chart._eventManager.objectMap[x]){x=this.chart._eventManager.objectMap[x];if("legendItem"===x.objectType)return;this.currentSeriesIndex=x.dataSeriesIndex,this.currentDataPointIndex=0<=x.dataPointIndex?x.dataPointIndex:-1}else this.currentDataPointIndex=-1}else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){var s=this.chart.data[this.currentSeriesIndex],h={};if(0<=this.currentDataPointIndex)a=s.dataPoints[this.currentDataPointIndex],h.dataSeries=s,h.dataPoint=a,h.index=this.currentDataPointIndex,h.distance=Math.abs(a.x-o),"waterfall"===s.type&&(h.cumulativeSumYStartValue=s.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,h.cumulativeSum=s.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==s.type&&"stepLine"!==s.type&&"spline"!==s.type&&"area"!==s.type&&"stepArea"!==s.type&&"splineArea"!==s.type&&"stackedArea"!==s.type&&"stackedArea100"!==s.type&&"rangeArea"!==s.type&&"rangeSplineArea"!==s.type&&"candlestick"!==s.type&&"ohlc"!==s.type&&"boxAndWhisker"!==s.type)return;o=s.axisX.convertPixelToValue({x:t});(h=s.getDataPointAtX(o,i)).dataSeries=s,this.currentDataPointIndex=h.index,a=h.dataPoint}if(!yt(h.dataPoint.y))if(h.dataSeries.axisY)if(0<h.dataPoint.y.length){for(var c=0,d=0;d<h.dataPoint.y.length;d++)h.dataPoint.y[d]<h.dataSeries.axisY.viewportMinimum?c--:h.dataPoint.y[d]>h.dataSeries.axisY.viewportMaximum&&c++;c<h.dataPoint.y.length&&c>-h.dataPoint.y.length&&n.push(h)}else"column"===s.type||"bar"===s.type?h.dataPoint.y<0?h.dataSeries.axisY.viewportMinimum<0&&h.dataSeries.axisY.viewportMaximum>=h.dataPoint.y&&n.push(h):h.dataSeries.axisY.viewportMinimum<=h.dataPoint.y&&0<=h.dataSeries.axisY.viewportMaximum&&n.push(h):"bubble"===s.type?(p=this.chart._eventManager.objectMap[s.dataPointIds[h.index]].size/2,h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum-p&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum+p&&n.push(h)):"waterfall"===s.type?(c=0,h.cumulativeSumYStartValue<h.dataSeries.axisY.viewportMinimum?c--:h.cumulativeSumYStartValue>h.dataSeries.axisY.viewportMaximum&&c++,h.cumulativeSum<h.dataSeries.axisY.viewportMinimum?c--:h.cumulativeSum>h.dataSeries.axisY.viewportMaximum&&c++,c<2&&-2<c&&n.push(h)):(0<=h.dataSeries.type.indexOf("100")||"stackedColumn"===s.type||"stackedBar"===s.type||h.dataPoint.y>=h.dataSeries.axisY.viewportMinimum&&h.dataPoint.y<=h.dataSeries.axisY.viewportMaximum)&&n.push(h);else n.push(h)}}if(0<n.length&&(this.highlightObjects(n),this.enabled)){var p="";if(null!==(p=this.getToolTipInnerHTML({entries:n}))){this.contentDiv.innerHTML=p;var u,p=!1;"none"===this.container.style.display&&(p=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor||(rt?"rgba(255,255,255,.9)":"rgb(255,255,255)"),"waterfall"===n[0].dataSeries.type?this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor||n[0].dataPoint.color||(0<n[0].dataPoint.y?n[0].dataSeries.risingColor:n[0].dataSeries.fallingColor):"error"===n[0].dataSeries.type?this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor||n[0].dataSeries.color||n[0].dataSeries._colorSet[s.index%n[0].dataSeries._colorSet.length]:this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.options.borderColor||n[0].dataPoint.color||n[0].dataSeries.color||n[0].dataSeries._colorSet[n[0].index%n[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor||"#000000",this.contentDiv.style.fontFamily=this.fontFamily||"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight||"normal",this.contentDiv.style.fontStyle=this.fontStyle||(rt?"italic":"normal")}catch(t){}"pie"===n[0].dataSeries.type||"doughnut"===n[0].dataSeries.type||"funnel"===n[0].dataSeries.type||"pyramid"===n[0].dataSeries.type||"bar"===n[0].dataSeries.type||"rangeBar"===n[0].dataSeries.type||"stackedBar"===n[0].dataSeries.type||"stackedBar100"===n[0].dataSeries.type?u=t-10-this.container.clientWidth:(u=n[0].dataSeries.axisX.convertValueToPixel(n[0].dataPoint.x)-this.container.clientWidth<<0,u-=10),u<0&&(u+=this.container.clientWidth+20),u+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(u=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(s=10-(s=1!==n.length||this.shared||"line"!==n[0].dataSeries.type&&"stepLine"!==n[0].dataSeries.type&&"spline"!==n[0].dataSeries.type&&"area"!==n[0].dataSeries.type&&"stepArea"!==n[0].dataSeries.type&&"splineArea"!==n[0].dataSeries.type?"bar"===n[0].dataSeries.type||"rangeBar"===n[0].dataSeries.type||"stackedBar"===n[0].dataSeries.type||"stackedBar100"===n[0].dataSeries.type?n[0].dataSeries.axisX.convertValueToPixel(n[0].dataPoint.x):e:n[0].dataSeries.axisY.convertValueToPixel(n[0].dataPoint.y)))+this.container.clientHeight+5&&(s-=+(s+this.container.clientHeight+5)),this.fixMozTransitionDelay(u,s),!this.animationEnabled||p?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=u+"px",this.container.style.bottom=s+"px"}else this.hide(!1)}}},a.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save();var i=this.chart.plotArea,a=0;e.beginPath(),e.rect(i.x1,i.y1,i.x2-i.x1,i.y2-i.y1),e.clip();for(var s=0;s<t.length;s++){var n,o,l,r=t[s],h=this.chart._eventManager.objectMap[r.dataSeries.dataPointIds[r.index]];h&&h.objectType&&"dataPoint"===h.objectType&&(o=(n=this.chart.data[h.dataSeriesIndex]).dataPoints[h.dataPointIndex],r=h.dataPointIndex,!1===o.highlightEnabled||!0!==n.highlightEnabled&&!0!==o.highlightEnabled||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"scatter"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type?((l=n.getMarkerProperties(r,h.x1,h.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*l.size<<0,10),l.borderColor=l.borderColor||"#FFFFFF",l.borderThickness=l.borderThickness||Math.ceil(.1*l.size),X.drawMarkers([l]),void 0!==h.y2&&((l=n.getMarkerProperties(r,h.x1,h.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*l.size<<0,10),l.borderColor=l.borderColor||"#FFFFFF",l.borderThickness=l.borderThickness||Math.ceil(.1*l.size),X.drawMarkers([l]))):"bubble"===n.type?((l=n.getMarkerProperties(r,h.x1,h.y1,this.chart.overlaidCanvasCtx)).size=h.size,l.color="white",l.borderColor="white",e.globalAlpha=.3,X.drawMarkers([l]),e.globalAlpha=1):"column"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"bar"===n.type||"rangeBar"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"rangeColumn"===n.type||"waterfall"===n.type?q(e,h.x1,h.y1,h.x2,h.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===n.type||"doughnut"===n.type?d(e,h.center,h.radius,"white",n.type,h.startAngle,h.endAngle,.3,h.percentInnerRadius):"funnel"===n.type||"pyramid"===n.type?nt(e,h.funnelSection,.3,"white"):"candlestick"===n.type?(e.globalAlpha=1,e.strokeStyle=h.color,e.lineWidth=2*h.borderThickness,a=e.lineWidth%2==0?0:.5,e.beginPath(),e.moveTo(h.x3-a,Math.min(h.y2,h.y3)),e.lineTo(h.x3-a,Math.min(h.y1,h.y4)),e.stroke(),e.beginPath(),e.moveTo(h.x3-a,Math.max(h.y1,h.y4)),e.lineTo(h.x3-a,Math.max(h.y2,h.y3)),e.stroke(),q(e,h.x1,Math.min(h.y1,h.y4),h.x2,Math.max(h.y1,h.y4),"transparent",2*h.borderThickness,h.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===n.type?(e.globalAlpha=1,e.strokeStyle=h.color,e.lineWidth=2*h.borderThickness,a=e.lineWidth%2==0?0:.5,e.beginPath(),e.moveTo(h.x3-a,h.y2),e.lineTo(h.x3-a,h.y3),e.stroke(),e.beginPath(),e.moveTo(h.x3,h.y1),e.lineTo(h.x1,h.y1),e.stroke(),e.beginPath(),e.moveTo(h.x3,h.y4),e.lineTo(h.x2,h.y4),e.stroke(),e.globalAlpha=1):"boxAndWhisker"===n.type?(e.save(),e.globalAlpha=1,e.strokeStyle=h.stemColor,e.lineWidth=2*h.stemThickness,0<h.stemThickness&&(e.beginPath(),e.moveTo(h.x3,h.y2+h.borderThickness/2),e.lineTo(h.x3,h.y1+h.whiskerThickness/2),e.stroke(),e.beginPath(),e.moveTo(h.x3,h.y4-h.whiskerThickness/2),e.lineTo(h.x3,h.y3-h.borderThickness/2),e.stroke()),e.beginPath(),q(e,h.x1-h.borderThickness/2,Math.max(h.y2+h.borderThickness/2,h.y3+h.borderThickness/2),h.x2+h.borderThickness/2,Math.min(h.y2-h.borderThickness/2,h.y3-h.borderThickness/2),"transparent",h.borderThickness,h.color,!1,!1,!1,!1),e.globalAlpha=1,e.strokeStyle=h.whiskerColor,e.lineWidth=2*h.whiskerThickness,0<h.whiskerThickness&&(e.beginPath(),e.moveTo(Math.floor(h.x3-h.whiskerLength/2),h.y4),e.lineTo(Math.ceil(h.x3+h.whiskerLength/2),h.y4),e.stroke(),e.beginPath(),e.moveTo(Math.floor(h.x3-h.whiskerLength/2),h.y1),e.lineTo(Math.ceil(h.x3+h.whiskerLength/2),h.y1),e.stroke()),e.globalAlpha=1,e.strokeStyle=h.lineColor,e.lineWidth=2*h.lineThickness,0<h.lineThickness&&(e.beginPath(),e.moveTo(h.x1,h.y5),e.lineTo(h.x2,h.y5),e.stroke()),e.restore(),e.globalAlpha=1):"error"===n.type&&F(e,h.x1,h.y1,h.x2,h.y2,"white",h.whiskerProperties,h.stemProperties,h.isXYSwapped,.3)))}e.restore(),e.globalAlpha=1,e.beginPath()},a.prototype.getToolTipInnerHTML=function(t){for(var e=t.entries,i=null,a=null,s=null,n=0,o="",l=!0,r=0;r<e.length;r++)if(e[r].dataSeries.toolTipContent||e[r].dataPoint.toolTipContent){l=!1;break}if(l&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:e},i=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){for(var h=null,d="",r=0;r<e.length;r++)a=e[r].dataSeries,s=e[r].dataPoint,n=e[r].index,o="",0===r&&l&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?d+=void 0!==this.chart.axisX[0].labels[s.x]?this.chart.axisX[0].labels[s.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(d+=void 0!==this.chart.axisX2[0].labels[s.x]?this.chart.axisX2[0].labels[s.x]:"{x}"),d=this.chart.replaceKeywordsWithValue(d+="</br>",s,a,n)),null===s.toolTipContent||void 0===s.toolTipContent&&null===a.options.toolTipContent||("line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"column"===a.type||"bar"===a.type||"scatter"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"waterfall"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}"),h=a.axisXIndex):"bubble"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}")):"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}")):"candlestick"===a.type||"ohlc"===a.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}")):"boxAndWhisker"===a.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(o+=h!=a.axisXIndex?a.axisX.title?a.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}")),null===i&&(i=""),!0===this.reversed?(i=this.chart.replaceKeywordsWithValue(o,s,a,n)+i,r<e.length-1&&(i="</br>"+i)):(i+=this.chart.replaceKeywordsWithValue(o,s,a,n),r<e.length-1&&(i+="</br>")));null!==i&&(i=d+i)}else{if(a=e[0].dataSeries,s=e[0].dataPoint,n=e[0].index,null===s.toolTipContent||void 0===s.toolTipContent&&null===a.options.toolTipContent)return null;"line"===a.type||"stepLine"===a.type||"spline"===a.type||"area"===a.type||"stepArea"===a.type||"splineArea"===a.type||"column"===a.type||"bar"===a.type||"scatter"===a.type||"stackedColumn"===a.type||"stackedColumn100"===a.type||"stackedBar"===a.type||"stackedBar100"===a.type||"stackedArea"===a.type||"stackedArea100"===a.type||"waterfall"===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}"):"bubble"===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"pie"===a.type||"doughnut"===a.type||"funnel"===a.type||"pyramid"===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.name?"{name}:</span>&nbsp;&nbsp;":s.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}"):"rangeColumn"===a.type||"rangeBar"===a.type||"rangeArea"===a.type||"rangeSplineArea"===a.type||"error"===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}"):"candlestick"===a.type||"ohlc"===a.type?o=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===a.type&&(o=s.toolTipContent||a.toolTipContent||(this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(s.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}")),null===i&&(i=""),i+=this.chart.replaceKeywordsWithValue(o,s,a,n)}return i},a.prototype.enableAnimation=function(){var t;this.container.style.WebkitTransition||(t=this.getContainerTransition(this.containerTransitionDuration),this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition)},a.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},a.prototype.hide=function(t){this.container&&(t=void 0===t||t,this.container.style.display="none",this.currentSeriesIndex=-1,this._prevX=NaN,this._prevY=NaN,t&&this.chart.resetOverlayedCanvas())},a.prototype.show=function(t,e,i){this._updateToolTip(t,e,i=void 0!==i&&i)},a.prototype.fixMozTransitionDelay=function(t,e){var i,a;20<this.chart._eventManager.lastObjectId?this.mozContainerTransition=this.getContainerTransition(0):(i=parseFloat(this.container.style.left),i=isNaN(i)?0:i,a=parseFloat(this.container.style.bottom),a=isNaN(a)?0:a,e=Math.sqrt(Math.pow(i-t,2)+Math.pow(a-e,2)),this.mozContainerTransition=10<e?this.getContainerTransition(.1):this.getContainerTransition(0))},a.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},s.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],rt&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},s.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},s.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e,i,a,s=[],n=D(t),o=null;(o=this.chart.getObjectAtXY(n.x,n.y,!1))&&void 0!==this.objectMap[o]&&("dataPoint"===(e=this.objectMap[o]).objectType?(a=(i=this.chart.data[e.dataSeriesIndex]).dataPoints[e.dataPointIndex],o=e.dataPointIndex,e.eventParameter={x:n.x,y:n.y,dataPoint:a,dataSeries:i.options,dataPointIndex:o,dataSeriesIndex:i.index,chart:this.chart},e.eventContext={context:a,userContext:a,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},s.push(e),(e=this.objectMap[i.id]).eventParameter={x:n.x,y:n.y,dataPoint:a,dataSeries:i.options,dataPointIndex:o,dataSeriesIndex:i.index,chart:this.chart},e.eventContext={context:i,userContext:i.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},s.push(this.objectMap[i.id])):"legendItem"===e.objectType&&(i=this.chart.data[e.dataSeriesIndex],a=null!==e.dataPointIndex?i.dataPoints[e.dataPointIndex]:null,e.eventParameter={x:n.x,y:n.y,dataSeries:i.options,dataPoint:a,dataPointIndex:e.dataPointIndex,dataSeriesIndex:e.dataSeriesIndex,chart:this.chart},e.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},s.push(e)));for(var l=[],r=0;r<this.mouseoveredObjectMaps.length;r++){for(var h=!0,d=0;d<s.length;d++)if(s[d].id===this.mouseoveredObjectMaps[r].id){h=!1;break}h?this.fireEvent(this.mouseoveredObjectMaps[r],"mouseout",t):l.push(this.mouseoveredObjectMaps[r])}this.mouseoveredObjectMaps=l;for(r=0;r<s.length;r++){for(var x=!1,d=0;d<this.mouseoveredObjectMaps.length;d++)if(s[r].id===this.mouseoveredObjectMaps[d].id){x=!0;break}x||(this.fireEvent(s[r],"mouseover",t),this.mouseoveredObjectMaps.push(s[r])),"click"===t.type?this.fireEvent(s[r],"click",t):"mousemove"===t.type&&this.fireEvent(s[r],"mousemove",t)}}},s.prototype.fireEvent=function(t,e,i){var a,s,n;t&&e&&(a=t.eventParameter,s=t.eventContext,(n=t.eventContext.userContext)&&s&&n[s[e]]&&n[s[e]].call(n,a),"mouseout"!==e?n.cursor&&n.cursor!==i.target.style.cursor&&(i.target.style.cursor=n.cursor):(i.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],a),"click"===e&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],a))},u.prototype.animate=function(t,e,i,a,s){var n=this;this.chart.isAnimating=!0,s=s||ot.easing.linear,i&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:e,animationCallback:i,onComplete:a});for(var o=[];0<this.animations.length;){var l=this.animations.shift(),r=(new Date).getTime(),h=0;l.startTime<=r&&(h=s(Math.min(r-l.startTime,l.duration),0,1,l.duration),h=Math.min(h,1),!isNaN(h)&&isFinite(h)||(h=1)),h<1&&o.push(l),l.animationCallback(h),1<=h&&l.onComplete&&l.onComplete()}this.animations=o,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,function(){n.animate.call(n)}):this.chart.isAnimating=!1},u.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var ot={yScaleAnimation:function(t,e){var i,a;0!==t&&(i=e.dest,a=e.source.canvas,e=e.animationBase,i.drawImage(a,0,0,a.width,a.height,0,e-e*t,i.canvas.width/j,t*i.canvas.height/j))},xScaleAnimation:function(t,e){var i,a;0!==t&&(i=e.dest,a=e.source.canvas,e=e.animationBase,i.drawImage(a,0,0,a.width,a.height,e-e*t,0,t*i.canvas.width/j,i.canvas.height/j))},xClipAnimation:function(t,e){var i;0!==t&&(i=e.dest,e=e.source.canvas,i.save(),0<t&&i.drawImage(e,0,0,e.width*t,e.height,0,0,e.width*t/j,e.height/j),i.restore())},fadeInAnimation:function(t,e){var i;0!==t&&(i=e.dest,e=e.source.canvas,i.save(),i.globalAlpha=t,i.drawImage(e,0,0,e.width,e.height,0,0,i.canvas.width/j,i.canvas.height/j),i.restore())},easing:{linear:function(t,e,i,a){return i*t/a+e},easeOutQuad:function(t,e,i,a){return-i*(t/=a)*(t-2)+e},easeOutQuart:function(t,e,i,a){return-i*((t=t/a-1)*t*t*t-1)+e},easeInQuad:function(t,e,i,a){return i*(t/=a)*t+e},easeInQuart:function(t,e,i,a){return i*(t/=a)*t*t*t+e}}},X={drawMarker:function(t,e,i,a,s,n,o,l){var r;i&&(r=1,i.fillStyle=n||"#000000",i.strokeStyle=o||"#000000",i.lineWidth=l||0,i.setLineDash&&i.setLineDash(xt("solid",l)),"circle"===a?(i.moveTo(t,e),i.beginPath(),i.arc(t,e,s/2,0,2*Math.PI,!1),n&&i.fill(),l&&(o?i.stroke():(r=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=r))):"square"===a?(i.beginPath(),i.rect(t-s/2,e-s/2,s,s),n&&i.fill(),l&&(o?i.stroke():(r=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=r))):"triangle"===a?(i.beginPath(),i.moveTo(t-s/2,e+s/2),i.lineTo(t+s/2,e+s/2),i.lineTo(t,e-s/2),i.closePath(),n&&i.fill(),l&&(o?i.stroke():(r=i.globalAlpha,i.globalAlpha=.15,i.strokeStyle="black",i.stroke(),i.globalAlpha=r)),i.beginPath()):"cross"===a&&(i.strokeStyle=n,i.lineWidth=l=s/4,i.beginPath(),i.moveTo(t-s/2,e-s/2),i.lineTo(t+s/2,e+s/2),i.stroke(),i.moveTo(t+s/2,e-s/2),i.lineTo(t-s/2,e+s/2),i.stroke()))},drawMarkers:function(t){for(var e=0;e<t.length;e++){var i=t[e];X.drawMarker(i.x,i.y,i.ctx,i.type,i.size,i.color,i.borderColor,i.borderThickness)}}};return r}(),nt.Chart.version="v2.3.1 GA"}();
//# sourceMappingURL=canvasjs.min.js.map