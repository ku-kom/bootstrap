!function(p){'use strict';p(document).ready(function(){var e,t=p('body').prop('clientWidth'),a=p('#ig_hashtag'),r=a.find('#imageBox'),n=null==typeof a.attr('data-hidemobile')||!0===window.matchMedia('(max-width: 767px)').matches,o=void 0===a.attr('data-hashtag')?null:a.attr('data-hashtag').toLowerCase().trim(),s='batch',d=a.attr('data-images'),c=window.matchMedia('(max-width: 480px)').matches?2:parseInt(d,10),h=a.find('.ku-loading');function i(i){!0==n?a.empty():(r.empty(),i&&p.ajax({url:'https://cms.secure.ku.dk/instacms/instagramByUserOrTag/instagramScrapeToJson.php',type:'post',dataType:'json',data:{hashtag:o}}).done(function(a){h.hide();var t,d=a.entry_data.TagPage[0].graphql.hashtag.edge_hashtag_to_media.edges;p.each(d,function(a,e){var t=d[a].node.thumbnail_src,n=d[a].node.shortcode,o=void 0===d[a].node.edge_media_to_caption.edges[0]?a+': No caption':d[a].node.edge_media_to_caption.edges[0].node.text,o=o?(o=o.substring(0,50)+'...',String(o).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;')):'';return r.append('<a tabindex="-1" href="https://www.instagram.com/p/'+n+' " target="_blank" rel="noopener" aria-label="'+o+'"><img src="'+t+'" alt="'+i+'"></a>'),a<11}),p('a',r).each(function(a,e){(t=a%c==0?p('<div/>').addClass(s).appendTo(r):t).append(e)});p('.'+s).wrapInner('<div class=\'inner\'></div>'),r.rotator()}).fail(function(a,e,t){console.log(a.responseText)}))}p.fn.rotator=function(i){i=p.extend({blocks:a.find('.'+s),speed:6e3,fadeSpeed:800},i);var r=function(e){var t=p(i.blocks,e),n=t.length,o=-1,d=(t.fadeIn(i.fadeSpeed),setInterval(function(){o++;var a=t.eq(o);o==n&&(clearInterval(d),r(e)),a.index()!=n-1&&a.fadeOut(i.fadeSpeed)},i.speed))};return this.each(function(){var a,e,t=p(this);a=t,e=p(i.blocks,a).length,p(i.blocks,a).each(function(){e--,p(this).css('zIndex',e)}),r(t)})},o?i(o):console.log('Add Instagram hashtag to search for and number of images to display using data-hashtag="" and data-images="" on the container'),window.onresize=function(){var a=p('body').prop('clientWidth');a!==t&&(h.show(),clearTimeout(e),e=setTimeout(function(){i(o)},200),t=a)}})}(jQuery);
//# sourceMappingURL=instagramByHashtag.min.js.map