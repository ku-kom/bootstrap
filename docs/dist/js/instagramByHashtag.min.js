!function(p){"use strict";p(document).ready(function(){var e,t=p("body").prop("clientWidth"),a=p("#ig_hashtag"),s=a.find("#imageBox"),n=null==typeof a.attr("data-hidemobile")||!0===window.matchMedia("(max-width: 767px)").matches,o=void 0===a.attr("data-hashtag")?null:a.attr("data-hashtag").toLowerCase().trim(),i="batch",d=a.attr("data-images"),c=window.matchMedia("(max-width: 480px)").matches?2:parseInt(d,10),h=a.find(".ku-loading");function r(r){if(!0!=n){if(s.empty(),r){p.ajax({url:"https://cms.secure.ku.dk/instacms/instagramByUserOrTag/instagramScrapeToJson.php",type:"post",dataType:"json",data:{hashtag:o}}).done(function(a){h.hide();var t,d=a.entry_data.TagPage[0].graphql.hashtag.edge_hashtag_to_media.edges;p.each(d,function(a,e){var t=d[a].node.thumbnail_src,n=d[a].node.shortcode,o=void 0===d[a].node.edge_media_to_caption.edges[0]?a+": No caption":d[a].node.edge_media_to_caption.edges[0].node.text,i=o?function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}(o.substring(0,50)+"..."):"";return s.append('<a tabindex="-1" href="https://www.instagram.com/p/'+n+' " target="_blank" rel="noopener" aria-label="'+i+'"><img src="'+t+'" alt="'+r+'"></a>'),a<11}),p("a",s).each(function(a,e){a%c==0&&(t=p("<div/>").addClass(i).appendTo(s)),t.append(e)});p("."+i).wrapInner("<div class='inner'></div>"),s.rotator()}).fail(function(a,e,t){console.log(a.responseText)})}}else a.empty()}p.fn.rotator=function(d){d=p.extend({blocks:a.find("."+i),speed:6e3,fadeSpeed:800},d);var r=function(e){var t=p(d.blocks,e),n=t.length,o=-1;t.fadeIn(d.fadeSpeed);var i=setInterval(function(){o++;var a=t.eq(o);o==n&&(clearInterval(i),r(e)),a.index()!=n-1&&a.fadeOut(d.fadeSpeed)},d.speed)};return this.each(function(){var a=p(this);!function(a){var e=p(d.blocks,a).length;p(d.blocks,a).each(function(){e--,p(this).css("zIndex",e)})}(a),r(a)})},o?r(o):console.log('Add Instagram hashtag to search for and number of images to display using data-hashtag="" and data-images="" on the container'),window.onresize=function(){var a=p("body").prop("clientWidth");a!==t&&(h.show(),clearTimeout(e),e=setTimeout(function(){r(o)},200),t=a)}})}(jQuery);
//# sourceMappingURL=instagramByHashtag.min.js.map