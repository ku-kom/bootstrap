!function(h){"use strict";h(document).ready(function(){var a,t=h("body").prop("clientWidth"),e=h("#ig_hashtag"),s=e.find("#imageBox"),n=null==typeof e.attr("data-hidemobile")||!0===window.matchMedia("(max-width: 767px)").matches,i=void 0===e.attr("data-hashtag")?null:e.attr("data-hashtag").toLowerCase().trim(),o="batch",r=e.attr("data-images"),c=window.matchMedia("(max-width: 480px)").matches?2:parseInt(r,10),p=e.find(".ku-loading");function d(d){if(!0!=n){if(s.empty(),d){h.ajax({url:"https://cms.secure.ku.dk/instacms/instagramByUserOrTag/instagramScrapeToJson.php",type:"post",dataType:"json",data:{hashtag:i}}).done(function(e){p.hide();var t,r=e.entry_data.TagPage[0].graphql.hashtag.edge_hashtag_to_media.edges;h.each(r,function(e,a){var t=r[e].node.thumbnail_src,n=r[e].node.shortcode,i=r[e].node.edge_media_to_caption.edges[0].node.text,o=i?function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}(i.substring(0,50)+"..."):"";return s.append('<a tabindex="-1" href="https://www.instagram.com/p/'+n+' " target="_blank" rel="noopener" aria-label="'+o+'"><img src="'+t+'" alt="'+d+'"></a>'),e<11}),h("a",s).each(function(e,a){e%c==0&&(t=h("<div/>").addClass(o).appendTo(s)),t.append(a)});h("."+o).wrapInner("<div class='inner'></div>"),s.rotator()}).fail(function(e,a,t){console.log(e.responseText)})}}else e.empty()}h.fn.rotator=function(r){r=h.extend({blocks:e.find("."+o),speed:6e3,fadeSpeed:800},r);var d=function(a){var t=h(r.blocks,a),n=t.length,i=-1;t.fadeIn(r.fadeSpeed);var o=setInterval(function(){i++;var e=t.eq(i);i==n&&(clearInterval(o),d(a)),e.index()!=n-1&&e.fadeOut(r.fadeSpeed)},r.speed)};return this.each(function(){var e=h(this);!function(e){var a=h(r.blocks,e).length;h(r.blocks,e).each(function(){a--,h(this).css("zIndex",a)})}(e),d(e)})},i&&d(i),window.onresize=function(){var e=h("body").prop("clientWidth");e!==t&&(p.show(),clearTimeout(a),a=setTimeout(function(){d(i)},200),t=e)}})}(jQuery);
//# sourceMappingURL=instagramByHashtag.min.js.map