!function(h){"use strict";h(document).ready(function(){var a,t=h("body").prop("clientWidth"),e=h("#ig_hashtag"),s=e.find("#imageBox"),n=null==typeof e.attr("data-hidemobile")||!0===window.matchMedia("(max-width: 767px)").matches,o=void 0===e.attr("data-hashtag")?null:e.attr("data-hashtag").toLowerCase().trim(),r="batch",i=e.attr("data-images"),c=window.matchMedia("(max-width: 480px)").matches?2:parseInt(i,10),p=e.find(".ku-loading");function d(d){if(!0!=n){if(s.empty(),d){h.ajax({url:"https://cms.secure.ku.dk/instacms/instagramByUserOrTag/instagramScrapeToJson.php",type:"post",dataType:"json",data:{hashtag:o},success:function(e){p.hide();var t,i=e.entry_data.TagPage[0].graphql.hashtag.edge_hashtag_to_media.edges;h.each(i,function(e,a){var t=i[e].node.thumbnail_src,n=i[e].node.shortcode,o=i[e].node.edge_media_to_caption.edges[0].node.text,r=o?function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}(o.substring(0,50)+"..."):"";return s.append('<a tabindex="-1" href="https://www.instagram.com/p/'+n+' " target="_blank" rel="noopener" aria-label="'+r+'"><img src="'+t+'" alt="'+d+'"></a>'),e<11}),h("a",s).each(function(e,a){e%c==0&&(t=h("<div/>").addClass(r).appendTo(s)),t.append(a)});h("."+r).wrapInner("<div class='inner'></div>")},error:function(e,a,t){console.log(e.responseText)},complete:function(){s.rotator()}})}}else e.empty()}h.fn.rotator=function(i){i=h.extend({blocks:e.find("."+r),speed:6e3,fadeSpeed:800},i);var d=function(a){var t=h(i.blocks,a),n=t.length,o=-1;t.fadeIn(i.fadeSpeed);var r=setInterval(function(){o++;var e=t.eq(o);o==n&&(clearInterval(r),d(a)),e.index()!=n-1&&e.fadeOut(i.fadeSpeed)},i.speed)};return this.each(function(){var e=h(this);!function(e){var a=h(i.blocks,e).length;h(i.blocks,e).each(function(){a--,h(this).css("zIndex",a)})}(e),d(e)})},o&&d(o),window.onresize=function(){var e=h("body").prop("clientWidth");e!==t&&(p.show(),clearTimeout(a),a=setTimeout(function(){d(o)},200),t=e)}})}(jQuery);
//# sourceMappingURL=instagramByHashtag.min.js.map