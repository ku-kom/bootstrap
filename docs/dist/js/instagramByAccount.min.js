!function(u){"use strict";u(document).ready(function(){var t,e=u("#ig"),d=e.find("#imageBox"),n=e.find(".ku-loading"),r=e.attr("data-account"),i=null==typeof e.attr("data-hidemobile")||!0===window.matchMedia("(max-width: 767px)").matches,o=void 0===r?"university_of_copenhagen":r.trim(),l="batch",a=e.attr("data-images"),c=12,s=window.matchMedia("(max-width: 480px)").matches?2:parseInt(a,10),g=u("body").prop("clientWidth"),m='<a href="https://www.instagram.com/'+o+'/" aria-label="Instagram 1" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-1.jpg" alt=""></a><a href="https://www.instagram.com/'+o+'/" aria-label="Instagram 2" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-2.jpg" alt=""></a><a href="https://www.instagram.com/'+o+'/" aria-label="Instagram 3" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-3.jpg" alt=""></a><a href="https://www.instagram.com/'+o+'/" aria-label="Instagram 4" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-4.jpg" alt=""></a><a href="https://www.instagram.com/'+o+'/" aria-label="Instagram 5" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-5.jpg" alt=""></a><a href="https://www.instagram.com/'+o+'/" aria-label="Instagram 6" target="_blank" rel="noopener"><img src="https://www.ku.dk/statisk-grafik/instagrambilleder/instagram-6.jpg" alt=""></a>',p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function w(){var e;u("a",d).each(function(a,t){a%s==0&&(e=u("<div/>").addClass(l).appendTo(d)),e.append(t)});u("."+l).wrapInner("<div class='inner'></div>"),d.rotator()}function h(){n.hide(),u(m).each(function(a,t){return d.append(u(this)),a<c-1}),d.addClass("instagram_fallback"),w()}function f(s){if(!0!=i){if(d.empty(),s){var a="https://www.instagram.com/"+encodeURIComponent(o)+"?__a=1";u.ajax({url:a,type:"GET",crossDomain:!0}).done(function(a){console.log(a),n.hide();var o=a.graphql.user.edge_owner_to_timeline_media.edges;o?(u.each(o,function(a,t){var e=o[a].node.thumbnail_src,n=o[a].node.shortcode,r=void 0===o[a].node.edge_media_to_caption.edges[0]?a+": No caption":o[a].node.edge_media_to_caption.edges[0].node.text,i=r?function(a){return a.replace(/[&<>"'`=\/]/g,function(a){return p[a]})}(r.substring(0,50)+"..."):"";return d.append('<a tabindex="-1" href="https://www.instagram.com/p/'+n+' " target="_blank" rel="noopener" aria-label="'+i+'"><img src="'+e+'" alt="'+s+'"></a>'),a<c-1}),w()):h()}).fail(function(a,t,e){h(),console.log(a.responseText)})}}else e.empty()}u.fn.rotator=function(o){o=u.extend({blocks:e.find("."+l),speed:6e3,fadeSpeed:800},o);var s=function(t){var e=u(o.blocks,t),n=e.length,r=-1;e.fadeIn(o.fadeSpeed);var i=setInterval(function(){r++;var a=e.eq(r);r==n&&(clearInterval(i),s(t)),a.index()!=n-1&&a.fadeOut(o.fadeSpeed)},o.speed)};return this.each(function(){var a=u(this);!function(a){var t=u(o.blocks,a).length;u(o.blocks,a).each(function(){t--,u(this).css("zIndex",t)})}(a),s(a)})},r?f(r):console.log('Add Instagram account to search for and number of images to display using data-account="" and data-images="" on the container'),window.onresize=function(){var a=u("body").prop("clientWidth");a!==g&&(n.show(),clearTimeout(t),t=setTimeout(function(){f(r)},200),g=a)}})}(jQuery);
//# sourceMappingURL=instagramByAccount.min.js.map